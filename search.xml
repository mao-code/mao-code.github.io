<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>CC-æ²ˆæµ¸å¼ç·šä¸Šé€›è¡—APP-ç³»çµ±èˆ‡æŠ€è¡“ä»‹ç´¹</title>
    <url>/posts/2012237495/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æ¥çºŒä¸Šä¸€ç¯‡çš„æ–‡ç« ï¼Œé€™ç¯‡æ–‡ç« æœƒè‘—é‡ä»‹ç´¹é€™å€‹ç³»çµ±<br>ä»¥ä¸‹æ˜¯æˆ‘åœ¨YouTubeä¸Šå°é€™å€‹å°ˆæ¡ˆçš„ä»‹ç´¹èˆ‡Demoï¼š</p>
<iframe
    src="https://www.youtube.com/embed/aMGnyI2Xe04">
</iframe>
<span class="exturl" data-url="aHR0cHM6Ly9kcml2ZS5nb29nbGUuY29tL2ZpbGUvZC8xTmVDRGk0dWFmQ3UtcF9iVDE2cERLSm50SXluN3FzeUYvdmlldz91c3A9c2hhcmluZw==">Proposal Link<i class="fa fa-external-link-alt"></i></span>

<p>é€™ç¯‡æ–‡ç« çš„å…§å®¹æœƒèˆ‡å½±ç‰‡å¾ˆåƒï¼Œä¸»è¦åˆ†ç‚º<strong>å‹•æ©Ÿèˆ‡ä»‹ç´¹ã€é‡é»åŠŸèƒ½ç°¡ä»‹ã€ç³»çµ±æ¶æ§‹èˆ‡æŠ€è¡“</strong>çš„é †åºä»‹ç´¹<br>ç³»çµ±åŠŸèƒ½Demo, é‚„è«‹è§€çœ‹å½±ç‰‡ä»‹ç´¹</p>
<span id="more"></span>
<p><img data-src="/images/posts/CC-project-demo/1.png" 
style="width: 90%; margin: 15px auto;"></p>
<h2 id="å‹•æ©Ÿèˆ‡ä»‹ç´¹"><a href="#å‹•æ©Ÿèˆ‡ä»‹ç´¹" class="headerlink" title="å‹•æ©Ÿèˆ‡ä»‹ç´¹"></a>å‹•æ©Ÿèˆ‡ä»‹ç´¹</h2><img data-src="/images/posts/CC-project-demo/2.png" style="width: 70%; margin: 15px auto;">
é¦–å…ˆæˆ‘å€‘ä¸»è¦çš„TAä¹‹ä¸€æ˜¯ç·šä¸Šé€›è¡—æ—, é‡å°é€™å€‹æ—ç¾¤æˆ‘å€‘çµ±æ•´å‡ºç°¡å–®çš„å…©é»ï¼šç¬¬ä¸€, ä»–å€‘åœ¨ç·šä¸Šç€è¦½æˆ–æ»‘å•†å“æ™‚, é€šå¸¸æ²’æœ‰ç‰¹å®šçš„æ¶ˆè²»ç›®çš„, åªæ˜¯æƒ³è¦æ»‘æ»‘çœ‹çœ‹, ç„¡ç›®çš„çš„ç€è¦½è¡Œç‚º, ç¬¬äºŒ, é€™ç¨®è¡Œç‚ºä¸»è¦æ˜¯ä»¥æ¶ˆé£ã€ç²å¾—æ¨‚è¶£ç‚ºç›®çš„, è€Œä¸ä¸€å®šæ˜¯çœŸçš„æƒ³è¦è²·å•†å“

<hr>
<img data-src="/images/posts/CC-project-demo/3.png" style="width: 70%; margin: 15px auto;">
æ ¹æ“šä¸Šé¢çš„æ—ç¾¤è¨­å®š, æˆ‘å€‘çš„å°ˆæ¡ˆä¸»è¦æœƒfocusåœ¨è§£æ±ºæˆ–æ»¿è¶³ä¸‹é¢çš„å•é¡Œ, ç¬¬ä¸€, æˆ‘å€‘æ˜¯é‡å°ç„¡ç›®çš„æ€§çš„æ¶ˆè²»æƒ…å¢ƒåº•ä¸‹çš„éœ€æ±‚, ç¬¬äºŒ, æˆ‘å€‘å¸Œæœ›å¸¶çµ¦ä½¿ç”¨è€…æ²ˆæµ¸å¼çš„é«”é©—, æ‰€è¬‚çš„æ²ˆæµ¸å¼é«”é©—, å°±æ˜¯åœ¨èˆ’æœä¸”ä¸å—å¹²æ“¾çš„ç‹€æ…‹ä¸‹, æ¥æ”¶è‡ªå·±æœ‰èˆˆè¶£çš„è³‡è¨Š, ä»¥æ­¤è®“ä½¿ç”¨è€…èƒ½åœ¨æˆ‘å€‘é€™å€‹APPä¸Šåšæ¶ˆé£ã€æ®ºæ™‚é–“çš„å‹•ä½œ, é€™éº¼åšçš„ç›®çš„å¾ˆå¤§ä¸€éƒ¨åˆ†æ˜¯ç‚ºäº†æ•æ‰ä½¿ç”¨è€…çš„å¾®æ™‚åˆ», é€™äº›å¾®æ™‚åˆ»çš„æ•¸æ“šå¯ä»¥ä»£è¡¨ä½¿ç”¨è€…ä¸åŒæ™‚åˆ»çš„å–œå¥½æˆ–è€…æ±ºç­–, ç¬¬å››ï¼Œæˆ‘å€‘é€™å€‹APPä¹Ÿæœƒç„æº–ç›´æ’­çš„å¸‚å ´èˆ‡ç›´æ’­å¹³å°åˆä½œï¼Œè€Œé€™äº›ç›´æ’­ä¸»çš„ç…©æƒ±ï¼Œä¾¿æ˜¯ä¸‹æ’­å¾Œç„¡æ³•æŒçºŒå‰µé€ æ”¶å…¥ï¼Œå› æ­¤æˆ‘å€‘é™¤äº†å¸Œæœ›èƒ½å»¶é•·å•†å“çš„ç”Ÿå‘½é€±æœŸå¤–ï¼Œä¹Ÿå¯ä»¥é€éæ•æ‰ä½¿ç”¨è€…è¡Œç‚ºä¾†æä¾›ç›´æ’­ä¸»ç¼ºä¹çš„Consumer Insight

<hr>
<img data-src="/images/posts/CC-project-demo/4.png" style="width: 70%; margin: 15px auto;">
ç‚ºäº†é”æˆä»¥ä¸Šçš„ç›®çš„ï¼Œæˆ‘å€‘ä¸»è¦æœ‰é€™å¹¾é …æ‰‹æ®µï¼Œç¬¬ä¸€, ç ”ç©¶æ¨è–¦æ¼”ç®—æ³•èˆ‡æ•æ‰ä½¿ç”¨è€…è¡Œç‚ºï¼Œé€éä½¿ç”¨è€…ä¸åŒæ™‚åˆ»çš„è¡Œç‚ºæ•¸æ“šä¾†ä½œç‚ºæ¨è–¦çš„ä¾æ“šï¼Œè€Œéå‚³çµ±çš„é›»å•†ä½¿ç”¨æ­·å²ç´€éŒ„ä¾†åšæ¨è–¦ï¼Œä»¥æ¬¡è®“ä½¿ç”¨è€…èƒ½å¤ åœ¨æ¯æ™‚æ¯åˆ»æ¥æ”¶æœ‰èˆˆè¶£çš„è³‡è¨Šï¼Œé”åˆ°æ²ˆæµ¸å¼çš„é«”é©—ã€‚ç¬¬äºŒï¼Œé€éç°¡æ½”çš„ä»‹é¢ï¼Œé™ä½ä½¿ç”¨è€…ç€è¦½æ™‚çš„å£“åŠ›ï¼Œè®“ä½¿ç”¨è€…æ›´é¡˜æ„åœç•™åœ¨APPä¸Šï¼Œç¬¬ä¸‰ï¼Œé€éåˆ†äº«è²¼æ–‡ã€è¿½è¹¤ã€è©•è«–ç­‰ç­‰çš„ç¤¾ç¾¤æ©Ÿåˆ¶ï¼Œè®“ä½¿ç”¨è€…èƒ½å¤ äº†è§£è¦ªæœ‹å¥½å‹å€‘æœ‰èˆˆè¶£æˆ–è€…å¥½è©•çš„å•†å“ï¼Œä¹Ÿèƒ½å¤ äº«å—ç¤¾ç¾¤çš„æ¨‚è¶£ï¼Œå¢åŠ APPçš„é»è‘—åº¦ï¼Œæœ€å¾Œï¼Œé€éAPPä¸Šç¨®ç¨®æ•æ‰ä½¿ç”¨è€…è¡Œç‚ºæ•¸æ“šçš„æ©Ÿåˆ¶ï¼Œå¯ä»¥å°‡é€™äº›æ•¸æ“šæä¾›çµ¦èˆ‡æˆ‘å€‘åˆä½œçš„ç¬¬ä¸‰æ–¹å» å•†ï¼Œè®“å» å•†æ›´äº†è§£ä½¿ç”¨è€…çš„å–œå¥½

<h2 id="é‡é»åŠŸèƒ½ç°¡ä»‹"><a href="#é‡é»åŠŸèƒ½ç°¡ä»‹" class="headerlink" title="é‡é»åŠŸèƒ½ç°¡ä»‹"></a>é‡é»åŠŸèƒ½ç°¡ä»‹</h2><img data-src="/images/posts/CC-project-demo/5.png" style="width: 70%; margin: 15px auto;">
å†ä¾†ä»‹ç´¹ä¸€äº›é‡é»åŠŸèƒ½çš„ç°¡çŸ­æ•˜è¿°ï¼Œé¦–å…ˆç¬¬ä¸€å€‹æ˜¯æˆ‘å€‘çš„å•†å“è²¼æ–‡ï¼Œä¹Ÿæ˜¯å•†å“çš„ä¸»é«”ï¼Œè²¼æ–‡ç‰¹è‰²ä¸»è¦ä»¥æ»¿æ¿è¨­è¨ˆèˆ‡è³‡è¨Šæ”¶åˆä¾†é”åˆ°é›œè¨Šæœ€å°åŒ–çš„ç›®çš„ï¼Œå¦å¤–å¾Œé¢Demoä¹Ÿæœƒå‘ˆç¾æ¨è–¦å•†å“çš„å½¢å¼ï¼Œèˆ‡ç¾åœ¨çŸ­å½±éŸ³çš„æ–¹å¼å¾ˆåƒï¼Œé€éæ¨è–¦èˆ‡çµ¦äººè€³ç›®ä¸€æ–°çš„å•†å“ï¼Œå¸¶çµ¦ä½¿ç”¨è€…æ®ºæ™‚é–“çš„æ¨‚è¶£ï¼Œå¦å¤–ï¼Œé€éå•†å“è²¼æ–‡ï¼Œä¹Ÿå¯ä»¥æˆç‚ºç›´æ’­ä¸»ä¸‹æ’­å¾ŒéŠ·å”®çš„åˆ©å™¨ï¼Œèˆ‡ä¸€èˆ¬é›»å•†ä¸åŒçš„æ˜¯ï¼Œæˆ‘å€‘ä¸»å‹•æ¨è–¦å•†å®¶å•†å“ï¼Œè€Œä¸”æ˜¯é€éä½¿ç”¨è€…ç•¶å‰çš„è¡Œç‚ºå–œå¥½ï¼Œè€Œä¸æ˜¯è¢«å‹•ç­‰å¾…ä½¿ç”¨è€…æœå°‹æˆ–æ˜¯é€éè³¼è²·ç´€éŒ„ä¾†åšæ¨è–¦

<hr>
<img data-src="/images/posts/CC-project-demo/6.png" style="width: 70%; margin: 15px auto;">
å†ä¾†æ˜¯æˆ‘å€‘çš„ä¸»é é¢ï¼Œé€éæ»‘å¡çš„æ©Ÿåˆ¶å¢åŠ äº’å‹•æ„Ÿï¼Œä¹Ÿå¯ä»¥åŒæ™‚æ•æ‰ä½¿ç”¨è€…è¡Œç‚ºï¼Œä»¥åšåˆ°å³æ™‚æ¨è–¦ï¼Œé€™éº¼åšé™¤äº†å¯ä»¥å¢åŠ æ²ˆæµ¸é«”é©—ï¼Œä¹Ÿå¯ä»¥æ›´å»£æ³›çš„æ¨è–¦å•†å“ï¼Œæé«˜æ›å…‰ç¨‹åº¦

<hr>
<img data-src="/images/posts/CC-project-demo/7.png" style="width: 70%; margin: 15px auto;">
ä¸»é é¢èˆ‡æ¢ç´¢é é¢éƒ½å¯ä»¥é€éä½¿ç”¨è€…çš„æ»‘å¡è¡Œç‚ºã€åœç•™æ™‚é–“èˆ‡é»æ“Šç‡ï¼Œä¾†å½¼æ­¤å„ªåŒ–æ¨è–¦å…§å®¹ï¼Œåšåˆ°é›™å‘æ¨è–¦çš„åŠŸèƒ½

<hr>
<img data-src="/images/posts/CC-project-demo/8.png" style="width: 70%; margin: 15px auto;">
æ¢ç´¢é é¢é™¤äº†æœƒæ¨è–¦ä½¿ç”¨è€…æ„Ÿèˆˆè¶£çš„å•†å“ï¼Œä¹Ÿæœƒéš¨æ©Ÿæ¨è–¦ç›¸é—œå•†å“ï¼Œå¢åŠ æ–°å¥‡åº¦ï¼Œå…¶ä¸­æœ€å¤§å¡Šçš„è²¼æ–‡å‰‡ç‚ºæ¨è–¦åˆ†æ•¸æœ€é«˜çš„å•†å“ï¼Œé€éçŸ©é™£å¼æ¨¹ç‹€çµæ§‹ï¼Œå¸¶çµ¦ä½¿ç”¨è€…ç°¡æ½”èˆ‡å¤§é‡ç€è¦½çš„æ„Ÿå—

<hr>
<img data-src="/images/posts/CC-project-demo/9.png" style="width: 70%; margin: 15px auto;">
CCæä¾›å•†åŸã€è²·å®¶ã€ç›´æ’­ä¸»è¿½è¹¤çš„æ©Ÿåˆ¶ï¼ŒåŠ ä¸Šå€‹äººåŒ–è‡ªå·±çš„å‹•æ…‹ç‰†èˆ‡ç•™è¨€å€ï¼Œå¢åŠ ç¤¾ç¾¤äº’å‹•æ€§ï¼Œä»¥ç¤¾ç¾¤çš„åŠ›é‡å¢åŠ APPçš„é»è‘—åº¦

<hr>
<img data-src="/images/posts/CC-project-demo/10.png" style="width: 70%; margin: 15px auto;">
åˆ†äº«è²¼æ–‡é™¤äº†å¯ä»¥å¢åŠ äº’å‹•çš„æ¨‚è¶£ï¼Œä¹Ÿæ˜¯æä¾›æ¶ˆè²»è€…æ´è¦‹çš„å¤§å¹³å°
æœ€é‡è¦çš„æ˜¯ï¼Œå¯ä»¥è—‰ç”±ç¤¾ç¾¤çš„åŠ›é‡ï¼Œä¸€å‚³ååå‚³ç™¾ï¼Œä¾†è¡ŒéŠ·å•†å“

<h2 id="ç³»çµ±æ¶æ§‹èˆ‡æŠ€è¡“"><a href="#ç³»çµ±æ¶æ§‹èˆ‡æŠ€è¡“" class="headerlink" title="ç³»çµ±æ¶æ§‹èˆ‡æŠ€è¡“"></a>ç³»çµ±æ¶æ§‹èˆ‡æŠ€è¡“</h2><p>å…ˆé™„ä¸Šç³»çµ±æ¶æ§‹åœ–ï¼š<br><img data-src="/images/posts/CC-project-demo/CC_structure.jpeg" style="width: 70%; margin: 15px auto;"></p>
<p>é¦–å…ˆå‰ç«¯ä¸»è¦ç”±Angularå¯«æˆï¼Œæ­é…<strong>æ¨¡çµ„åŒ–èˆ‡ç‰©ä»¶å°å‘è¨­è¨ˆï¼Œå¢åŠ ç¨‹å¼çš„å¯ç¶­è­·æ€§</strong>ï¼Œæœ€å¾Œé€éPWAåŒ…è£æˆè·¨å¹³å°çš„APP<br>è—‰ç”±Angularèƒ½å¤ æ¨¡çµ„åŒ–èˆ‡å…ƒä»¶åŒ–çš„ç‰¹æ€§ï¼Œæˆ‘å€‘å°‡å„å€‹åŠŸèƒ½åˆ‡åˆ†æˆä¸åŒæ¨¡çµ„ï¼Œæå‡ç¨‹å¼ä½è€¦åˆé«˜å…§èšçš„ç‰¹æ€§ï¼Œå¦å¤–ï¼ŒTokené©—è­‰ã€è·¯ç”±ä¿è­·ã€APIæ””æˆªå™¨ã€è³‡æ–™æ ¼å¼åŒ–Pipelineç­‰ç­‰ï¼Œä¹Ÿéƒ½æŠ½é›¢å‡ºä¾†å¯¦ä½œï¼Œå…¶ä¸­ï¼Œæ ¸å¿ƒçš„å•†æ¥­é‚è¼¯åˆ‡åˆ†åœ¨æˆ‘å€‘çš„Serviceæ¨¡çµ„ï¼Œèˆ‡ç•«é¢é‚è¼¯åˆ†é›¢ï¼Œå†è—‰ç”±ä¾è³´æ³¨å…¥è®“å„æ¨¡çµ„ä½¿ç”¨ï¼Œé€™æ¨£çš„è¨­è¨ˆï¼Œè®“æˆ‘å€‘çš„å°ˆæ¡ˆåœ¨æœªä¾†æ›´æ”¹èˆ‡ç¶­è­·æ“´å……æ™‚éå¸¸çœæ™‚èˆ‡çœåŠ›ã€‚</p>
<p>å¦å¤–ä¸€å€‹ä¸»è¦çš„åŠŸèƒ½æ˜¯æ¨è–¦æ¼”ç®—æ³•ï¼Œæˆ‘å€‘é€éæ¨™ç±¤(label)èˆ‡é›…å¡çˆ¾ç›¸ä¼¼åº¦(Jaccard Similarity)ï¼Œåšäº†ä¸€å€‹Example Basedçš„æ¨è–¦å¼•æ“ï¼Œä¸»è¦æ˜¯ç”¨MongoDB pipelineèˆ‡å¾Œç«¯æ¼”ç®—æ§‹ç¯‰è€Œæˆã€‚</p>
<p>é€™è£¡ä¹Ÿæ˜¯æˆ‘ç¬¬ä¸€æ¬¡ä½¿ç”¨å‰ç«¯æ¡†æ¶ï¼Œä¾†å¯«ä¸€å€‹æ¯”è¼ƒå®Œæ•´çš„å°ˆæ¡ˆï¼Œç”±æ–¼æˆ‘æ˜¯å¾Œç«¯å‡ºèº«ï¼Œæ‰€ä»¥é¸æ“‡ä¸€å€‹è‡ªå·±å¯«èµ·ä¾†æœ€èˆ’æœçš„Angularæ¡†æ¶ï¼Œæœ‰ç¨®åœ¨å¯«å¾Œç«¯çš„è¦ªåˆ‡æ„ŸXDã€‚</p>
<p>å¾Œç«¯ä¸»è¦ç”±NodeJSå¯«æˆï¼Œè³‡æ–™åº«å‰‡ç‚ºMongoDBï¼Œä¸€æ¨£æ˜¯å°‡å„å€‹åŠŸèƒ½é€²è¡Œæ¨¡çµ„åŒ–çš„æ‹†åˆ†ï¼Œèˆ‡è³‡æ–™åº«ç´¢å¼•çš„å„ªåŒ–ï¼Œä»¥åŠæ¨è–¦æ¼”ç®—æ³•çš„å¯¦ç¾ã€‚</p>
<p>å¦å¤–WebServerçš„éƒ¨åˆ†å‰‡æ˜¯ç”±IISä»£ç†ï¼ŒåŠ ä¸ŠGitLab CI&#x2F;CD &amp; GitLab Runneråšåˆ°è‡ªå‹•åŒ–æ•´åˆèˆ‡éƒ¨å±¬çš„åŠŸèƒ½</p>
<style>
.video-container
{
    padding-top: 60% !important;
}
</style>]]></content>
      <categories>
        <category>å°ˆæ¡ˆ</category>
        <category>side project</category>
      </categories>
      <tags>
        <tag>å°ˆæ¡ˆ</tag>
        <tag>side project</tag>
      </tags>
  </entry>
  <entry>
    <title>æ”¿å¤§Googleå­¸ç”Ÿé–‹ç™¼è€…ç¤¾ç¾¤-å¿ƒå¾—ï¼ˆç¬¬ä¸€å­¸æœŸï¼‰</title>
    <url>/posts/277323671/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åœ¨å‰›ä¸Šå¤§äºŒæ™‚ï¼Œé™¤äº†æ‰‹é‚Šå’Œå­¸é•·çš„å°ˆæ¡ˆï¼Œæˆ‘ä¹ŸåƒåŠ äº†æ”¿å¤§çš„Googleå­¸ç”Ÿé–‹ç™¼è€…ç¤¾ç¾¤ã€‚ä¸»è¦æ˜¯å¸Œæœ›é€éææ¡ˆï¼Œ<strong>åˆ©ç”¨ç§‘æŠ€ä¾†è§£æ±ºå•é¡Œ</strong>ï¼Œåœ¨é€™è£¡æˆ‘ä¹Ÿæ·±æ·±æ„Ÿå—åˆ°Googleçš„æ–‡åŒ–ï¼Œé‚£å°±æ˜¯<strong>ä¸æœƒæ€•å»å˜—è©¦ã€ä¸æ€•å»è§£æ±ºå•é¡Œ</strong>ï¼Œæˆ‘ä¹Ÿèªè­˜åœ¨é€™å€‹ç¤¾ç¾¤ä¸­çš„å„å€‹äººæ‰ã€‚åœ¨é€™å€‹ç¤¾ç¾¤ä¸­ï¼Œæˆ‘é™¤äº†æ“”ä»»è‡ªå·±<strong>å°ˆæ¡ˆé ˜å°äºº</strong>çš„è§’è‰²å¤–ï¼Œæˆ‘ä¹Ÿèº«å…¼<strong>å¾Œç«¯æŠ€è¡“é•·</strong>çš„ä»»å‹™ï¼Œä¹Ÿæ˜¯æƒ³è¦ç™¼æ®æˆ‘ç›®å‰æ‰€å­¸åˆ°çš„ã€æœ€æˆç†Ÿçš„å¾Œç«¯çŸ¥è­˜ã€‚é™¤äº†æŠ€è¡“é¢ï¼Œå¦‚ä½•ç®¡ç†ä¸€å€‹åœ˜éšŠã€ä¸€é …å°ˆæ¡ˆï¼Œä¹Ÿæ˜¯ä¸€é–€å¾ˆå¤§çš„èª²é¡Œã€‚å¸Œæœ›åœ¨æœªä¾†å¯ä»¥ç¹¼çºŒæŠŠè‡ªå·±çš„é€™é …å°ˆæ¡ˆåšåˆ°å®Œå–„ï¼Œè§£æ±ºçœŸæ­£çš„å•é¡Œï¼</p>
<span id="more"></span>

<h2 id="å®šä½èˆ‡è·ä½"><a href="#å®šä½èˆ‡è·ä½" class="headerlink" title="å®šä½èˆ‡è·ä½"></a>å®šä½èˆ‡è·ä½</h2><ul>
<li><h3 id="å°ˆæ¡ˆå®šä½"><a href="#å°ˆæ¡ˆå®šä½" class="headerlink" title="å°ˆæ¡ˆå®šä½"></a>å°ˆæ¡ˆå®šä½</h3></li>
</ul>
<p>æˆ‘é€™æ¬¡çš„ææ¡ˆå«åšã€Œæ”¿å¤§é€šNCCUPassã€ï¼Œä»¥<strong>æ”¿å¤§æ ¡åœ’ç”Ÿæ´»ç‚ºå‡ºç™¼é»</strong>ï¼Œæƒ³è¦åšä¸€æ¬¾èƒ½å¤ è§£æ±ºæ”¿å¤§å­¸ç”Ÿç”Ÿæ´»ä¸Šä¸ä¾¿çš„APPï¼Œé€éå°ˆæ¡ˆçµ„çš„è¨è«–èˆ‡èª¿æŸ¥ï¼Œå¸¶ä¾†<strong>æ›´ä¾¿åˆ©ã€è°æ˜èˆ‡æ•¸ä½åŒ–</strong>çš„æ ¡åœ’ç”Ÿæ´»ï¼Œè®“æ ¡åœ’å…§çš„éœ€æ±‚èƒ½å¤ å³æ™‚è¢«æ»¿è¶³ï¼Œä¹Ÿè®“é€™æ¬¾APPèå…¥æ”¿å¤§å­¸ç”Ÿçš„ç”Ÿæ´»ä¸­ï¼Œæˆç‚ºæ”¿å¤§æ ¡åœ’å…§ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ï¼Œå› æ­¤ï¼Œã€Œæ”¿å¤§é€š-NCCUPassã€çš„ææ¡ˆå°±æ­¤èª•ç”Ÿ</p>
<hr>
<p>ä¸‹é¢æ˜¯æˆ‘å€‘ç¬¬ä¸€æ¬¡æœŸæœ«ç™¼è¡¨çš„æµ·å ±å’Œç…§ç‰‡<br>æµ·å ±å…§å‘ˆç¾çš„æ˜¯æˆ‘å€‘è¦åŠƒã€ä¹Ÿæ­£åœ¨é–‹ç™¼çš„åŠŸèƒ½<br><img data-src="/images/posts/GDSC-NCCUPass-experience-1/poster.jpg" 
style="width: 70%; margin: 15px auto;"></p>
<hr>
<p>é€™å€‹æ˜¯æœŸæœ«ç™¼è¡¨ç•¶å¤©çš„æ”¤ä½ä»‹ç´¹ç…§ç‰‡<br><img data-src="/images/posts/GDSC-NCCUPass-experience-1/img4.jpg" 
style="width: 70%; margin: 15px auto;"></p>
<p><img data-src="/images/posts/GDSC-NCCUPass-experience-1/img2.JPG" 
style="width: 70%; margin: 15px auto;"></p>
<p><img data-src="/images/posts/GDSC-NCCUPass-experience-1/img1.JPG" 
style="width: 70%; margin: 15px auto;"></p>
<p>åƒèˆ‡è­‰æ›¸<br><img data-src="/images/posts/GDSC-NCCUPass-experience-1/GDSC_certificate.png" 
style="width: 70%; margin: 15px auto;"></p>
<hr>
<ul>
<li><h3 id="è·ä½"><a href="#è·ä½" class="headerlink" title="è·ä½"></a>è·ä½</h3></li>
</ul>
<p>åœ¨é€™å€‹å°ˆæ¡ˆä¸­ï¼Œæˆ‘æ“”ä»»<strong>Project Leader(å°ˆæ¡ˆä¸»æŒäºº)<strong>ï¼Œèˆ‡</strong>Backend Tech-Lead(å¾Œç«¯æŠ€è¡“é•·)<strong>çš„èº«ä»½ï¼Œå¸¶é ˜ç¸½å…±</strong>11äººçš„åœ˜éšŠ</strong>ï¼Œåœ¨æˆ‘å€‘é€™å€‹åœ˜éšŠä¸­ï¼Œä¸»è¦åˆ†æˆå››çµ„ï¼Œå‰ç«¯ã€å¾Œç«¯ã€UI&#x2F;UXã€æ–‡æ›¸ï¼Œé™¤äº†è² è²¬ä¸»è¦çš„å¾Œç«¯æŠ€è¡“ï¼Œä¹Ÿè¦å¸¶é ˜å¾Œç«¯çš„çµ„å“¡å€‘æå‡å¯¦åŠ›ã€å”èª¿èˆ‡è¦åŠƒã€‚ä»¥å°ˆæ¡ˆé ˜å°äººçš„è§’åº¦ä¾†çœ‹ï¼Œé™¤äº†éœ€è¦<strong>è¦åŠƒæ•´å€‹å°ˆæ¡ˆçš„é€²åº¦èˆ‡èµ°å‘å¤–ï¼Œä¹Ÿè¦ç›£ç£é€²åº¦ã€å”èª¿å„çµ„ã€äººéš›æºé€šç­‰ç­‰</strong>ï¼Œé™¤äº†åˆ©ç”¨å„ç¨®å°ˆæ¡ˆç®¡ç†çš„å·¥å…·å¤–ï¼Œä¹Ÿè¦æ’°å¯«å„ç¨®æ–‡ä»¶èˆ‡æµç¨‹åœ–ï¼Œè€å¯¦èªªæ»¿ç´¯çš„XDã€‚ä½†ä¹Ÿæ˜¯é‡åˆ°ä¸€ç¾¤é¡˜æ„è·Ÿéš¨æˆ‘çš„éšŠå‹å€‘ï¼Œä¸€èµ·æˆé•·ï¼ŒçœŸçš„éå¸¸å¾—æ„Ÿè¬ä»–å€‘ğŸ™</p>
<h2 id="æŠ€è¡“"><a href="#æŠ€è¡“" class="headerlink" title="æŠ€è¡“"></a>æŠ€è¡“</h2><ul>
<li><h3 id="ç³»çµ±æ¶æ§‹åœ–"><a href="#ç³»çµ±æ¶æ§‹åœ–" class="headerlink" title="ç³»çµ±æ¶æ§‹åœ–"></a>ç³»çµ±æ¶æ§‹åœ–</h3></li>
</ul>
<p>ä¸‹é¢æ˜¯æˆ‘å€‘çš„ç³»çµ±æ¶æ§‹åœ–ï¼Œå› ç‚ºæˆ‘æ˜¯è² è²¬å¾Œç«¯çš„éƒ¨åˆ†ï¼Œæ‰€ä»¥æœƒè‘—é‡ç•«å¾Œç«¯çš„æ¶æ§‹<br><img data-src="/images/posts/GDSC-NCCUPass-experience-1/NCCUPass-Structure.jpg" 
style="width: 70%; margin: 15px auto;"></p>
<ul>
<li><h3 id="å¾Œç«¯æŠ€è¡“ç´°ç¯€"><a href="#å¾Œç«¯æŠ€è¡“ç´°ç¯€" class="headerlink" title="å¾Œç«¯æŠ€è¡“ç´°ç¯€"></a>å¾Œç«¯æŠ€è¡“ç´°ç¯€</h3></li>
</ul>
<p>æ ¹æ“šä¸Šé¢çš„æ¶æ§‹åœ–ï¼Œæˆ‘å€‘çš„å°ˆæ¡ˆä¸»è¦éƒ¨ç½²åœ¨Ubuntuçš„ä¸»æ©Ÿä¸Šï¼Œæ‰€æœ‰çš„æœå‹™åˆ©ç”¨Docker Composeçµ±ä¸€å»ºç«‹ï¼Œå¦å¤–é‚„æœ‰åˆ©ç”¨GitLab Runneråšåˆ°è‡ªå‹•åŒ–æ•´åˆèˆ‡è‡ªå‹•åŒ–éƒ¨å±¬çš„åŠŸèƒ½ã€‚å¾Œç«¯ç¨‹å¼æ˜¯ç”±.NET C#æ’°å¯«ï¼Œé€™é‚Šæˆ‘ä½¿ç”¨çš„æ˜¯Software Layer Architecture Pattern(è»Ÿé«”åˆ†å±¤æ¶æ§‹)ï¼Œçµåˆå„ç¨®Design Patternå†åŠ ä¸Šè‡ªå·±çš„ä¸€äº›è®Šå½¢ï¼Œè³‡æ–™åº«æ˜¯ä½¿ç”¨MongoDBçš„Replica-Setï¼Œä¹Ÿæœ‰ä½¿ç”¨Redisåšå¿«å–ï¼Œç…§ç‰‡å’Œä¸€äº›å…¬é–‹çš„æª”æ¡ˆä¸»è¦æ”¾åœ¨æˆ‘å€‘çš„File Serverä¸Šã€‚å…¶ä»–æŠ€è¡“ç´°ç¯€æˆ‘å°±åˆ—åœ¨ä¸‹é¢ï¼Œæƒ³çœ‹çš„äººå¯ä»¥åƒè€ƒä¸€ä¸‹XD</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">- Software Layer Architecture pattern (å¤šå±¤)</span><br><span class="line">- Repository pattern</span><br><span class="line">- Unit of Work pattern</span><br><span class="line">- Mediator pattern &amp; CQRS</span><br><span class="line">- Password Salting and Encryption</span><br><span class="line">- JWT &amp; RBAC</span><br><span class="line">- Automapper</span><br><span class="line">- Exception handleræŠ½é›¢</span><br><span class="line">- Dapper &amp; EF combination</span><br><span class="line">- Redis (Cache)</span><br><span class="line">- Docker Networking</span><br><span class="line">- Docker Volume</span><br><span class="line">- Docker hub</span><br><span class="line">- appsettings çµ„æ…‹åˆ‡æ›</span><br><span class="line">- MongoDB replica-set</span><br><span class="line">    - key-file (internal authentication)</span><br><span class="line">- Git å¤šäººå”ä½œ</span><br><span class="line">- Swagger / OpenAPI</span><br><span class="line">- Docker File Server</span><br><span class="line">- Docker mongoDB backup daily</span><br><span class="line">- Docker Compose</span><br><span class="line">- JMeterå£“åŠ›æ¸¬è©¦</span><br><span class="line">- GC modeå€åˆ¥(Workstation, Server)</span><br><span class="line">- SignalR é›™å‘æºé€š</span><br><span class="line">- æ¸¬è©¦ (K6 stress testing, )</span><br><span class="line">- è‡ªå‹•åŒ–ç™¼é€Email (python selenium)</span><br><span class="line">- SSH with Linux server</span><br><span class="line">- FCM (to push device notification)</span><br><span class="line">- Linux server</span><br><span class="line">- Cloudflare domain and SSL/TLS</span><br><span class="line">- Nginx  (on server and on docker)</span><br><span class="line">    - redirect (setting files)</span><br><span class="line">    - ssl setting(certificate, key)</span><br><span class="line">- Shell scriptè‡ªå‹•å‚™ä»½è³‡æ–™åº«</span><br></pre></td></tr></table></figure>
<p>ä¹‹å¾Œä¹Ÿæœƒä¸€ç›´æ–°å¢ï¼Œå› ç‚ºç¾åœ¨è™•æ–¼å°ˆæ¡ˆé–‹ç™¼çš„åˆæœŸã€‚</p>
<h2 id="çµèª"><a href="#çµèª" class="headerlink" title="çµèª"></a>çµèª</h2><p>æœ€å¾Œï¼Œé€™å€‹å°ˆæ¡ˆé›–ç„¶åªæ˜¯åœ¨ç™¼å±•åˆæœŸï¼Œä½†æˆ‘å¸Œæœ›æœªä¾†å¯ä»¥ç™¼å±•åˆ°æˆ‘é æƒ³çš„æ¨£å­ï¼Œä¹Ÿéå¸¸æ„Ÿè¬ä¸€è·¯é¡˜æ„è·Ÿéš¨æˆ‘ã€å¹«åŠ©æˆ‘çš„éšŠå‹å€‘ï¼Œå–®æ‰“ç¨é¬¥çœŸçš„æ¯”ä¸ä¸Šåœ˜éšŠåˆä½œğŸ‘ï¼Œä¹Ÿå¸Œæœ›å„ä½æœªä¾†ä¹Ÿå¯ä»¥ç¹¼çºŒå¹«åŠ©æˆ‘å•¦ï¼Œç¾åœ¨æ‰“åˆ†äº«æ–‡å¯èƒ½é‚„å¤ªæ—©ï¼Œä½†æˆ‘å°±æ˜¯æƒ³è¦è¶å­¸æœŸæœ«è¶•å¿«è¨˜éŒ„ä¸€ä¸‹å“ˆå“ˆ</p>
]]></content>
      <categories>
        <category>å°ˆæ¡ˆ</category>
        <category>GDSC</category>
        <category>side project</category>
        <category>NCCUPass</category>
        <category>å¿ƒå¾—</category>
      </categories>
      <tags>
        <tag>å°ˆæ¡ˆ</tag>
        <tag>GDSC</tag>
        <tag>NCCUPass</tag>
      </tags>
  </entry>
  <entry>
    <title>æ”¿å¤§Googleå­¸ç”Ÿé–‹ç™¼è€…ç¤¾ç¾¤-æ”¿å¤§é€šNCCUPass-å¿ƒå¾— (ç¬¬äºŒå­¸æœŸ)</title>
    <url>/posts/3042436019/</url>
    <content><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>ç¹¼ä¸Šç¯‡<a href="https://mao-code.github.io/posts/277323671/#more">GDSCçš„å¿ƒå¾—æ–‡</a>ï¼Œé€™ç¯‡æˆ‘æœƒä»‹ç´¹æˆ‘å€‘ä¸‹å­¸æœŸçš„é–‹ç™¼ç¶“æ­·ã€å¾—çã€å°ˆæ¡ˆç°¡ä»‹ä»¥åŠæœªä¾†é€™å€‹å°ˆæ¡ˆçš„èµ°å‘ï¼Œå±¬æ–¼ä¸€å€‹å°å°çš„ç´€éŒ„å¿ƒå¾—æ–‡ï¼</p>
<span id="more"></span>

<h1 id="å°ˆæ¡ˆ"><a href="#å°ˆæ¡ˆ" class="headerlink" title="å°ˆæ¡ˆ"></a>å°ˆæ¡ˆ</h1><h2 id="ç°¡ä»‹"><a href="#ç°¡ä»‹" class="headerlink" title="ç°¡ä»‹"></a>ç°¡ä»‹</h2><p>æ”¿å¤§é€š - NCCUPass åœ˜éšŠç†±åˆ‡æ‡·æŠ±è‘—é‡å¡‘æ ¡åœ’é«”é©—çš„å¤¢æƒ³ï¼Œé»ç‡ƒå­¸ç”Ÿçš„ç†±æƒ…å’Œå‰µé€ åŠ›ï¼Œä»¥å…±åŒæ‰“é€ ä¸€å€‹å……æ»¿æ´»åŠ›ã€é€£çµåŠ›å’Œå‰µæ–°åŠ›çš„æ ¡åœ’ç”Ÿæ´»ã€‚ç¶“ç”±æ·±å…¥æ ¡åœ’çš„äººéš›äº¤æµèˆ‡è§€å¯Ÿï¼Œæˆ‘å€‘ç™¼ç¾å­¸ç”Ÿé¢å°è‘—ç¨®ç¨®ç”Ÿæ´»ä¸Šçš„ä¸ä¾¿èˆ‡å›°é›£ï¼Œç„¶è€Œç›®å‰é®®å°‘æœ‰å°ˆé–€ç‚ºå­¸ç”Ÿæ‰“é€ çš„è§£æ±ºæ–¹æ¡ˆã€‚å­¸ç”Ÿé–“çš„ç·šä¸‹äº’å‹•èˆ‡çœŸå¯¦è¯ç¹«æ—¥ç›Šæ¸›å°‘ï¼Œå°è‡´é›£ä»¥æ‰¾åˆ°åŒå­¸å¹«å¿™æˆ–çµ„åœ˜åˆä½œçš„æ©Ÿæœƒã€‚æ­¤å¤–ï¼Œåˆæ™šé¤æ™‚çš„äººæ½®æ¹§å…¥æ ¡åœ’å‘¨é‚Šé¤å»³ï¼Œæ›´å¸¶ä¾†äº†ç„¡æ³•å³æ™‚é»é¤çš„å›°æ“¾ã€‚é€™äº›ç¾æ³è®“æˆ‘å€‘çœ‹åˆ°ä¸€å€‹ç¨ç‰¹çš„å¥‘æ©Ÿï¼Œæˆ‘å€‘æ±ºå¿ƒä»¥ã€Œæ”¿å¤§é€š - NCCUPass ã€ APP çš„å½¢å¼ä¾†åŒ–è§£é€™äº›å›°å¢ƒã€‚</p>
<p>ã€Œæ”¿å¤§é€š - NCCUPass ã€ä¸åƒ…æä¾›æ”¿å¤§å­¸ç”Ÿä¸€å€‹é›†ç¤¾äº¤ã€å¯¦ç”¨å’Œå‰µæ–°æ–¼ä¸€èº«çš„å¹³å°ï¼Œæ›´æ˜¯ä¸€å€‹ç¶œåˆæ€§çš„æ‡‰ç”¨ç¨‹å¼ï¼Œæ—¨åœ¨åŠ å¼·ä»–å€‘çš„æ ¡åœ’é«”é©—ã€‚æˆ‘å€‘å¸Œæœ›é€™å€‹ APP èƒ½æˆç‚ºè§£æ±ºæ ¡åœ’ç”Ÿæ´»é›£é¡Œçš„å¾—åŠ›å¹«æ‰‹ï¼</p>
<p>åœ¨ç¤¾åœ˜ã€Œæ”¿å¤§ Google å­¸ç”Ÿé–‹ç™¼è€…ç¤¾ç¾¤ã€çš„æ“è­·ä¸‹ï¼Œæˆ‘å€‘åŒ¯èšå„é ˜åŸŸçš„ç²¾è‹±ï¼Œå‡èšé–‹æ”¾åˆ†äº«çš„å¿ƒæ…‹ï¼Œæ”œæ‰‹å…±å‰µé€™å€‹æ”¹è®Šå­¸ç”Ÿç”Ÿæ´»çš„å¶„æ–° APP ï¼æ”¿å¤§åªæ˜¯æˆ‘å€‘çš„ç¬¬ä¸€å¡Šç‰ˆåœ–ï¼Œæˆ‘å€‘çš„æœªä¾†ç›®æ¨™æ˜¯å½±éŸ¿å…¨åœ‹çš„å¤§å­¸ç”Ÿï¼Œç‚ºä»–å€‘å¸¶ä¾†æ›´åŠ è±å¯Œã€æ›´åŠ ä¾¿åˆ©çš„æ ¡åœ’é«”é©—ï¼</p>
<h2 id="ç›®å‰åŠŸèƒ½ç°¡ä»‹"><a href="#ç›®å‰åŠŸèƒ½ç°¡ä»‹" class="headerlink" title="ç›®å‰åŠŸèƒ½ç°¡ä»‹"></a>ç›®å‰åŠŸèƒ½ç°¡ä»‹</h2><h3 id="å­¸ç”Ÿä»»å‹™åŠŸèƒ½-å¢å¼·æ ¡åœ’äº’å‹•é«”é©—"><a href="#å­¸ç”Ÿä»»å‹™åŠŸèƒ½-å¢å¼·æ ¡åœ’äº’å‹•é«”é©—" class="headerlink" title="å­¸ç”Ÿä»»å‹™åŠŸèƒ½ - å¢å¼·æ ¡åœ’äº’å‹•é«”é©—"></a>å­¸ç”Ÿä»»å‹™åŠŸèƒ½ - å¢å¼·æ ¡åœ’äº’å‹•é«”é©—</h3><ul>
<li>å‹•æ©Ÿç™¼æƒ³<ul>
<li>ç¼ºä¹ç·šä¸‹äº’å‹•èˆ‡çœŸå¯¦è¯ç¹«ï¼š<br>æˆ‘å€‘æ³¨æ„åˆ°è¶Šä¾†è¶Šå¤šçš„å¤§å­¸ç”Ÿåœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­ä¾è³´æ•¸ä½å¹³å°å’Œç¤¾äº¤åª’é«”ï¼Œè€Œéèˆ‡äººé¢å°é¢çš„äº’å‹•ã€‚é€™ç¨®ç¾è±¡åœ¨æ ¡åœ’ä¸­å°¤ç‚ºæ˜é¡¯ï¼Œæ¯”èµ·åœ¨ç¾å¯¦ä¸­é€²è¡ŒçœŸå¯¦çš„äº’å‹•ï¼Œå­¸ç”Ÿæ›´å‚¾å‘æ–¼åœ¨è™›æ“¬ä¸–ç•Œä¸­å»ºç«‹ç¤¾äº¤é€£çµã€‚æˆ‘å€‘å°å¤§å­¸ç”Ÿé€²è¡Œè¨ªè«‡ã€å•å·èª¿æŸ¥å’Œç¤¾äº¤åª’é«”åˆ†æï¼Œæ”¶é›†äº†å¤§é‡çš„æ•¸æ“šå’Œåé¥‹ã€‚é€™äº›æ•¸æ“šæ­ç¤ºäº†å¤§å­¸ç”Ÿå…§å¿ƒæ·±è™•å°é¢å°é¢äº’å‹•çš„æ¸´æœ›ï¼Œä»¥åŠæ›´çœŸå¯¦çš„äº¤æµï¼Œæ›´æ·±åˆ»çš„æƒ…æ„Ÿï¼Œå»åœ¨ç·šä¸‹äº’å‹•ä¸­é‡åˆ°äº†ç¨®ç¨®æŒ‘æˆ°èˆ‡é™åˆ¶ã€‚åŸºæ–¼é€™äº›è³‡è¨Šï¼Œæˆ‘å€‘æ›´åŠ ç¢ºå®šç¼ºä¹ç·šä¸‹äº’å‹•å’ŒçœŸå¯¦è¯ç¹«çš„å•é¡Œé€ æˆå¤§å­¸ç”Ÿçš„å›°æ“¾ï¼Œé€™äº›æ•¸æ“šèˆ‡å¿ƒéˆå…±é³´ï¼Œæ¿€ç™¼äº†æˆ‘å€‘çš„éˆæ„Ÿã€‚æˆ‘å€‘æ·±ä¿¡ï¼Œç¼ºä¹ç·šä¸‹äº’å‹•å’ŒçœŸå¯¦è¯ç¹«çš„å•é¡Œï¼Œä¸åƒ…æ˜¯å€‹äººçš„å›°æ“¾ï¼Œæ›´æ˜¯ä¸€ç¨®ç¤¾æœƒç¾è±¡ï¼Œéœ€è¦æˆ‘å€‘æ”œæ‰‹æ”¹è®Šã€‚æ–¼æ˜¯ï¼Œæˆ‘å€‘æŠ•å…¥å¿ƒè¡€ï¼Œé–‹ç™¼äº†ä¸€å€‹ç¨ç‰¹çš„è§£æ±ºæ–¹æ¡ˆâ€”â€”ä¸€å€‹èƒ½åœ¨ç¾å¯¦ä¸–ç•Œä¸­ä¿ƒé€²äººèˆ‡äººä¹‹é–“æœ‰æ„ç¾©é€£çµçš„å¥‡å¦™å·¥å…·ã€‚</li>
</ul>
</li>
<li>åŠŸèƒ½æ•˜è¿°<ul>
<li>é€™å€‹åŠŸèƒ½æ—¨åœ¨ä¿ƒé€²å­¸ç”Ÿä¹‹é–“çš„ç·šä¸‹äº’å‹•ï¼Œä¸¦ç‚ºä»–å€‘æä¾›ä¸€å€‹è‡ªç”±è€Œå¯¦ç”¨çš„å¹³å°ï¼Œèƒ½ä»¥æ­¤å®Œæˆå„ç¨®æœ‰è¶£çš„ä»»å‹™ã€‚å­¸ç”Ÿå€‘å¯ä»¥ç™¼å¸ƒä»»å‹™ï¼Œä¾‹å¦‚ï¼šå¹«å¿™å¸¶å®µå¤œã€ä¸€èµ·æªåœ˜å‡ºå»ç©ç­‰ç­‰ã€‚å­¸ç”Ÿå¯ä»¥åœ¨æˆ‘å€‘çš„ APP ä¸Šè‡ªç”±ç™¼å¸ƒä»»å‹™ï¼Œä¸¦å°‹æ‰¾å…¶ä»–å­¸ç”Ÿä¾†æ¥å—æŒ‘æˆ°ï¼Œæ¯ä¸€æ¬¡çš„ä»»å‹™éƒ½æ˜¯ç¨ç‰¹çš„ç¤¾äº¤æ©Ÿæœƒï¼Œè®“å­¸ç”Ÿå€‘åœ¨æ ¡åœ’ä¸­å»ºç«‹æ›´å¤šçœŸå¯¦çš„è¯ç¹«å’Œå‹èª¼ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œé€™å€‹åŠŸèƒ½é‚„æ“æœ‰ç›¸ç•¶å¤šé¢çš„å¥½è™•ã€‚é¦–å…ˆï¼Œå®ƒé¼“å‹µå­¸ç”Ÿç©æ¥µåƒèˆ‡æ ¡åœ’ç”Ÿæ´»ï¼Œæ“ºè„«ç·šä¸Šä¸–ç•Œçš„æŸç¸›ã€‚é€éèˆ‡å…¶ä»–å­¸ç”Ÿä¸€èµ·å®Œæˆä»»å‹™ï¼Œä»–å€‘å¯ä»¥é«”é©—åˆ°çè²´çš„åœ˜éšŠåˆä½œå’Œäº’åŠ©ç²¾ç¥ã€‚æ­¤å¤–ï¼Œå¦‚æœåŒå­¸å°å½¼æ­¤çš„æœå‹™æ»¿æ„ï¼Œå¯ä»¥æä¾›é‡‘éŒ¢æˆ–å…¶ä»–å›é¥‹ï¼Œè—‰è‘—å°å°è³ºå¤–å¿«çš„æ©Ÿæœƒï¼Œä¹Ÿå¯ä»¥ç´¯ç©ä¸€å®šçš„é‡‘éŒ¢ï¼ç›¸ä¿¡é€™å€‹åˆ¶åº¦èƒ½é¼“å‹µå­¸ç”Ÿç™¼æ®å‰µæ„å’ŒåŠªåŠ›å·¥ä½œï¼ŒåŒæ™‚ä¹Ÿå»ºç«‹ç›¸äº’å°Šé‡å’Œåƒ¹å€¼äº¤æ›çš„æ–‡åŒ–ã€‚</li>
</ul>
</li>
</ul>
<h3 id="é ç´„å¤–å¸¶åŠŸèƒ½èˆ‡åˆé¤å¿«é¸å™¨-ï¼-ç”¨é¤çœæ™‚ç„¡ç­‰å¾…ï¼Œå°ˆå±¬å­¸ç”Ÿçš„ç¾é£Ÿæå‰é è¨‚"><a href="#é ç´„å¤–å¸¶åŠŸèƒ½èˆ‡åˆé¤å¿«é¸å™¨-ï¼-ç”¨é¤çœæ™‚ç„¡ç­‰å¾…ï¼Œå°ˆå±¬å­¸ç”Ÿçš„ç¾é£Ÿæå‰é è¨‚" class="headerlink" title="é ç´„å¤–å¸¶åŠŸèƒ½èˆ‡åˆé¤å¿«é¸å™¨ ï¼ ç”¨é¤çœæ™‚ç„¡ç­‰å¾…ï¼Œå°ˆå±¬å­¸ç”Ÿçš„ç¾é£Ÿæå‰é è¨‚"></a>é ç´„å¤–å¸¶åŠŸèƒ½èˆ‡åˆé¤å¿«é¸å™¨ ï¼ ç”¨é¤çœæ™‚ç„¡ç­‰å¾…ï¼Œå°ˆå±¬å­¸ç”Ÿçš„ç¾é£Ÿæå‰é è¨‚</h3><ul>
<li><p>å‹•æ©Ÿç™¼æƒ³</p>
<ul>
<li><p>é¤é»ä¾›æ‡‰ä¸è¶³ï¼š<br>å°¤å…¶åœ¨åˆæ™šé¤å°–å³°æ™‚æ®µï¼Œé¤å»³ç¶“å¸¸ä¾›ä¸æ‡‰æ±‚ï¼Œå­¸ç”Ÿéœ€è¦èŠ±è²»å¤§é‡çš„æ™‚é–“æ’éšŠç­‰å¾…ã€‚</p>
</li>
<li><p>ç”¨é¤æ™‚é–“ç·Šæ¹Šï¼š<br>å¤§å­¸ç”Ÿçš„ç”Ÿæ´»ç¯€å¥å¿«ï¼Œç¶“å¸¸è¦åœ¨çŸ­æ™‚é–“å…§å®Œæˆåƒé£¯ç­‰åŸºæœ¬æ´»å‹•ï¼Œè€Œåœ¨ç¹å¿™çš„ç”¨é¤æ™‚é–“å…§æ’éšŠç­‰å¾…é¤é»å¾€å¾€æœƒæµªè²»å¯¶è²´çš„æ™‚é–“ã€‚</p>
</li>
<li><p>ç„¡æ³•é ä¼°ç”¨é¤éœ€æ±‚ï¼š<br>åœ¨ç¹å¿™çš„ç”¨é¤æ™‚é–“å…§ï¼Œç„¡æ³•é ä¼°ç”¨é¤éœ€æ±‚ï¼Œå¯èƒ½éœ€è¦é•·æ™‚é–“ç­‰å¾…ï¼Œæˆ–å› æ™‚é–“å¤ªçŸ­è€Œåšäº†ä¸å¤ªç†æƒ³çš„é£Ÿç‰©é¸æ“‡ã€‚</p>
</li>
</ul>
</li>
<li><p>åŠŸèƒ½æ•˜è¿°</p>
<ul>
<li>é€™å€‹åŠŸèƒ½å°‡ç‚ºå¤§å­¸ç”Ÿå€‘å¸¶ä¾†æ¥µé€Ÿã€ä¾¿åˆ©ã€ç„¡ç­‰å¾…çš„ç”¨é¤é«”é©—ï¼æˆ‘å€‘èˆ‡å­¸æ ¡é™„è¿‘çš„åº—å®¶æ”œæ‰‹åˆä½œï¼Œç¢ºä¿å­¸ç”Ÿå€‘ä¸å¿…ç­‰å¾…å¤ªä¹…ã€‚ç¾åœ¨ï¼ŒåŒå­¸åªéœ€è¦æå‰é ç´„å¤–å¸¶ï¼Œä¸‹èª²å¾Œç›´æ¥å‰å¾€åº—å®¶ï¼Œé¤é»æ—©å·²æº–å‚™å¥½ï¼Œè¼•é¬†å–èµ°å³å¯ï¼ä¸å†æµªè²»æ™‚é–“æ’éšŠï¼Œäº«å—è‡ªç”±è‡ªåœ¨çš„ç”¨é¤æ™‚å…‰ï¼é€™å€‹é ç´„å¤–å¸¶åŠŸèƒ½ä¸åƒ…æ˜¯å¤§å­¸ç”Ÿå€‘ç”¨é¤çš„æ™‚å°šé¸æ“‡ï¼Œæ›´æ˜¯å¿™ç¢Œå­¸ç¿’ç”Ÿæ´»çš„å¾—åŠ›åŠ©æ‰‹ã€‚åœ¨ç¹å¿™çš„ç”¨é¤å°–å³°æ™‚æ®µï¼Œå¯ä»¥è¼•é¬†é è¨‚å¿ƒå„€çš„ç¾é£Ÿï¼Œé¿å…ç‚ºäº†å–é¤è€Œè€½èª¤å…¶ä»–é‡è¦äº‹å‹™ã€‚</li>
</ul>
</li>
</ul>
<h2 id="é€£çµ"><a href="#é€£çµ" class="headerlink" title="é€£çµ"></a>é€£çµ</h2><ul>
<li><span class="exturl" data-url="aHR0cHM6Ly9uY2N1cGFzcy5jb20v">å®˜æ–¹ç¶²ç«™<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cuaW5zdGFncmFtLmNvbS9uY2N1cGFzcy8=">IGç²‰å°ˆ<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cubGlua2VkaW4uY29tL2NvbXBhbnkvbmNjdXBhc3M=">LinkedIn<i class="fa fa-external-link-alt"></i></span></li>
</ul>
<h1 id="å¾—ç"><a href="#å¾—ç" class="headerlink" title="å¾—ç"></a>å¾—ç</h1><p>NCCUPassåœ¨ç•¶å¤©çš„æœŸæœ«ç™¼è¡¨æœƒå¾—åˆ°æœ€ä½³äººæ°£å°ˆæ¡ˆå¥¬çš„æ®Šæ¦®ï¼<br><img data-src="/images/posts/2023NCCUPass/GDSC_award.JPG" 
style="width: 70%; margin: 15px auto;"></p>
<p><img data-src="/images/posts/2023NCCUPass/GDSC_award_on_stage.JPG" 
style="width: 70%; margin: 15px auto;"></p>
<p>ç•¶å¤©çš„æœŸæœ«ç™¼è¡¨æœƒï¼š<br><img data-src="/images/posts/2023NCCUPass/GDSC_final.JPG" 
style="width: 70%; margin: 15px auto;"></p>
<h1 id="æŠ€è¡“"><a href="#æŠ€è¡“" class="headerlink" title="æŠ€è¡“"></a>æŠ€è¡“</h1><p>åœ¨ç¶“éä¸€å€‹å­¸æœŸå¾Œï¼Œæˆ‘å€‘ä¹Ÿæ…¢æ…¢æ‹“å±•æŠ€è¡“ç¯„åœï¼Œæœªä¾†ä¹Ÿå°‡å› æ‡‰éœ€æ±‚æ©Ÿå‹•åœ°æ”¹è®Š<br>åœ¨é€™é‚Šå°±åªæ”¾ä¸Šç³»çµ±æ¶æ§‹åœ–ï¼Œä¸è´…è¿°å¤ªå¤šæŠ€è¡“ç´°ç¯€</p>
<h2 id="ç³»çµ±æ¶æ§‹åœ–"><a href="#ç³»çµ±æ¶æ§‹åœ–" class="headerlink" title="ç³»çµ±æ¶æ§‹åœ–"></a>ç³»çµ±æ¶æ§‹åœ–</h2><p><img data-src="/images/posts/2023NCCUPass/NCCUPass_structure.png" 
style="width: 70%; margin: 15px auto;"></p>
<h1 id="æœªä¾†"><a href="#æœªä¾†" class="headerlink" title="æœªä¾†"></a>æœªä¾†</h1><p>æ”¿å¤§æ˜¯æˆ‘å€‘çš„ç¬¬ä¸€å¡Šç‰ˆåœ–ï¼Œæˆ‘å€‘çš„ç›®æ¨™æ˜¯å…¨å°ç£çš„å¤§å­¸ï¼Œç›®å‰å…ˆç©©ç´®ç©©æ‰“åœ¨æ”¿å¤§ç«™ç©©è…³æ­¥ï¼Œåœ¨æ­¤æœŸé–“æœƒç©æ¥µåœ°èˆ‡å…¶ä»–çµ„ç¹”æˆ–ç¤¾åœ˜åˆä½œã€åƒèˆ‡å„é …ç«¶è³½ä»¥åŠåƒåŠ å‰µæŠ•æ©Ÿæ§‹çš„æ´»å‹•ï¼Œæˆ‘å€‘çš„ç†å¿µæ˜¯è®“å¤§å­¸ç”Ÿå€‘å½¼æ­¤é–“çš„é—œä¿‚æ›´åŠ å¯†åˆ‡èˆ‡çœŸå¯¦ï¼Œä½¿ä»–å€‘çš„ç”Ÿæ´»æ›´åŠ æ•¸ä½åŒ–èˆ‡ä¾¿åˆ©ï¼</p>
]]></content>
      <categories>
        <category>å°ˆæ¡ˆ</category>
        <category>GDSC</category>
        <category>side project</category>
        <category>NCCUPass</category>
        <category>å¿ƒå¾—</category>
      </categories>
      <tags>
        <tag>å°ˆæ¡ˆ</tag>
        <tag>GDSC</tag>
        <tag>NCCUPass</tag>
      </tags>
  </entry>
  <entry>
    <title>[Git][Version Control] Git - Introduction</title>
    <url>/posts/2571684277/</url>
    <content><![CDATA[<h1 id="Foreword"><a href="#Foreword" class="headerlink" title="Foreword"></a>Foreword</h1><p>Here is the series of Git full tutorial. I will cover the important and advanced topics that you should know in git. By reading this series, you are able to know the basic(but important) concept of Git and the technique of using git. Hope you can gain a lot ! </p>
<span id="more"></span>

<h1 id="Series-Outline"><a href="#Series-Outline" class="headerlink" title="Series Outline"></a>Series Outline</h1><p>I will follow the outline below in this series.</p>
<ul>
<li>Introduction (this post)</li>
<li>Setup</li>
<li>Version Control &amp; Commands (Basics)</li>
<li>Branching &amp; Merging</li>
<li>Conflict</li>
<li>Collaboration &amp; GitHub</li>
<li>Advanced Topics</li>
</ul>
<hr>
<h1 id="Introduction-to-Git-A-Distributed-Version-Control-System"><a href="#Introduction-to-Git-A-Distributed-Version-Control-System" class="headerlink" title="Introduction to Git: A Distributed Version Control System"></a>Introduction to Git: A Distributed Version Control System</h1><p>Git is a powerful and widely used distributed version control system designed to track changes in software development projects. It provides developers with the ability to collaborate on projects efficiently, manage codebases effectively, and easily track and revert changes.</p>
<h2 id="Distributed-Version-Control-System"><a href="#Distributed-Version-Control-System" class="headerlink" title="Distributed Version Control System"></a>Distributed Version Control System</h2><p>In traditional software development, changes to a codebase were often managed through file-based systems or centralized version control systems. However, these approaches had limitations in terms of collaboration, scalability, and flexibility. Git emerged as a solution to these challenges, offering a distributed and decentralized approach to version control.</p>
<p>The special point of Git is that it supports distributed version control and can also easily share codes among multiple nodes.</p>
<p><img data-src="/images/posts/Git-Series/dist-ver-ctr.png" 
style="width: 70%; margin: 15px auto;"></p>
<h2 id="Branch"><a href="#Branch" class="headerlink" title="Branch"></a>Branch</h2><p>Git manages code based on a tree structure, allowing branches to be created, merged, and deleted, and code versions to be saved at any time.</p>
<p><img data-src="/images/posts/Git-Series/branch.png" 
style="width: 70%; margin: 15px auto;"></p>
<h2 id="Snapshot"><a href="#Snapshot" class="headerlink" title="Snapshot"></a>Snapshot</h2><p>Git saves full snapshots of files, rather than differences, making it easy to restore all historical versions of files.</p>
<p><img data-src="/images/posts/Git-Series/snapshot.jpeg" 
style="width: 70%; margin: 15px auto;"></p>
<hr>
<h1 id="Recommended-Resources"><a href="#Recommended-Resources" class="headerlink" title="Recommended Resources"></a>Recommended Resources</h1><p><a href="%22https://www.youtube.com/watch?v=8JJ101D3knE%22">Mosh Git Tutorail</a></p>
]]></content>
      <categories>
        <category>Git ç³»åˆ—æ–‡</category>
      </categories>
      <tags>
        <tag>Git</tag>
        <tag>Version Control</tag>
      </tags>
  </entry>
  <entry>
    <title>[Git][Version Control] Git - Setup</title>
    <url>/posts/731175240/</url>
    <content><![CDATA[<h1 id="Foreword"><a href="#Foreword" class="headerlink" title="Foreword"></a>Foreword</h1><p>Setting up the environment of Git and some recommended GUI tools.</p>
<span id="more"></span>

<h1 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h1><ol>
<li><p>Install Git with the link below: (with your OS)<br><a href="%22https://git-scm.com/%22">Git official website</a></p>
</li>
<li><p>Type this command to check if it is installed successfully:</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git --version</span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="Configure-Git-type-commands-in-your-shell"><a href="#Configure-Git-type-commands-in-your-shell" class="headerlink" title="Configure Git (type commands in your shell)"></a>Configure Git (type commands in your shell)</h1><ol>
<li><p>Set your user name by running the following command:</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git config --global user.name &quot;Your Name&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Set your email address by running the following command:</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git config --global user.email youremail@example.com</span><br></pre></td></tr></table></figure></li>
<li><p>Set up SSH key (for remote repository access. e.g. GitHub)</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -b 4096 -C &quot;your_email@example.com&quot;</span><br></pre></td></tr></table></figure></li>
</ol>
<ul>
<li><p>Press Enter to accept the default file location and passphrase (or set your own if desired).<br>Once the key is generated, run the following command to add it to the SSH agent</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ssh-add ~/.ssh/id_rsa</span><br></pre></td></tr></table></figure>
</li>
<li><p>Copy the public key to your clipboard by running the following command</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cat ~/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure>
</li>
<li><p>Add the copied public key to your Git hosting platform account (e.g., GitHub, GitLab) by following their documentation.</p>
</li>
<li><p>View your ssh keys</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cd ~/.ssh</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ls</span><br></pre></td></tr></table></figure>
<ul>
<li>Use a text editor or command-line tools (such as cat or less) to view the contents of the .pub files and see the public key information: <figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cat id_rsa.pub</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<ol start="4">
<li>You can see your configuration by typing the following commands:<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git config --list</span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="Recommended-GUI-tools"><a href="#Recommended-GUI-tools" class="headerlink" title="Recommended GUI tools"></a>Recommended GUI tools</h1><p>Both commands and GUI tools are important to Git manupulation.<br>And Here are some recommended Git GUI tools that you can use.</p>
<ul>
<li><a href="%22https://www.sourcetreeapp.com/%22">Sourcetree</a></li>
<li><a href="%22https://www.gitkraken.com/%22">GitKraken</a></li>
</ul>
]]></content>
      <categories>
        <category>Git ç³»åˆ—æ–‡</category>
      </categories>
      <tags>
        <tag>Git</tag>
        <tag>Version Control</tag>
      </tags>
  </entry>
  <entry>
    <title>å¤§ä¸€å¤§äºŒåƒåŠ ç•¢æ¥­å°ˆæ¡ˆèˆ‡ç¨‹å¼æ¯”è³½å¿ƒå¾—åˆ†äº«</title>
    <url>/posts/534426495/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å°å¼Ÿæˆ‘åœ¨å‰›ä¸Šå¤§ä¸€æ²’å¤šä¹…ï¼Œå°±ç§mailç³»ä¸Šçš„ç¨‹å¼è€å¸«ï¼Œè©¢å•æ˜¯å¦å¯ä»¥åƒèˆ‡æ›´å¤šçš„å°ˆæ¡ˆæˆ–ç ”ç©¶ï¼Œä¹Ÿä¸€ä½µæŠŠæˆ‘çš„å±¥æ­·çµ¦æ•™æˆçœ‹ã€‚<br>æ²’æƒ³åˆ°æ•™æˆå¤§æ–¹åœ°çµ¦æˆ‘å¹¾æ¢è·¯é¸ï¼Œå¯ä»¥è·Ÿæ•™æˆåšç ”ç©¶ï¼Œå‡ºå»å¯¦ç¿’ï¼Œæˆ–æ˜¯å’Œå­¸é•·å€‘åšå°ˆæ¡ˆã€‚<br>å¤§ä¸€çš„æˆ‘æƒ³è¦æ…¢æ…¢ç´¯ç©å¯¦åŠ›ï¼Œæ–¼æ˜¯æ±ºå®šå…ˆ<strong>å’Œå­¸é•·å€‘åšå°ˆæ¡ˆ</strong>ï¼Œå»æ¯”è³½ï¼Œç´¯ç©ç¶“é©—ã€‚<br>åœ¨æ­·ç¶“<strong>åœ‹ç§‘æœƒå°ˆæ¡ˆã€è³‡è¨Šç«¶è³½ã€ç•¢æ¥­å°ˆæ¡ˆç«¶è³½ç­‰ç­‰</strong>å¾Œï¼Œæˆ‘éå¸¸æ„Ÿè¬æ•™æˆå’Œå­¸é•·å€‘çµ¦æˆ‘é€™å€‹æ©Ÿæœƒï¼Œè®“æˆ‘å¯ä»¥æ“æœ‰é€™äº›å¯¶è²´çš„ç¶“é©—ï¼<br>é€™ç¯‡æ–‡ç« ä¸»è¦è‘—é‡åœ¨å¿ƒå¾—èˆ‡åˆ†äº«ï¼Œæ¯”è¼ƒæŠ€è¡“é¢çš„å…§å®¹æœƒåœ¨ä¸‹ç¯‡æ–‡ç« è©³ç´°ä»‹ç´¹ã€‚</p>
<span id="more"></span>

<h2 id="æ¯”è³½å¿ƒå¾—èˆ‡å®šä½"><a href="#æ¯”è³½å¿ƒå¾—èˆ‡å®šä½" class="headerlink" title="æ¯”è³½å¿ƒå¾—èˆ‡å®šä½"></a>æ¯”è³½å¿ƒå¾—èˆ‡å®šä½</h2><p>åœ¨é€™å€‹Teamå…§ï¼Œæˆ‘ä¸»è¦è² è²¬ç¨‹å¼é–‹ç™¼ï¼ŒåŒ…æ‹¬<strong>å‰ç«¯ã€ä¼ºæœå™¨æ¶è¨­èˆ‡ç®¡ç†å’Œä¸€éƒ¨åˆ†çš„å¾Œç«¯</strong>ã€‚<br>å‰å‰å¾Œå¾Œæ¯”äº†<strong>åœ‹ç§‘æœƒå¤§å°ˆç”Ÿè¨ˆç•«ã€æ™ºæ…§å‰µæ–°ã€è³‡è¨Šæœå‹™å’Œç³»ä¸Šçš„ç•¢æ¥­å°ˆæ¡ˆç«¶è³½</strong>ï¼Œå¤§ç´„æ­·æ™‚1å¹´å¤šçš„æ™‚é–“ï¼Œåœ¨é€™æ®µæ™‚é–“è£¡ï¼Œæˆ‘å€‘æ­·ç¶“<strong>ç™¼æƒ³ã€é–‹ç™¼ã€ç¶­è­·ã€å¯«æŠ€è¡“æ–‡ä»¶ã€UI&#x2F;UXè¨­è¨ˆåˆ°æ¼”ç®—æ³•ç ”ç©¶ç­‰ç­‰</strong>ï¼Œé€™ä¹Ÿæ˜¯æˆ‘å¤§ä¸€çµæŸç‚ºæ­¢åšéç›¸å°å®Œæ•´çš„å°ˆæ¡ˆã€‚</p>
<hr>
<p>é€™æ˜¯æˆ‘å€‘æ™ºæ…§å‰µæ–°å’Œè³‡è¨Šæœå‹™ç«¶è³½æ™‚çš„ç…§ç‰‡ï¼Œæˆ‘å€‘ç›´æ¥æŠŠæˆå“çµ¦è©•å¯©æ»‘XDï¼Œå› ç‚ºä»¥æˆ‘å€‘çš„ç³»çµ±ä¾†èªªç›¸å°å®Œæ•´ï¼Œä¹Ÿä¸æ€•å™´Bugï¼Œé›–ç„¶éƒ½åªé€²åˆ°æ±ºè³½ï¼Œä½†æˆ‘ä¹Ÿæ›´åŠ çŸ¥é“é€™é¡å‹æ¯”è³½çš„æº–å‚™æ–¹å‘ï¼ˆåŸºæœ¬ä¸Šå°±æ˜¯è¦å°åˆ°ç•¶å‰æµè¡Œçš„ä¸»é¡Œï¼‰ï¼Œ<del>æ‰€ä»¥æ˜å¹´å°±æº–å‚™AIå§</del><br><img data-src="/images/posts/CC-experience/æ™ºæ…§å‰µæ–°.JPG" 
style="width: 70%; margin: 15px auto;"><br><img data-src="/images/posts/CC-experience/è³‡æœ.jpg" 
style="width: 70%; margin: 15px auto;"></p>
<hr>
<p>é€™æ˜¯ç³»ä¸Šç•¢æ¥­å°ˆæ¡ˆçš„æ¯”è³½ï¼Œéå¸¸æ¦®å¹¸æ‹¿åˆ°ç¬¬äºŒåï¼ç•¶å¤©é‚„ç›´æ¥è¢«å…¶ä»–è³‡è¨Šå…¬å¸çš„ä¸»ç®¡éåç‰‡ï¼Œå—å¯µè‹¥é©šã€‚<br><img data-src="/images/posts/CC-experience/ç•¢æ¥­å°ˆæ¡ˆ.JPG" 
style="width: 70%; margin: 15px auto;"><br><img data-src="/images/posts/CC-experience/ç•¢æ¥­å°ˆæ¡ˆå¾—ç.JPG" 
style="width: 70%; margin: 15px auto;"></p>
<h2 id="çµèª"><a href="#çµèª" class="headerlink" title="çµèª"></a>çµèª</h2><p>ç¸½çš„ä¾†èªªï¼Œé€™æ˜¯æˆ‘<strong>åƒèˆ‡å¤šäººå”ä½œã€å¯¦ä½œä¸€å€‹å®Œæ•´å°ˆæ¡ˆçš„å¯¶è²´ç¶“é©—</strong>ï¼Œé€™ä¹Ÿæˆç‚ºæˆ‘æ—¥å¾Œé–‹ç™¼å…¶ä»–å°ˆæ¡ˆçš„é¤Šåˆ†(Googleå­¸ç”Ÿé–‹ç™¼è€…ç¤¾ç¾¤, è³‡è¨Šç«¶è³½, etc.)ï¼Œé™¤äº†<strong>æŠ€è¡“é¢çš„å¤§å¹…æˆé•·ï¼Œå°ˆæ¡ˆç®¡ç†ã€äººéš›äº’å‹•ã€æ™‚é–“ç®¡ç†</strong>ä¹Ÿéƒ½æ˜¯æˆé•·çš„ä¸€éƒ¨åˆ†ï¼Œä¸»å‹•å»å°‹æ‰¾æ©Ÿæœƒï¼Œå¾—åˆ°çš„æœƒæ¯”ä½ æƒ³åƒçš„å¤šï¼Œé›–ç„¶æœ‰é»è¾›è‹¦å°±æ˜¯äº†ï¼Œä½†æˆ‘è¦ºå¾—å¾ˆå€¼å¾—ï¼æ‰€ä»¥æ™‚é–“ç®¡ç†çœŸçš„è¶…é‡è¦ï¼Œé€™ä¹Ÿè®“æˆ‘åœ¨å·¥ç¨‹å¸«é€™æ¢è·¯ä¸Šè®Šå¾—æ›´ä¸»å‹•ï¼Œç›¸ä¿¡åªè¦åŠªåŠ›ï¼Œè‡ªå·±çµ•å°å€¼å¾—æ›´å¥½çš„ï¼</p>
<p>æ¯”è¼ƒæŠ€è¡“é¢çš„å…§å®¹æœƒåœ¨ä¹‹å¾Œçš„æ–‡ç« æåŠ</p>
]]></content>
      <categories>
        <category>å¿ƒå¾—</category>
        <category>æ¯”è³½</category>
      </categories>
      <tags>
        <tag>å¿ƒå¾—</tag>
        <tag>æ¯”è³½</tag>
      </tags>
  </entry>
  <entry>
    <title>Basic OOP åŸºç¤ç‰©ä»¶å°å‘</title>
    <url>/posts/3787153742/</url>
    <content><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>ç‰©ä»¶å°å‘ï¼ˆObject-Oriented Programming, OOPï¼‰æ˜¯ä¸€ç¨®ç¨‹å¼è¨­è¨ˆç¯„å¼ï¼Œå¼·èª¿ä½¿ç”¨åŒ…å«æ•¸æ“šï¼ˆå±¬æ€§ï¼‰å’Œæ–¹æ³•ï¼ˆåŠŸèƒ½ï¼‰çš„ç‰©ä»¶ä¾†è¨­è¨ˆå’Œæ§‹å»ºæ‡‰ç”¨ç¨‹åºã€‚æé«˜è»Ÿé«”çš„é‡ç”¨æ€§ã€éˆæ´»æ€§å’Œæ“´å……æ€§ã€‚</p>
<p>è€Œå°æ–¼ç‰©ä»¶å°å‘ï¼Œæœ€åŸºç¤éœ€è¦çŸ¥é“ä»¥ä¸‹ï¼š</p>
<blockquote>
<p><strong>ä¸€å€‹æŠ½è±¡</strong><br><strong>å…©å€‹ç›®çš„</strong><br><strong>ä¸‰å€‹ç‰¹æ€§</strong><br><strong>äº”å€‹åŸå‰‡</strong></p>
</blockquote>
<span id="more"></span>

<h1 id="ä¸€å€‹æŠ½è±¡"><a href="#ä¸€å€‹æŠ½è±¡" class="headerlink" title="ä¸€å€‹æŠ½è±¡"></a>ä¸€å€‹æŠ½è±¡</h1><h2 id="æŠ½è±¡-Abstraction"><a href="#æŠ½è±¡-Abstraction" class="headerlink" title="æŠ½è±¡ (Abstraction)"></a>æŠ½è±¡ (Abstraction)</h2><p>åœ¨OOPçš„èƒŒæ™¯ä¸‹ï¼ŒæŠ½è±¡æ˜¯æŒ‡<strong>éš±è—è¤‡é›œçš„å¯¦ä½œç´°ç¯€</strong>ï¼Œåƒ…å±•ç¤ºç‰©ä»¶çš„å¿…è¦ç‰¹æ€§çš„èƒ½åŠ›ã€‚é€™ç°¡åŒ–äº†èˆ‡ç‰©ä»¶çš„äº’å‹•ï¼Œä½¿ç·¨ç¨‹æ›´ç›´è§€ã€æ›´é«˜æ•ˆã€‚</p>
<p>ä¾‹å¦‚æƒ³è¦ä½¿ç”¨äº¤é€šå·¥å…·çš„ç‰©ä»¶ï¼Œåªéœ€è¦çŸ¥é“äº¤é€šå·¥å…·æä¾›çš„ä»‹é¢ï¼Œè€Œä¸éœ€è¦çŸ¥é“å…·é«”çš„äº¤é€šå·¥å…·æ˜¯ä»€éº¼ï¼Œä»¥åŠå…¶å¯¦ä½œç´°ç¯€<br><img data-src="/images/posts/OOP-basic/abstraction.png" 
style="width: 70%; margin: 15px auto;"></p>
<h1 id="å…©å€‹ç›®çš„"><a href="#å…©å€‹ç›®çš„" class="headerlink" title="å…©å€‹ç›®çš„"></a>å…©å€‹ç›®çš„</h1><h2 id="ä½è€¦åˆ-Low-Coupling"><a href="#ä½è€¦åˆ-Low-Coupling" class="headerlink" title="ä½è€¦åˆ (Low Coupling)"></a>ä½è€¦åˆ (Low Coupling)</h2><p>ä½è€¦åˆæ˜¯æŒ‡ç¨‹å¼ä¸­<strong>ä¸åŒçš„é¡åˆ¥æˆ–æ¨¡çµ„ä¹‹é–“æ‡‰è©²æœ‰ç›¡å¯èƒ½å°‘çš„ä¾è³´é—œä¿‚</strong>ã€‚é€™ä½¿å¾—<strong>ä¸€å€‹é¡åˆ¥æˆ–æ¨¡çµ„çš„è®Šæ›´ä¸å¤ªå¯èƒ½å½±éŸ¿åˆ°å…¶ä»–çš„é¡åˆ¥æˆ–æ¨¡çµ„</strong>ï¼Œå¾è€Œä½¿å¾—ç¨‹å¼æ›´å®¹æ˜“ç¶­è­·å’Œæ“´å±•ã€‚</p>
<h2 id="é«˜å…§èšï¼ˆHigh-Cohesionï¼‰"><a href="#é«˜å…§èšï¼ˆHigh-Cohesionï¼‰" class="headerlink" title="é«˜å…§èšï¼ˆHigh Cohesionï¼‰"></a>é«˜å…§èšï¼ˆHigh Cohesionï¼‰</h2><p>é«˜å…§èšæ˜¯æŒ‡ä¸€å€‹é¡åˆ¥æˆ–æ¨¡çµ„æ‡‰è©²åª<strong>å°ˆæ³¨æ–¼å®Œæˆä¸€é …ç‰¹å®šçš„ä»»å‹™æˆ–ä¸€çµ„ç·Šå¯†ç›¸é—œçš„ä»»å‹™</strong>ã€‚é€™ä½¿å¾—ç¨‹å¼æ›´æœ‰çµ„ç¹”ï¼Œæ›´æ˜“æ–¼ç†è§£å’Œç¶­è­·ã€‚</p>
<p><img data-src="/images/posts/OOP-basic/CandC.png" 
style="width: 70%; margin: 15px auto;"></p>
<h1 id="ä¸‰å€‹ç‰¹æ€§"><a href="#ä¸‰å€‹ç‰¹æ€§" class="headerlink" title="ä¸‰å€‹ç‰¹æ€§"></a>ä¸‰å€‹ç‰¹æ€§</h1><h2 id="ç¹¼æ‰¿-Inheritance"><a href="#ç¹¼æ‰¿-Inheritance" class="headerlink" title="ç¹¼æ‰¿ (Inheritance)"></a>ç¹¼æ‰¿ (Inheritance)</h2><p>ç¹¼æ‰¿å…è¨±æ–°å‰µå»ºçš„é¡åˆ¥ï¼ˆå­é¡åˆ¥ï¼‰ç¹¼æ‰¿ä¸€å€‹æˆ–å¤šå€‹ç¾æœ‰é¡åˆ¥ï¼ˆçˆ¶é¡åˆ¥ï¼‰çš„å±¬æ€§å’Œæ–¹æ³•ã€‚é€™ä¿ƒé€²äº†ç¨‹å¼ç¢¼é‡ç”¨å’Œæ“´å±•æ€§ã€‚</p>
<h2 id="å°è£-Encapsulation"><a href="#å°è£-Encapsulation" class="headerlink" title="å°è£ (Encapsulation)"></a>å°è£ (Encapsulation)</h2><p>å°è£æ˜¯å°‡æ•¸æ“šï¼ˆå±¬æ€§ï¼‰å’Œè¡Œç‚ºï¼ˆæ–¹æ³•ï¼‰ç¶å®šåˆ°å–®å€‹å–®ä½ï¼ˆé¡åˆ¥ï¼‰ä¸­ï¼Œä¸¦<strong>é™åˆ¶å°è©²å–®ä½å…§éƒ¨çš„ç›´æ¥è¨ªå•</strong>ã€‚é€™æœ‰åŠ©æ–¼ä¿è­·æ•¸æ“šå’Œéš±è—å¯¦ç¾ç´°ç¯€ã€‚</p>
<h2 id="å¤šå‹-Polymorphism"><a href="#å¤šå‹-Polymorphism" class="headerlink" title="å¤šå‹ (Polymorphism)"></a>å¤šå‹ (Polymorphism)</h2><p>å¤šå‹å…è¨±å°<strong>ä¸åŒé¡åˆ¥çš„ç‰©ä»¶ä½¿ç”¨å…±åŒçš„æ¥å£</strong>ã€‚é€™æ„å‘³è‘—å¯ä»¥åœ¨ä¸åŒé¡åˆ¥çš„ç‰©ä»¶ä¸ŠåŸ·è¡ŒåŒä¸€æ“ä½œï¼Œè€Œæ¯å€‹é¡åˆ¥å¯ä»¥ä»¥ä¸åŒçš„æ–¹å¼éŸ¿æ‡‰ç›¸åŒçš„æ“ä½œã€‚</p>
<h1 id="äº”å€‹åŸå‰‡-SOLID"><a href="#äº”å€‹åŸå‰‡-SOLID" class="headerlink" title="äº”å€‹åŸå‰‡ (SOLID)"></a>äº”å€‹åŸå‰‡ (SOLID)</h1><h2 id="S-å–®ä¸€è·è²¬åŸå‰‡ï¼ˆSingle-Responsibility-Principleï¼‰"><a href="#S-å–®ä¸€è·è²¬åŸå‰‡ï¼ˆSingle-Responsibility-Principleï¼‰" class="headerlink" title="S - å–®ä¸€è·è²¬åŸå‰‡ï¼ˆSingle Responsibility Principleï¼‰:"></a>S - å–®ä¸€è·è²¬åŸå‰‡ï¼ˆSingle Responsibility Principleï¼‰:</h2><p>ä¸€å€‹é¡åˆ¥æ‡‰è©²åªæœ‰ä¸€å€‹æ”¹è®Šçš„ç†ç”±ï¼Œé€™æ„å‘³è‘—<strong>ä¸€å€‹é¡åˆ¥æ‡‰è©²åªåšä¸€ä»¶äº‹</strong>ã€‚</p>
<h2 id="O-é–‹æ”¾å°é–‰åŸå‰‡ï¼ˆOpen-x2F-Closed-Principleï¼‰"><a href="#O-é–‹æ”¾å°é–‰åŸå‰‡ï¼ˆOpen-x2F-Closed-Principleï¼‰" class="headerlink" title="O - é–‹æ”¾å°é–‰åŸå‰‡ï¼ˆOpen&#x2F;Closed Principleï¼‰:"></a>O - é–‹æ”¾å°é–‰åŸå‰‡ï¼ˆOpen&#x2F;Closed Principleï¼‰:</h2><p>è»Ÿé«”å¯¦é«”ï¼ˆé¡åˆ¥ã€æ¨¡çµ„ã€å‡½æ•¸ç­‰ï¼‰æ‡‰è©²<strong>å°æ“´å±•é–‹æ”¾ï¼Œå°ä¿®æ”¹å°é–‰</strong>ã€‚é€™æ„å‘³è‘—æ‡‰è©²èƒ½å¤ åœ¨ä¸ä¿®æ”¹ç¾æœ‰ä»£ç¢¼çš„æƒ…æ³ä¸‹æ“´å±•å…¶åŠŸèƒ½ã€‚</p>
<h2 id="L-é‡Œæ°æ›¿æ›åŸå‰‡ï¼ˆLiskov-Substitution-Principleï¼‰"><a href="#L-é‡Œæ°æ›¿æ›åŸå‰‡ï¼ˆLiskov-Substitution-Principleï¼‰" class="headerlink" title="L - é‡Œæ°æ›¿æ›åŸå‰‡ï¼ˆLiskov Substitution Principleï¼‰:"></a>L - é‡Œæ°æ›¿æ›åŸå‰‡ï¼ˆLiskov Substitution Principleï¼‰:</h2><p><strong>å­é¡åˆ¥æ‡‰è©²èƒ½å¤ æ›¿æ›å…¶çˆ¶é¡åˆ¥è€Œä¸å½±éŸ¿ç¨‹åºçš„æ­£å¸¸é‹è¡Œ</strong>ã€‚</p>
<h2 id="I-æ¥å£éš”é›¢åŸå‰‡ï¼ˆInterface-Segregation-Principleï¼‰"><a href="#I-æ¥å£éš”é›¢åŸå‰‡ï¼ˆInterface-Segregation-Principleï¼‰" class="headerlink" title="I - æ¥å£éš”é›¢åŸå‰‡ï¼ˆInterface Segregation Principleï¼‰:"></a>I - æ¥å£éš”é›¢åŸå‰‡ï¼ˆInterface Segregation Principleï¼‰:</h2><p>ä¸æ‡‰å¼·è¿«å®¢æˆ¶ä¾è³´æ–¼å®ƒå€‘ä¸ä½¿ç”¨çš„æ¥å£ã€‚æ›å¥è©±èªªï¼Œ<strong>æ›´å°å’Œæ›´å…·é«”çš„æ¥å£å„ªæ–¼å¤§è€Œé€šç”¨çš„æ¥å£</strong>ã€‚</p>
<h2 id="D-ä¾è³´åè½‰åŸå‰‡ï¼ˆDependency-Inversion-Principleï¼‰"><a href="#D-ä¾è³´åè½‰åŸå‰‡ï¼ˆDependency-Inversion-Principleï¼‰" class="headerlink" title="D - ä¾è³´åè½‰åŸå‰‡ï¼ˆDependency Inversion Principleï¼‰:"></a>D - ä¾è³´åè½‰åŸå‰‡ï¼ˆDependency Inversion Principleï¼‰:</h2><p><strong>é«˜å±¤æ¨¡çµ„ä¸æ‡‰è©²ä¾è³´ä½å±¤æ¨¡çµ„ï¼Œå…©è€…éƒ½æ‡‰è©²ä¾è³´æ–¼æŠ½è±¡</strong>ï¼›æŠ½è±¡ä¸æ‡‰è©²ä¾è³´æ–¼ç´°ç¯€ï¼Œç´°ç¯€æ‡‰è©²ä¾è³´æ–¼æŠ½è±¡ã€‚é€™æœ‰åŠ©æ–¼æ¸›å°‘é¡åˆ¥ä¹‹é–“çš„ç›´æ¥ä¾è³´ï¼Œå¾è€Œæé«˜ç³»çµ±çš„éˆæ´»æ€§å’Œå¯é‡ç”¨æ€§ã€‚</p>
<h1 id="Design-Patternæ¦‚è¿°"><a href="#Design-Patternæ¦‚è¿°" class="headerlink" title="Design Patternæ¦‚è¿°"></a>Design Patternæ¦‚è¿°</h1><p>è¨­è¨ˆæ¨¡å¼æ˜¯ä¸€çµ„ä½œç‚ºæœ€ä½³å¯¦è¸çš„è§£æ±ºæ–¹æ¡ˆï¼Œç”¨ä¾†è§£æ±ºç‰¹å®šé¡å‹çš„é‡è¤‡å‡ºç¾çš„è¨­è¨ˆå•é¡Œã€‚é€™äº›æ¨¡å¼ä¸æ˜¯ç¾æˆçš„ç¨‹å¼ç¢¼ï¼Œè€Œæ˜¯å¯ä»¥åœ¨è¨±å¤šä¸åŒæƒ…æ³ä¸‹ä½¿ç”¨çš„æ¨¡æ¿ã€‚å®ƒå€‘æé«˜äº†ä»£ç¢¼çš„å¯é‡ç”¨æ€§ã€éˆæ´»æ€§å’Œç¶­è­·æ€§ã€‚</p>
<p>è¨­è¨ˆæ¨¡å¼é€šå¸¸åˆ†ç‚ºä¸‰å¤§é¡ï¼š</p>
<ol>
<li>å‰µå»ºå‹æ¨¡å¼ï¼ˆCreational Patternsï¼‰<br>é€™äº›æ¨¡å¼èˆ‡ç‰©ä»¶å‰µå»ºæ©Ÿåˆ¶æœ‰é—œï¼Œå¹«åŠ©å‰µå»ºç‰©ä»¶çš„æ–¹å¼ä½¿å¾—ç³»çµ±ç¨ç«‹æ–¼ç‰©ä»¶çš„å‰µå»ºå’Œçµ„åˆæ–¹å¼ã€‚</li>
<li>çµæ§‹å‹æ¨¡å¼ï¼ˆStructural Patternsï¼‰<br>é€™äº›æ¨¡å¼èˆ‡ç‰©ä»¶çš„çµ„åˆæœ‰é—œï¼Œé€šå¸¸ç”¨æ–¼å½¢æˆå¤§çš„ç‰©ä»¶çµæ§‹</li>
<li>è¡Œç‚ºå‹æ¨¡å¼ï¼ˆBehavioral Patternsï¼‰<br>é€™äº›æ¨¡å¼é—œæ³¨ç‰©ä»¶é–“çš„é€šè¨Šå’Œè²¬ä»»åˆ†é…</li>
</ol>
]]></content>
      <categories>
        <category>OOP</category>
      </categories>
      <tags>
        <tag>OOP</tag>
      </tags>
  </entry>
  <entry>
    <title>[NLP][ML] Adapters &amp; LoRA</title>
    <url>/posts/38266156/</url>
    <content><![CDATA[<h1 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h1><p>In this article, I will provide an introduction to adapters and LoRA, including their <strong>definitions, purposes, and functions.</strong> I will also explore their various <strong>applications</strong> and, lastly, delve into the distinctions that set them apart(the <strong>differences between them</strong>).</p>
<span id="more"></span>

<h1 id="Adapter"><a href="#Adapter" class="headerlink" title="Adapter"></a>Adapter</h1><h2 id="What-are-Adapters"><a href="#What-are-Adapters" class="headerlink" title="What are Adapters?"></a>What are Adapters?</h2><p>According to <span class="exturl" data-url="aHR0cHM6Ly93d3cuYW5hbHl0aWNzdmlkaHlhLmNvbS9ibG9nLzIwMjMvMDQvdHJhaW5pbmctYW4tYWRhcHRlci1mb3Itcm9iZXJ0YS1tb2RlbC1mb3Itc2VxdWVuY2UtY2xhc3NpZmljYXRpb24tdGFzay8jOn46dGV4dD1BZGFwdGVycyUyMGFyZSUyMGxpZ2h0d2VpZ2h0JTIwYWx0ZXJuYXRpdmVzJTIwdG8sbW9kdWxhciUyMGFwcHJvYWNoJTIwdG8lMjB0cmFuc2ZlciUyMGxlYXJuaW5nLg==">this article<i class="fa fa-external-link-alt"></i></span><br>We can give the definition of adapters:</p>
<blockquote>
<p><strong>Adapters are lightweight alternatives to fully fine-tuned pre-trained models.</strong><br>Currently, <strong>adapters are implemented as small feedforward neural networks</strong> that are <strong>inserted between layers of a pre-trained model.</strong><br>They provide a <strong>parameter-efficient, computationally efficient, and modular approach</strong> to transfer learning. The following image shows added adapter.</p>
</blockquote>
<p>The image below clearly shows the usage flow of apadters<br>(Source: <span class="exturl" data-url="aHR0cHM6Ly9hZGFwdGVyaHViLm1sLw==">AdapterHub<i class="fa fa-external-link-alt"></i></span>)<br><img data-src="/images/posts/NLP-series/adapter.gif" 
style="width: 70%; margin: 15px auto;"></p>
<blockquote>
<p>During training, <strong>all the weights of the pre-trained model are frozen</strong> such that only the adapter weights<br>are updated, resulting in <strong>modular knowledge representations</strong>. They can be easily <strong>extracted, interchanged,</strong><br><strong>independently distributed, and dynamically plugged</strong> into a language model. These properties highlight the<br>potential of adapters in advancing the NLP field astronomically.</p>
</blockquote>
<h2 id="What-is-the-purpose-and-function-of-adapters"><a href="#What-is-the-purpose-and-function-of-adapters" class="headerlink" title="What is the purpose and function of adapters?"></a>What is the purpose and function of adapters?</h2><ol>
<li>Purpose:<br>Large Language Models are computationally expensive and memory-intensive. <strong>Fine-tuning the entire model for each specific task</strong> can be impractical due to resource constraints. Adapters provide a solution by allowing for more efficient and <strong>targeted modifications</strong> to the model for different tasks. This approach <strong>saves both computational power and memory</strong>, enabling the deployment of a single pre-trained model for multiple tasks.</li>
<li>Functions:<ol>
<li><p>Efficient Fine-tuning: Instead of fine-tuning the entire model, adapters enable <strong>fine-tuning only a small subset of parameters</strong> related to a specific task. This fine-tuning process is faster and requires fewer resources.</p>
</li>
<li><p>Task-specific Modifications: Adapters allow you to add <strong>task-specific layers or modifications</strong> to the pre-trained model without altering the core architecture. This makes it easier to adapt the model for various tasks like text classification, named entity recognition, sentiment analysis, etc.</p>
</li>
<li><p>Versatility: With adapters, a single pre-trained LLM can be <strong>adapted for a wide range of tasks.</strong> This versatility is beneficial in scenarios where deploying and maintaining separate models for each task might be impractical.</p>
</li>
<li><p>Interoperability: Adapters enable the combination of pre-trained models with task-specific modifications in a standardized way. This facilitates sharing, collaboration, and research in the NLP community.</p>
</li>
<li><p>Transfer Learning: Adapters enhance the <strong>effectiveness of transfer learning.</strong> Models pre-trained on <strong>large and diverse datasets can be fine-tuned on smaller</strong>, task-specific datasets using adapters, improving performance on specific tasks.</p>
</li>
<li><p>Incremental Updates: Adapters allow for easy updates to the model. Instead of retraining the entire model, only the adapters related to a specific task need to be fine-tuned when new data or requirements arise.</p>
</li>
</ol>
</li>
</ol>
<p>Overall, adapters are a <strong>mechanism that strikes a balance between the benefits of fine-tuning for specific tasks and the efficiency of reusing pre-trained LLMs.</strong> They enable the NLP community to leverage the power of these large models while tailoring them to a diverse set of applications.</p>
<h2 id="The-applications-of-adapters"><a href="#The-applications-of-adapters" class="headerlink" title="The applications of adapters"></a>The applications of adapters</h2><p>I list some practical applications that can use adapters to enhance.</p>
<ol>
<li><p>Efficient Task Adaptation: Adapters make it possible to fine-tune a pretrained model for specific tasks with minimal computational resources and time. This is particularly useful for industries that require quick adaptation to changing trends or requirements.</p>
</li>
<li><p>Multilingual Applications: Adapters can be used to enable a pretrained model to perform tasks in multiple languages. This is valuable for businesses operating in global markets.</p>
</li>
<li><p>Domain-Specific NLP: Adapting models with domain-specific adapters (e.g., medical, legal, financial) enhances their performance on tasks specific to those domains.</p>
</li>
<li><p>Personalization: Adapters can be used to personalize a general-purpose model for individual users or contexts, leading to more relevant and tailored responses.</p>
</li>
</ol>
<h1 id="LoRA-Low-Rank-Adaptation"><a href="#LoRA-Low-Rank-Adaptation" class="headerlink" title="LoRA (Low-Rank Adaptation)"></a>LoRA (Low-Rank Adaptation)</h1><h2 id="What-is-LoRA"><a href="#What-is-LoRA" class="headerlink" title="What is LoRA?"></a>What is LoRA?</h2><ul>
<li>Low-Rank Adaptation, or LoRA, is proposed, which <strong>freezes the pre-trained model weights</strong> and <strong>injects trainable rank decomposition matrices into each layer</strong> of the <strong>Transformer</strong> architecture, greatly <strong>reducing the number of trainable parameters</strong> for downstream tasks.</li>
</ul>
<p>And letâ€™s see the full fine-tuning definition:</p>
<ul>
<li>Full fine-tuning LLM, which <strong>retrains all model parameters</strong>, becomes less feasible. Using GPT-3 175B as an example â€” deploying independent instances of fine-tuned models, each with 175B parameters, is prohibitively expensive.</li>
</ul>
<p>In <span class="exturl" data-url="aHR0cHM6Ly9iZHRlY2h0YWxrcy5jb20vMjAyMy8wNS8yMi93aGF0LWlzLWxvcmEv">this article<i class="fa fa-external-link-alt"></i></span>, it clearly compare the fine-tuning and LoRA approaches. And in <span class="exturl" data-url="aHR0cHM6Ly9zaC10c2FuZy5tZWRpdW0uY29tL2JyaWVmLXJldmlldy1sb3JhLWxvdy1yYW5rLWFkYXB0YXRpb24tb2YtbGFyZ2UtbGFuZ3VhZ2UtbW9kZWxzLWZhZjVkZGQ1ODAyZiM6fjp0ZXh0PUxvUkElMkMlMjBMb3clMkRSYW5rJTIwTExNJTIwRmluZSUyRFR1bmluZyUyQyUyMFJlZHVjZSUyMFJlcXVpcmVkJTIwTWVtb3J5JnRleHQ9TG93JTJEUmFuayUyMEFkYXB0YXRpb24lMkMlMjBvciUyMExvUkEsdHJhaW5hYmxlJTIwcGFyYW1ldGVycyUyMGZvciUyMGRvd25zdHJlYW0lMjB0YXNrcy4=">this article<i class="fa fa-external-link-alt"></i></span>, it dives more into the machanism of LoRA. If you wnat to know the full knowledge, you can refer to <span class="exturl" data-url="aHR0cHM6Ly9hcnhpdi5vcmcvYWJzLzIxMDYuMDk2ODU=">the paper of LoRA<i class="fa fa-external-link-alt"></i></span>.<br>In the next sections, I will introduce more ideas of LoRA based on these references. Note that I only organize the contents of these articles and add some mark and note on my own.</p>
<hr>
<h3 id="How-does-fine-tuning-LLMs-work"><a href="#How-does-fine-tuning-LLMs-work" class="headerlink" title="How does fine-tuning LLMs work?"></a>How does fine-tuning LLMs work?</h3><p>Open-source LLMs such as LLaMA,Vicuna are foundation models that <strong>have been pre-trained on hundreds of billions of words.</strong> Developers and machine learning engineers can download the model with the <strong>pre-trained weights</strong> and <strong>fine-tune it for downstream tasks</strong> such as <span class="exturl" data-url="aHR0cHM6Ly9iZHRlY2h0YWxrcy5jb20vMjAyMy8wMS8xNi93aGF0LWlzLXJsaGYv">instruction following<i class="fa fa-external-link-alt"></i></span>.</p>
<p>The model is provided input from the <strong>fine-tuning dataset</strong>. It then <strong>predicts the next tokens and compares its output with the ground truth.</strong> It then <strong>adjusts the weights(gradient)</strong> to correct its predictions. By doing this over and over, the LLM becomes fine-tuned to the downstream task.</p>
<p><img data-src="/images/posts/NLP-series/LLM-fintune.png" 
style="width: 70%; margin: 15px auto;"></p>
<p>(Source: <span class="exturl" data-url="aHR0cHM6Ly9iZHRlY2h0YWxrcy5jb20vMjAyMy8wNS8yMi93aGF0LWlzLWxvcmEv">What is low-rank adaptation (LoRA)?<i class="fa fa-external-link-alt"></i></span>)</p>
<h3 id="The-idea-of-LoRA"><a href="#The-idea-of-LoRA" class="headerlink" title="The idea of LoRA"></a>The idea of LoRA</h3><p>Now, letâ€™s make a small modification to the fine-tuning process. In this new method, we <strong>freeze the original weights of the model and donâ€™t modify them during the fine-tuning process.</strong> Instead, we apply the modifications to a <strong>separate set of weights</strong> and we add their new values to the original parameters. Letâ€™s call these two sets <strong>â€œpre-trainedâ€ and â€œfine-tunedâ€ weights</strong>.</p>
<blockquote>
<p><strong>Separating the pre-trained and fine-tuned parameters is an important part of LoRA.</strong><br><img data-src="/images/posts/NLP-series/LoRA-1.png" 
style="width: 70%; margin: 15px auto;"></p>
</blockquote>
<h4 id="Low-rank-adaptation"><a href="#Low-rank-adaptation" class="headerlink" title="Low-rank adaptation"></a>Low-rank adaptation</h4><p>Before moving on to LoRA, letâ€™s think about our <strong>model parameters as very large matrices</strong>. If you remember your linear algebra class, <strong>matrices can form vector spaces</strong>. In this case, weâ€™re talking about a <strong>very large vector space with many dimensions</strong> that models language.</p>
<p>Every matrix has a <strong>â€œrankâ€</strong>, which is <strong>the number of linearly independent columns it has</strong>. If a column is linearly independent, it means that <strong>it canâ€™t be represented as a combination of other columns in the matrix</strong>. On the other hand, a dependent column is one that can be represented as a combination of one or more columns in the same matrix. You can remove dependent columns from a matrix without losing information.</p>
<p>LoRA, proposed in a <span class="exturl" data-url="aHR0cHM6Ly9hcnhpdi5vcmcvYWJzLzIxMDYuMDk2ODU=">paper<i class="fa fa-external-link-alt"></i></span> by researchers at Microsoft, suggests that when fine-tuning an LLM for a downstream task, <strong>you donâ€™t need the full-rank weight matrix.</strong> They proposed that you could preserve most of the learning capacity of the model while <strong>reducing the dimension of the downstream parameters.</strong> (This is why it makes sense to separate the pre-trained and fine-tuned weights.)</p>
<hr>
<p><img data-src="/images/posts/NLP-series/LoRA-2.png" 
style="width: 70%; margin: 15px auto;"></p>
<p>Basically, in LoRA, you create <strong>two downstream weight matrices</strong>. One <strong>transforms the input parameters from the original dimension to the low-rank dimension</strong>. And the second matrix <strong>transforms the low-rank data to the output dimensions of the original model</strong>.</p>
<p>During training, <strong>modifications are made to the LoRA parameters</strong>, which are now much fewer than the original weights. This is why they can be trained much faster and at a fraction of the cost of doing full fine-tuning. <strong>At inference time, the output of LoRA is added to the pre-trained parameters to calculate the final values.</strong></p>
<h4 id="More-detail"><a href="#More-detail" class="headerlink" title="More detail"></a>More detail</h4><p><img data-src="/images/posts/NLP-series/LoRA-3.png" 
style="width: 70%; margin: 15px auto;"></p>
<ul>
<li>For a pre-trained weight matrix $W_0$, its update is constrained by representing the latter with a low-rank decomposition:</li>
</ul>
<p>$$\begin{equation}<br>   W_0 + \Delta{W} &#x3D; W_0 + BA<br>\end{equation}$$</p>
<ul>
<li>During training, <strong>$W_0$ is frozen</strong> and does not receive gradient updates, while <strong>A and B contain trainable parameters</strong>.</li>
<li>For $h&#x3D;W_0$, the modified forward pass yields:</li>
</ul>
<p>$$\begin{equation}<br>   h &#x3D; W_0x + \Delta{W}x &#x3D; W_0x + BAx<br>\end{equation}$$</p>
<ul>
<li><p>A random <strong>Gaussian initialization is used for A</strong> and <strong>zero is used for B</strong>, so $\Delta{W}&#x3D;BA$ is zero at the beginning of training. (The method of initializing the weights)</p>
</li>
<li><p>One of the advantages is that when deployed in production, we can <strong>explicitly compute and store $W&#x3D;W_0+BA$</strong> and perform inference as usual. <strong>No additional latency</strong> compared to other methods, such as appending more layers.</p>
</li>
</ul>
<p>You can see the implementation and more detail of LoRA in <span class="exturl" data-url="aHR0cHM6Ly95b3V0dS5iZS9kQS1OaEN0cnJWRQ==">this video<i class="fa fa-external-link-alt"></i></span><br>and <span class="exturl" data-url="aHR0cHM6Ly9ibG9nLm1sNi5ldS9sb3ctcmFuay1hZGFwdGF0aW9uLWEtdGVjaG5pY2FsLWRlZXAtZGl2ZS03ODJkZWM5OTU3NzI=">this article<i class="fa fa-external-link-alt"></i></span>.</p>
<h2 id="What-is-the-purpose-and-function-of-LoRA"><a href="#What-is-the-purpose-and-function-of-LoRA" class="headerlink" title="What is the purpose and function of LoRA?"></a>What is the purpose and function of LoRA?</h2><ul>
<li>Purpose<ul>
<li>The purpose of LoRA is to make it easier and more efficient to fine-tune LLMs for downstream tasks.</li>
</ul>
</li>
<li>Function<ul>
<li>The function of LoRA is to decompose the LLM into a low-rank representation and then adapt this representation to the target task.</li>
<li>Here are the benefits:</li>
</ul>
</li>
<li>Reduced number of parameters: The low-rank representation has a much smaller number of parameters than the original LLM, which can make it faster to train and easier to deploy.</li>
<li>Improved performance: The low-rank representation is able to capture the most important features of the LLM, which can lead to improved performance on the downstream task.</li>
</ul>
<h2 id="The-applications-of-LoRA"><a href="#The-applications-of-LoRA" class="headerlink" title="The applications of LoRA"></a>The applications of LoRA</h2><ul>
<li>Fine-tuning large language models for downstream tasks:<br>LoRA can be used to fine-tune large language models (LLMs) for a variety of downstream tasks, such as question answering, summarization, and translation. This can <strong>make LLMs more accessible and easier to use for a wider range of applications.</strong></li>
<li>Improving the efficiency of machine learning models:<br> LoRA can be used to improve the efficiency of machine learning models by reducing the number of parameters. This can <strong>make models faster to train and easier to deploy</strong>.</li>
<li>Compressing large datasets:<br>LoRA can be used to <strong>compress large datasets by representing them in a low-rank format</strong>. This can make datasets easier to <strong>store and transmit</strong>.</li>
<li>Improving the security of machine learning models:<br>LoRA can be used to improve the security of machine learning models by making them more resistant to adversarial attacks.</li>
</ul>
<h1 id="Differences-between-adapter-and-LoRA"><a href="#Differences-between-adapter-and-LoRA" class="headerlink" title="Differences between adapter and LoRA"></a>Differences between adapter and LoRA</h1><table>
   <thead>
      <th>Feature</th>
      <th>Adapter</th>
      <th>LoRA</th>
   </thead>
   <tbody>
      <tr>
         <td>Approach</td>
         <td>Adds additional layers to the pretrained model	</td>
         <td>Decomposes the pretrained model into a low-rank representation
</td>
      </tr>
      <tr>
         <td>Parameters</td>
         <td>Adds a small number of parameters to the pretrained model</td>
         <td>Reduces the number of parameters in the pretrained model</td>
      </tr>
      <tr>
         <td>Performance</td>
         <td>Effective for a variety of downstream tasks</td>
         <td>Particularly effective for tasks that require a large number of parameters</td>
      </tr>
      <tr>
         <td>Speed</td>
         <td>Can be faster to train than LoRA</td>
         <td>Can be faster at inference time</td>
      </tr>
      <tr>
         <td>Memory usage</td>
         <td>Can use more memory than LoRA</td>
         <td></td>
      </tr>
   </tbody>
</table>

<p>In general, adapters are a good choice for tasks that require a small number of parameters and can be trained quickly, while LoRA is a good choice for tasks that require a large number of parameters and need to be fast at inference time.</p>
<h1 id="References"><a href="#References" class="headerlink" title="References"></a>References</h1><ul>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cuYW5hbHl0aWNzdmlkaHlhLmNvbS9ibG9nLzIwMjMvMDQvdHJhaW5pbmctYW4tYWRhcHRlci1mb3Itcm9iZXJ0YS1tb2RlbC1mb3Itc2VxdWVuY2UtY2xhc3NpZmljYXRpb24tdGFzay8jOn46dGV4dD1BZGFwdGVycyUyMGFyZSUyMGxpZ2h0d2VpZ2h0JTIwYWx0ZXJuYXRpdmVzJTIwdG8sbW9kdWxhciUyMGFwcHJvYWNoJTIwdG8lMjB0cmFuc2ZlciUyMGxlYXJuaW5nLg==">(Recommend) Training an Adapter for RoBERTa Model for Sequence Classification Task<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly9hZGFwdGVyaHViLm1sLw==">AdapterHub<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly9odWdnaW5nZmFjZS5jby9kb2NzL2RpZmZ1c2Vycy90cmFpbmluZy9sb3JhIzp+OnRleHQ9TG93JTJEUmFuayUyMEFkYXB0YXRpb24lMjBvZiUyMExhcmdlJTIwTGFuZ3VhZ2UlMjBNb2RlbHMlMjAoTG9SQSklMjBpcyx0cmFpbnMlMjB0aG9zZSUyMG5ld2x5JTIwYWRkZWQlMjB3ZWlnaHRzLg==">Low-Rank Adaptation of Large Language Models (LoRA) (Huggingface)<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly9zaC10c2FuZy5tZWRpdW0uY29tL2JyaWVmLXJldmlldy1sb3JhLWxvdy1yYW5rLWFkYXB0YXRpb24tb2YtbGFyZ2UtbGFuZ3VhZ2UtbW9kZWxzLWZhZjVkZGQ1ODAyZiM6fjp0ZXh0PUxvUkElMkMlMjBMb3clMkRSYW5rJTIwTExNJTIwRmluZSUyRFR1bmluZyUyQyUyMFJlZHVjZSUyMFJlcXVpcmVkJTIwTWVtb3J5JnRleHQ9TG93JTJEUmFuayUyMEFkYXB0YXRpb24lMkMlMjBvciUyMExvUkEsdHJhaW5hYmxlJTIwcGFyYW1ldGVycyUyMGZvciUyMGRvd25zdHJlYW0lMjB0YXNrcy4=">Brief Review â€” LoRA: Low-Rank Adaptation of Large Language Models<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly9iZHRlY2h0YWxrcy5jb20vMjAyMy8wNS8yMi93aGF0LWlzLWxvcmEv">What is low-rank adaptation (LoRA)?<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly9hcnhpdi5vcmcvYWJzLzIxMDYuMDk2ODU=">LoRA: Low-Rank Adaptation of Large Language Models (Paper)<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly9ibG9nLm1sNi5ldS9sb3ctcmFuay1hZGFwdGF0aW9uLWEtdGVjaG5pY2FsLWRlZXAtZGl2ZS03ODJkZWM5OTU3NzI=">(Recommend) Low Rank Adaptation: A Technical Deep Dive<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly95b3V0dS5iZS9kQS1OaEN0cnJWRQ==">Low-rank Adaption of Large Language Models: Explaining the Key Concepts Behind LoRA (Video)<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj1VczVaRnAxNlBhVQ==">Fine-tuning LLMs with PEFT and LoRA<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly9odWdnaW5nZmFjZS5jby9ibG9nL3BlZnQ=">PEFT: Parameter-Efficient Fine-Tuning of Billion-Scale Models on Low-Resource Hardware<i class="fa fa-external-link-alt"></i></span></li>
</ul>
]]></content>
      <tags>
        <tag>ML</tag>
        <tag>AI</tag>
        <tag>NLP</tag>
      </tags>
  </entry>
  <entry>
    <title>[NLP][ML] Transformer (1) - Structure</title>
    <url>/posts/4283617483/</url>
    <content><![CDATA[<h1 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h1><p>The Transformer is a <strong>deep learning architecture</strong> introduced in the paper â€œAttention Is All You Needâ€ by Vaswani et al. in 2017. It revolutionized the field of natural language processing (NLP) and brought significant advancements in various <strong>sequence-to-sequence tasks</strong>. The Transformer architecture, thanks to its <strong>attention mechanisms</strong>, enables efficient processing of sequential data while <strong>capturing long-range dependencies</strong>.</p>
<hr>
<p>Transformer is a <strong>Seq2Seq(Sequence to Sequence) model</strong>. It uses <strong>Encoder-Decoder structure</strong><br>Below is a simple diagramï¼š</p>
<p><img data-src="/images/posts/NLP-series/transformer-1.gif" 
style="width: 70%; margin: 15px auto;"><br>Source: <span class="exturl" data-url="aHR0cHM6Ly9haS5nb29nbGVibG9nLmNvbS8yMDE2LzA5L2EtbmV1cmFsLW5ldHdvcmstZm9yLW1hY2hpbmUuaHRtbA==">https://ai.googleblog.com/2016/09/a-neural-network-for-machine.html<i class="fa fa-external-link-alt"></i></span></p>
<p>The line between Encoder and Decoder represents the â€œAttentionâ€.<br>The thicker the line, the more the Decoder below pays more attention to some Chinese characters above when generating an English word.</p>
<span id="more"></span>
<p>In the below sections, I will introduce the structure of transformer and the attention machanism.<br>For the <strong>detail explaination of key components in transformer and the details of attention</strong>, you can refer to the <a href="https://mao-code.github.io/posts/2443192075/#more">next article</a>.</p>
<h1 id="Structure"><a href="#Structure" class="headerlink" title="Structure"></a>Structure</h1><p>Below is the strucutre of Transformer.</p>
<p><img data-src="/images/posts/NLP-series/transformer-2.png" 
style="width: 70%; margin: 15px auto;"></p>
<p>The part <strong>on the left in the figure is the Encoder, and the part on the right is the Decoder</strong>.<br>You can notice that the structures of the left and right sides are actually quite similar.<br>The Encoder and Decoder usually contain many blocks with the same layer structure, and each layer will have <strong>multi-head attention and Feed Forward Network</strong>.</p>
<h2 id="Encoder"><a href="#Encoder" class="headerlink" title="Encoder"></a>Encoder</h2><p><img data-src="/images/posts/NLP-series/transformer-3.png" 
style="width: 70%; margin: 15px auto;"></p>
<p>We just mentioned that the Encoder will be divided into many blocks.<br>We will <strong>first convert a whole row of input sequence data into a whole row of vectors</strong>, and then the processing steps of each block are as follows:</p>
<ol>
<li>Firstly, after considering all the input information of the input vector through self-attention, output a row of vectors. (I will introduce how self-attention considers all input information later)</li>
<li>Throw this row of vectors into the feed forward network of Fully Connected (FC).</li>
<li>The final output vector is the output of the block.</li>
</ol>
<hr>
<p>However, what the block does in the original Transformer is more complicated, the details are as follows:<br><img data-src="/images/posts/NLP-series/transformer-4.png" 
style="width: 70%; margin: 15px auto;"></p>
<p>Suppose we will follow the method just now, and the <strong>output result of the input vector after self-attention is called a</strong>. we also need to <strong>pull the original input (we first call it b )</strong> and add it to a to get a+b . Such a network architecture is called a <strong>residual connection</strong>.</p>
<p>After that, we will do <strong>layer normalization</strong> on the result of a+b. It will calculate the average $m$(mean) and standard deviation $\sigma$(standard deviation) of the input vector, and then calculate it according to the formula: divide the input minus the mean $m$ by the standard deviation $\sigma$. Itâ€™s here that we really get <strong>the input of the FC network</strong>.</p>
<p>The <strong>FC network also has a residual architecture</strong>, so we will add the input of the FC network to its output to get a new output, and then do layer normalization again. This is the <strong>real output of a block in Transformer Encoder</strong>.</p>
<hr>
<p>Now, letâ€™s look back at the structure diagram of Encoder:</p>
<p><img data-src="/images/posts/NLP-series/transformer-5.png" 
style="width: 70%; margin: 15px auto;"></p>
<p>First, in the place of input, <strong>convert the input into a vector through Embedding</strong>, and then add <strong>positional encoding</strong> (because if only self-attention is used, there will be a lack of unknown information)</p>
<p>Next we see <strong>Multi-Head Attention</strong>, which is <strong>the block of self-attention and Add&amp;Norm means residual plus layer normalization</strong>.</p>
<p>Finally, <strong>doing Add&amp;Norm again after FCâ€™s feed forward network is the output of the whole block</strong>, and this block will be <strong>repeated n times</strong>.</p>
<h2 id="Decoder"><a href="#Decoder" class="headerlink" title="Decoder"></a>Decoder</h2><p>Then let us look at the Decoder:</p>
<p><img data-src="/images/posts/NLP-series/transformer-2.png" 
style="width: 70%; margin: 15px auto;"></p>
<p><strong>Input the sequence obtained at the previous time</strong>, and then perform the same Embedding and Positional Encoding and then enter the block repeated N times.<br>The difference is that there is an extra <strong>â€œMaskedâ€ (note the red box) in the Multi-Head Attention</strong> when we first entered. What does it mean?</p>
<p>Masked means that the model will <strong>only pay attention to the part it has already generated</strong>, and <strong>will not accidentally pay attention to the words generated in the future</strong>. Since the output of the Decoder is generated <strong>one by one</strong>, it has no way to consider its future input. It seems a bit vague to say this, and I will make it clearer when I talk about self-attention in the next article.</p>
<p>After repeating the block N times, after the <strong>Linear Layer and Softmax</strong>, we can get the output <strong>probability distribution</strong> we want, and we can sample according to this distribution or take the value with the highest probability to get the output sequence.</p>
<p>There is still one of the most critical self-attention mechanisms that has not been explained in detail. Letâ€™s introduce how it pays attention to all input sequences and performs parallel processing in the next article!</p>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><ul>
<li><span class="exturl" data-url="aHR0cHM6Ly9pdGhlbHAuaXRob21lLmNvbS50dy9hcnRpY2xlcy8xMDI4MDM5Mg==">iThome - Day 27 Transformer (Recommend)<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly9pdGhlbHAuaXRob21lLmNvbS50dy9hcnRpY2xlcy8xMDI4MTI0Mg==">iThome - Day 28 Self-Attention (Recommend)<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly9oYWNrbWQuaW8vQGFibGl1L0JrWG16REJtcg==">Transformer æå®æ¯…æ·±åº¦å­¸ç¿’ (Recommend)<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly9zcGVlY2guZWUubnR1LmVkdS50dy9+aHlsZWUvbWwvbWwyMDIxLWNvdXJzZS1kYXRhL3NlcTJzZXFfdjkucGRm">Transformer æå®æ¯…è€å¸«ç°¡å ±<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cueW91dHViZS5jb20vY2hhbm5lbC9VQzJnZ2p0dXVXdnhySEhIaWFESDFkbFE=">æå®æ¯…è€å¸«YouTube channel<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly9hcnhpdi5vcmcvYWJzLzE3MDYuMDM3NjI=">Attention is all you need (paper)<i class="fa fa-external-link-alt"></i></span></li>
</ul>
]]></content>
      <tags>
        <tag>ML</tag>
        <tag>AI</tag>
        <tag>NLP</tag>
      </tags>
  </entry>
  <entry>
    <title>[NLP][ML] Transformer (2) - Attention &amp; Summary</title>
    <url>/posts/2443192075/</url>
    <content><![CDATA[<h1 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h1><p>Self-attention allows the model to <strong>weigh the importance of different parts of an input sequence against each other</strong>, capturing <strong>relationships</strong> and dependencies between elements within the sequence. This is particularly powerful for tasks involving sequential or contextual information, such as language translation, text generation, and more.</p>
<p>What Self-Attention wants to do is to replace what RNN can do<br>Its output&#x2F;input is the same as RNN, and its biggest advantages are:</p>
<ul>
<li>Can parallelize operations</li>
<li>Each output vector has seen the entire input sequence. So there is no need to stack several layers like CNN.</li>
</ul>
<span id="more"></span>
<h1 id="Difference-between-attention-and-self-attention"><a href="#Difference-between-attention-and-self-attention" class="headerlink" title="Difference between attention and self-attention"></a>Difference between attention and self-attention</h1><p><strong>attention is a broader concept of selectively focusing on information</strong>, while <strong>self-attention is a specific implementation of this concept</strong> where elements within the same sequence are attended to. Self-attention is a fundamental building block of the Transformer architecture, allowing it to capture relationships and dependencies within sequences effectively.</p>
<h1 id="Attention-Machanism"><a href="#Attention-Machanism" class="headerlink" title="Attention (Machanism)"></a>Attention (Machanism)</h1><p>main idea:<br>use <strong>triples</strong><br>$$&lt;Q,K,V&gt;$$</p>
<p>Represents the <strong>attention mechanism</strong>, expresses the <strong>similarity between Query and Key</strong>, and then assigns the value of <strong>Value according to the similarity</strong><br><strong>formula</strong>:<br>$$Attention(Q,K,V) &#x3D; softmax(\frac{QK^T}{\sqrt{d_k}})V$$</p>
<h1 id="Self-Attention-Layer-Key"><a href="#Self-Attention-Layer-Key" class="headerlink" title="Self-Attention(Layer) (Key)"></a>Self-Attention(Layer) (<strong>Key</strong>)</h1><h2 id="Computing-process"><a href="#Computing-process" class="headerlink" title="Computing process"></a>Computing process</h2><ol>
<li><p>Now we suppose to enter $a_1$~$a_4$ Four vector, and Self-Attention needs to output another row of $b$ vectors, and each $b$ is generated after considering all $a$</p>
</li>
<li><p>To figure out $b_1$, the first step is based on $a_1$, find <strong>other vectors related to $a_1$</strong> in this sequence. We use the â€œ$\alpha$â€ to represent the <strong>similarity</strong> of each vector related to $a_1$.</p>
</li>
<li><p>It must be mentioned here that there are <strong>3 very important values in the Self-Attention mechanism</strong>: <strong>Query, Key, Value</strong>. Respectively represent <strong>the value used to match, the value to be matched, and the extracted information</strong>.</p>
</li>
<li><p>As for determining the <strong>correlation between two vectors</strong>, the most commonly used method is the <strong>dot product (here is scaled dot product)</strong>. It takes two vectors as input and multiplies them with two different matrices. The left vector is multiplied by the matrix $W^q$ (Query matrix), and the right vector is multiplied by the matrix $W^k$ (Key matrix). The values of $W^q$ and $W^k$ are both <strong>randomly initialized and obtained through training</strong>.</p>
</li>
<li><p>Next, after obtaining the two vectors, $q$, $k$, the <strong>dot product is computed between them</strong>. After summing up all the dot products, a <strong>scalar (magnitude)</strong> is obtained. This scalar is represented as $\alpha$, which we consider as <strong>the degree of correlation between the two vectors.</strong></p>
</li>
</ol>
<p><img data-src="/images/posts/NLP-series/transformer-6.png" 
style="width: 70%; margin: 15px auto;"></p>
<p>Next, we apply what was just introduced to Self-Attention.</p>
<ol>
<li>First, we calculate the relationships â€œ$\alpha$â€ between $a_1$ and $a_2$, $a_3$, $a_4$ individually. <ul>
<li>We multiply $a_1$ by $W^q$ to obtain $q_1$. </li>
<li>Then, we multiply $a_2$, $a_3$, $a_4$ by $W^k$ respectively and compute the inner products to determine the relationship â€œ$\alpha$â€ between $a_1$ and each vector. </li>
<li>Applying the Softmax function yields $\alphaâ€™$. </li>
<li>With this $\alphaâ€™$, we can extract crucial information from this sequence!</li>
</ul>
</li>
</ol>
<hr>
<p><img data-src="/images/posts/NLP-series/transformer-7.png" 
style="width: 70%; margin: 15px auto;"></p>
<ol start="2">
<li>How to extract important information using $\alphaâ€™$? The steps are as follows:</li>
</ol>
<ul>
<li>First, multiply $a_1$ ~ $a_4$ by $W^v$ to obtain new vectors, denoted as $v_1$, $v_2$, $v_3$ and $v_4$, respectively (where $W^v$ is the Value matrix).</li>
<li>Next, multiply each vector here, $v_1$ ~ $v_4$, by $\alphaâ€™$, and then sum them to obtain the output $b_1$ (formula written in the top-right corner of the image).</li>
</ul>
<p>If a certain vector receives a higher score - for instance, if the relationship between $a_1$ and $a_2$ is strong, leading to a large value for $\alpha_{1,2}â€™$ - then after performing the weighted sum, the value of $b_1$ obtained could be very close to $v_2$.</p>
<p>Now that we know how to compute $b_1$, it naturally follows that we can deduce $b_1$, $b_2$, $b_3$, and $b_4$ using the same method. With this, we have completed the explanation of the internal computation process of Self-Attention.</p>
<p>Last but not least, the <strong>similarity matrix($\alpha_{i,j}$)</strong> is just the <strong>attention</strong> in the self-attention layer, i.e. importance or relevance to other elements in the same sequence..</p>
<h1 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h1><h2 id="Attention-Score-Weight-and-Output"><a href="#Attention-Score-Weight-and-Output" class="headerlink" title="Attention (Score, Weight and Output)"></a>Attention (Score, Weight and Output)</h2><ul>
<li>$ Attention Score &#x3D; QK^T $</li>
<li>$ Attention Weights &#x3D; Softmax(\frac{Attention Score}{\sqrt{d_k}}) $</li>
<li>$ Attention Output &#x3D; (Attention Weights)V $</li>
</ul>
<h2 id="Key-Components-of-Transformers"><a href="#Key-Components-of-Transformers" class="headerlink" title="Key Components of Transformers"></a>Key Components of Transformers</h2><ol>
<li><p>Self-Attention Mechanism:<br>The core innovation of the Transformer is the self-attention mechanism, which allows the model to <strong>weigh the importance of different words in a sequence relative to each other</strong>. It computes attention scores for each word by considering its <strong>relationships with all other words</strong> in the same sequence. Self-attention enables capturing context and dependencies between words <strong>regardless of their distance</strong>.</p>
</li>
<li><p>Multi-Head Attention:<br>To capture different types of relationships, the Transformer employs multi-head attention. <strong>Multiple sets of self-attention mechanisms (attention heads) run in parallel</strong>, and their outputs are concatenated and linearly transformed to create a more comprehensive representation.</p>
</li>
<li><p>Positional Encodings:<br>Since the Transformer does not inherently understand <strong>the order of words in a sequence</strong> (unlike recurrent networks(RNN)), positional encodings are added to the input embeddings. These encodings provide <strong>information about the positions of words within the sequence</strong>.</p>
</li>
<li><p>Encoder-Decoder Architecture:<br>The Transformerâ€™s architecture is divided into an <strong>encoder and a decoder</strong>. The <strong>encoder processes the input sequence, capturing its contextual information</strong>, while the <strong>decoder generates the output sequence</strong>. This architecture is widely used in tasks like machine translation.</p>
</li>
<li><p>Residual Connections and Layer Normalization:<br>To address the <strong>vanishing gradient problem</strong>, residual connections (skip connections) are used around each sub-layer in the encoder and decoder. Layer normalization is also applied to <strong>stabilize</strong> the training process.</p>
</li>
<li><p>Position-wise Feed-Forward Networks:<br>After the self-attention layers, each positionâ€™s representation is passed through a position-wise feed-forward neural network, which <strong>adds non-linearity to the model</strong>.</p>
</li>
<li><p>Scaled Dot-Product Attention:<br>The self-attention mechanism involves computing the <strong>dot product of query, key, and value vectors</strong>. To control the scale of the dot products and <strong>avoid large gradients</strong>, the dot products are divided by the <strong>square root of the dimension of the key vectors</strong>.</p>
</li>
<li><p>Masked Self-Attention in Decoding:<br>During decoding, the self-attention mechanism is modified to <strong>ensure that each position can only attend to previous positions</strong>. This masking <strong>prevents the model from â€œcheatingâ€ by looking ahead in the output sequence</strong>.</p>
</li>
<li><p>Transformer Variants:<br> The original Transformer model has inspired various extensions and improvements, such as BERT, GPT, and more. BERT focuses on pretraining language representations, while GPT is designed for autoregressive text generation.</p>
</li>
</ol>
<p>The Transformer architecture has become the foundation for many state-of-the-art NLP models due to its ability to <strong>capture context, parallelize computations, and handle long-range dependencies effectively</strong>. It has led to significant advancements in machine translation, text generation, sentiment analysis, and various other NLP tasks.</p>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><ul>
<li><span class="exturl" data-url="aHR0cHM6Ly9pdGhlbHAuaXRob21lLmNvbS50dy9hcnRpY2xlcy8xMDI4MDM5Mg==">iThome - Day 27 Transformer (Recommend)<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly9pdGhlbHAuaXRob21lLmNvbS50dy9hcnRpY2xlcy8xMDI4MTI0Mg==">iThome - Day 28 Self-Attention (Recommend)<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly9oYWNrbWQuaW8vQGFibGl1L0JrWG16REJtcg==">Transformer æå®æ¯…æ·±åº¦å­¸ç¿’ (Recommend)<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly9zcGVlY2guZWUubnR1LmVkdS50dy9+aHlsZWUvbWwvbWwyMDIxLWNvdXJzZS1kYXRhL3NlcTJzZXFfdjkucGRm">Transformer æå®æ¯…è€å¸«ç°¡å ±<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cueW91dHViZS5jb20vY2hhbm5lbC9VQzJnZ2p0dXVXdnhySEhIaWFESDFkbFE=">æå®æ¯…è€å¸«YouTube channel<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly9hcnhpdi5vcmcvYWJzLzE3MDYuMDM3NjI=">Attention is all you need (paper)<i class="fa fa-external-link-alt"></i></span></li>
</ul>
]]></content>
      <tags>
        <tag>ML</tag>
        <tag>AI</tag>
        <tag>NLP</tag>
      </tags>
  </entry>
  <entry>
    <title>[NLP][ML] Transformer (3) - More conputational detail</title>
    <url>/posts/1255359463/</url>
    <content><![CDATA[<h1 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h1><p>In this article, I will focus more on the computing detail in transformer.<br>It will cover self-attention, prallel processing, multi-head self-attention, positional encoding and so on.</p>
<p><img data-src="/images/posts/NLP-series/transformer-2.png" 
style="width: 70%; margin: 15px auto;"></p>
<span id="more"></span>

<h1 id="Self-Attention"><a href="#Self-Attention" class="headerlink" title="Self-Attention"></a>Self-Attention</h1><h2 id="Idea"><a href="#Idea" class="headerlink" title="Idea"></a>Idea</h2><ul>
<li>Input:<ul>
<li>$x_1$, â€¦, $x_4$, is a sequence.</li>
<li>Each input first goes through an <strong>embedding(convert to vectors)</strong>, multiplied by a weight matrix to become $a_1$, â€¦, $a_4$. These $a_1$, â€¦, $a_4$ are then passed into a Self-attention layer</li>
</ul>
</li>
<li>Each input is multiplied by different vectors:<ul>
<li>$q$: query (to match against others)<ul>
<li>$q_i$ &#x3D; $W^qa_i$</li>
</ul>
</li>
<li>$k$: key (to be matched)<ul>
<li>$k_i$ &#x3D; $W^ka_i$</li>
</ul>
</li>
<li>$v$: value, information to be extracted<ul>
<li>$v_i$ &#x3D; $W^va_i$</li>
</ul>
</li>
</ul>
</li>
<li>The weights $W^q$, $W^k$, $W^v$ are <strong>learned, initially randomly initialized</strong>.</li>
</ul>
<h2 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h2><p><img data-src="/images/posts/NLP-series/transformer-6.png" 
style="width: 70%; margin: 15px auto;"></p>
<p><img data-src="/images/posts/NLP-series/transformer-7.png" 
style="width: 70%; margin: 15px auto;"></p>
<ol>
<li>Take each query <strong>$q$ and perform attention on each key $k$</strong> (using two vectors to output a score(attention score)), which is essentially calculating the <strong>similarity of $q$ and $k$ (Similarity)</strong>.<ul>
<li>Scaled Dot-Product: $S(q_1, k_1)$ yields $\alpha_{1,1}$, $S(q_1, k_2)$ yields $\alpha_{1,2}$, and so on.</li>
<li>$\alpha_{1,i}$ &#x3D; $  q_1 \cdot k_i &#x2F; \sqrt{d}$ </li>
<li>$d$ represents the <strong>dimensions of $q$ and $k$</strong>. This is a <strong>trick used by the authors in the paper</strong>.</li>
</ul>
</li>
<li>Followed by <strong>Softmax normalization to normalize the values</strong>.</li>
<li>Multiply the obtained $\hat{\alpha}$ with $v$ to get $b$, which is <strong>equivalent to a weighted sum</strong>.</li>
<li>The obtained $b_1$ in the figure is the <strong>first vector (word or character)</strong> of the sought sequence.</li>
<li>Each output vector incorporates information from the <strong>entire sequence</strong>.</li>
</ol>
<h1 id="Prallel-Processing"><a href="#Prallel-Processing" class="headerlink" title="Prallel Processing"></a>Prallel Processing</h1><p><img data-src="/images/posts/NLP-series/transformer-8.png" 
style="width: 70%; margin: 15px auto;"></p>
<p>$$q_i &#x3D; W^qa_i$$<br>$$k_i &#x3D; W^ka_i$$<br>$$v_i &#x3D; W^va_i$$</p>
<hr>
<p><img data-src="/images/posts/NLP-series/transformer-9.png" 
style="width: 70%; margin: 15px auto;"></p>
<ol>
<li>Consider $a_1$, â€¦, $a_4$ as a matrix $I$. Multiply it by the weight matrix $W^q$ to obtain $q_1$, â€¦, $q_4$, forming another matrix $Q$. </li>
<li>The same process applies to matrices $K$ and $V$, formed by multiplying $q$, $k$, and $a$ to get<br>$\alpha_{1,1}$ &#x3D; $k^T_1 \cdot q_1$,<br>$\alpha_{1,2}$ &#x3D; $k^T_2 \cdot q_1$,<br>â€¦<br>Stack $k_1$, â€¦, $k_4$ to form matrix $K$, then multiply it by $q_1$ stacked with $q_2$, â€¦, $q_4$ to form matrix $Q$, resulting in a matrix $A$ composed of $\alpha$ values, which is the <strong>Attention</strong>. </li>
<li>After applying Softmax, it becomes $\hat{A}$. In each time step, attention exists between each pair of vectors.</li>
</ol>
<hr>
<p><img data-src="/images/posts/NLP-series/transformer-10.png" 
style="width: 70%; margin: 15px auto;"></p>
<p>By calculating the <strong>weighted sum of $V$ and $\hat{A}$</strong>, you obtain $b$, and the matrix composed of b forms the <strong>output matrix $O$</strong>.â€</p>
<hr>
<h2 id="What-self-attention-layer-do"><a href="#What-self-attention-layer-do" class="headerlink" title="What self-attention layer do"></a>What self-attention layer do</h2><p><img data-src="/images/posts/NLP-series/transformer-11-1.png" 
style="width: 70%; margin: 15px auto;"></p>
<p><img data-src="/images/posts/NLP-series/transformer-11-2.png" 
style="width: 70%; margin: 15px auto;"></p>
<p>By converting it into matrix multiplication, you can utilize the <strong>GPU to accelerate the computation</strong>.</p>
<h1 id="Multi-head-Self-attention"><a href="#Multi-head-Self-attention" class="headerlink" title="Multi-head Self-attention"></a>Multi-head Self-attention</h1><p><img data-src="/images/posts/NLP-series/transformer-12.png" 
style="width: 70%; margin: 15px auto;"></p>
<p>Taking 2 heads as an example:</p>
<ul>
<li>Having <strong>2 heads</strong> means splitting $q, k, v$ into two sets of $q, k, v$. And $q_{i,1}$ will only be multiplied with $k_{i,1}$ to obtain $\alpha_{i,1}$, finally calculating $b_{i,1}$. </li>
<li>Afterward, concatenate $b_{i,1}, b_{i,2}$, apply a transformation, and perform dimension reduction to obtain the final $b_i$.</li>
<li><strong>Each head focuses on different information</strong>; some only care about local information (neighborhood data), while others concentrate on global (long-term) information, and so on.</li>
</ul>
<h1 id="Positional-Encoding"><a href="#Positional-Encoding" class="headerlink" title="Positional Encoding"></a>Positional Encoding</h1><p><img data-src="/images/posts/NLP-series/transformer-13.png" 
style="width: 40%; margin: 15px auto;"></p>
<p>In the attention mechanism, the order of words in the input sentence doesnâ€™t matter.</p>
<hr>
<p><img data-src="/images/posts/NLP-series/transformer-14.png" 
style="width: 70%; margin: 15px auto;"></p>
<ul>
<li>Without positional information &#x3D;&gt; Therefore, there is a <strong>unique position vector $e_i$</strong>, which is not learned but set by humans.</li>
<li>Other methods: <strong>Using one-hot encoding</strong> to represent $p_i$ as $x_i$ to denote its position.</li>
</ul>
<h1 id="Seq2seq-with-Attention"><a href="#Seq2seq-with-Attention" class="headerlink" title="Seq2seq with Attention"></a>Seq2seq with Attention</h1><p><img data-src="/images/posts/NLP-series/transformer-15.png" 
style="width: 70%; margin: 15px auto;"></p>
<p>The original seq2seq model consists of two RNNs, an Encoder and a Decoder, and can be applied to machine translation.</p>
<p>In the diagram above, the Encoder originally contained bidirectional RNNs, while the Decoder contained a unidirectional RNN. In the diagram below, <strong>both(bi&#x2F;unidirectional RNN) have been replaced with Self-Attention layers</strong>, achieving the same purpose and enabling <strong>parallel processing</strong>.</p>
<p><img data-src="/images/posts/NLP-series/transformer-16.png" 
style="width: 70%; margin: 15px auto;"></p>
<h1 id="Look-into-the-detail-of-Transformer-Model"><a href="#Look-into-the-detail-of-Transformer-Model" class="headerlink" title="Look into the detail of Transformer Model"></a>Look into the detail of Transformer Model</h1><p><img data-src="/images/posts/NLP-series/transformer-2.png" 
style="width: 70%; margin: 15px auto;"></p>
<p>Using Chinese to English translation for example.</p>
<h2 id="Encoder-Part"><a href="#Encoder-Part" class="headerlink" title="Encoder Part:"></a>Encoder Part:</h2><ol>
<li>The input goes through <strong>Input Embedding</strong>, which considers <strong>positional information</strong> and is augmented with manually set Positional Encoding. It then enters the block that <strong>repeats N times</strong>.</li>
</ol>
<hr>
<p><img data-src="/images/posts/NLP-series/transformer-17.png" 
style="width: 70%; margin: 15px auto;"></p>
<ol start="2">
<li>Multi-head:<br>Within the Encoder, it utilizes <strong>Multi-head Attention,</strong> which means there <strong>are multiple sets of $q$, $k$, $z$</strong>. Inside this mechanism, individual $qkv$ multiplications with $a$ are performed, leading to the calculation of $\alpha$, ultimately resulting in $b$.</li>
</ol>
<hr>
<p><img data-src="/images/posts/NLP-series/transformer-18.png" 
style="width: 70%; margin: 15px auto;"></p>
<ol start="3">
<li>Add &amp; Norm (residual connection):<br>The <strong>input</strong> of Multi-head Attention, denoted as <strong>$a$</strong>, is added to the <strong>output $b$</strong>, resulting in <strong>$b^\prime$</strong>. Following this, <strong>Layer Normalization</strong> is performed. </li>
<li>Once the calculations are completed, the result is passed through the <strong>forward propagation</strong>, followed by another <strong>Add &amp; Norm</strong> step.</li>
</ol>
<h2 id="Decoder-Part"><a href="#Decoder-Part" class="headerlink" title="Decoder Part"></a>Decoder Part</h2><p><img data-src="/images/posts/NLP-series/transformer-18-2.png" 
style="width: 70%; margin: 15px auto;"></p>
<ol>
<li><p>The Decoder <strong>input is the output from the previous time step</strong>. It goes through output embedding, considering positional information, and is augmented with manually set positional encoding. It then enters the block that repeats n times.</p>
</li>
<li><p><strong>Masked Multi-head Attention</strong>:<br>Attention is performed, where <strong>â€œMaskedâ€ indicates attending only to the already generated sequence</strong>. This is followed by an Add &amp; Norm layer.</p>
</li>
<li><p>Next, it undergoes a Multi-head Attention layer, attending to the <strong>previous output of the Encoder</strong>, followed by another Add &amp; Norm layer.</p>
</li>
<li><p>After the computations, it is passed to the <strong>Feed Forward forward propagation</strong>. Subsequently, <strong>Linear and Softmax</strong> operations are applied to generate the <strong>final output</strong>.</p>
</li>
</ol>
<hr>
<p>Last but not least, I provide the definition and purpose of encoder and decoder (in the previous article):</p>
<blockquote>
<p>Encoder-Decoder Architecture:<br>   The Transformerâ€™s architecture is divided into an <strong>encoder and a decoder</strong>. The <strong>encoder processes the input sequence, capturing its contextual information</strong>, while the <strong>decoder generates the output sequence</strong>. This architecture is widely used in tasks like machine translation.</p>
</blockquote>
<h1 id="Attention-Visualization"><a href="#Attention-Visualization" class="headerlink" title="Attention Visualization"></a>Attention Visualization</h1><h2 id="single-head"><a href="#single-head" class="headerlink" title="single-head"></a>single-head</h2><p><img data-src="/images/posts/NLP-series/transformer-19.png" 
style="width: 70%; margin: 15px auto;"></p>
<p>The relationships between words. The thicker the line, the more related of these words.</p>
<h2 id="multi-head"><a href="#multi-head" class="headerlink" title="multi-head"></a>multi-head</h2><p><img data-src="/images/posts/NLP-series/transformer-20.png" 
style="width: 70%; margin: 15px auto;"></p>
<p>The results obtained by pairing different sets of $q$ and $k$ vectors differ, indicating that different sets of $q$ and $k$ possess distinct information. This signifies that various sets of $q$ and $k$ hold different types of information, with some focusing on local aspects (below) and others on global aspects (above).</p>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><ul>
<li><span class="exturl" data-url="aHR0cHM6Ly9pdGhlbHAuaXRob21lLmNvbS50dy9hcnRpY2xlcy8xMDI4MDM5Mg==">iThome - Day 27 Transformer (Recommend)<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly9pdGhlbHAuaXRob21lLmNvbS50dy9hcnRpY2xlcy8xMDI4MTI0Mg==">iThome - Day 28 Self-Attention (Recommend)<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly9oYWNrbWQuaW8vQGFibGl1L0JrWG16REJtcg==">Transformer æå®æ¯…æ·±åº¦å­¸ç¿’ (Recommend)<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly9zcGVlY2guZWUubnR1LmVkdS50dy9+aHlsZWUvbWwvbWwyMDIxLWNvdXJzZS1kYXRhL3NlcTJzZXFfdjkucGRm">Transformer æå®æ¯…è€å¸«ç°¡å ±<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly93d3cueW91dHViZS5jb20vY2hhbm5lbC9VQzJnZ2p0dXVXdnhySEhIaWFESDFkbFE=">æå®æ¯…è€å¸«YouTube channel<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly9hcnhpdi5vcmcvYWJzLzE3MDYuMDM3NjI=">Attention is all you need (paper)<i class="fa fa-external-link-alt"></i></span></li>
</ul>
]]></content>
      <tags>
        <tag>ML</tag>
        <tag>AI</tag>
        <tag>NLP</tag>
      </tags>
  </entry>
  <entry>
    <title>[NLP] MLLM(å¤šæ¨¡æ…‹LLM) è«–æ–‡ç°¡è¦æ¬£è³</title>
    <url>/posts/2312529159/</url>
    <content><![CDATA[<h1 id="Abstract-amp-Overview"><a href="#Abstract-amp-Overview" class="headerlink" title="Abstract &amp; Overview"></a>Abstract &amp; Overview</h1><p>é€™ç¯‡æ–‡ç« æˆ‘å€‘ä¾†æ¬£è³ä¸€ä¸‹åœ¨arXivä¸Šçš„ä¸€ç¯‡è«–æ–‡ï¼š<br><span class="exturl" data-url="aHR0cHM6Ly9hcnhpdi5vcmcvYWJzLzIzMDYuMTM1NDk=">A Servey on Multimodal Large Language Models<i class="fa fa-external-link-alt"></i></span><br>é€™ç¯‡è«–æ–‡ä¸»è¦åœ¨ä»‹ç´¹èˆ‡æ•´ç†ç¾è¡Œä»£è¡¨æ€§çš„MLLM(Multimodal LLM)ï¼Œä¸¦å°‡å…¶åˆ†é¡ç‚º4å¤§é«”è£ï¼š<br>Multimodal Instruction Tuning(M-IT), Multimodal In-Context Learning(M-ICL), Multimodal Chain-of_Thought(M-CoT)ä»¥åŠLLM-Aided Visual Reasoning(LAVR)ã€‚<br>å…¶ä¸­ï¼Œå‰ä¸‰è€…ç‚ºMLLMçš„åŸºç¤ï¼Œè€Œæœ€å¾Œä¸€å€‹å‰‡æ˜¯ä»¥LLMç‚ºæ ¸å¿ƒçš„multimodal systemï¼Œé¡ä¼¼æ–¼ä¸€å€‹ç³»çµ±æ¡†æ¶ã€‚</p>
<p>MLLMæŒ‡çš„æ˜¯åœ¨LLMçš„åŸºç¤ä¸Šï¼Œå¾å–®æ¨¡æ…‹èµ°å‘å¤šæ¨¡æ…‹ï¼Œå¾äººå·¥æ™ºæ…§çš„è§’åº¦ä¾†çœ‹ï¼ŒMLLMæ¯”LLMå‘å‰åˆè·¨å‡ºäº†ä¸€æ­¥ï¼ŒåŸå› å¦‚ä¸‹ï¼š</p>
<ol>
<li>MLLMæ›´ç¬¦åˆäººçš„æ„Ÿå®˜ä¸–ç•Œï¼Œè‡ªç„¶åœ°æ¥å—å¤šæ„Ÿå®˜è¼¸å…¥</li>
<li>MLLMæä¾›ä¸€å€‹å‹å¥½çš„ä»‹é¢ï¼Œæ”¯æŒå¤šæ¨¡æ…‹è¼¸å…¥ï¼Œä½¿å…¶æ˜“æ–¼èˆ‡ä½¿ç”¨è€…äº¤æµ</li>
<li>MLLMæ˜¯ä¸€å€‹æ›´å…¨é¢çš„å•é¡Œè§£æ±ºè€…ï¼Œé›–ç„¶LLMå¯ä»¥è§£æ±ºNLPçš„å•é¡Œï¼Œä½†MLLMé€šå¸¸å¯ä»¥æ”¯æŒæ›´å¤§ç¯„åœçš„ä»»å‹™</li>
</ol>
<p>ä¸‹é¢æˆ‘å°‡é‡å°é€™ç¯‡è«–æ–‡ä¸­è¼ƒç‚º<strong>é‡è¦çš„éƒ¨åˆ†åšç°¡è¦çš„æ¬£è³èˆ‡åˆ†æ</strong> ï¼Œå…¶ä»–ç´°ç¯€éƒ¨åˆ†å¯ä»¥è‡ªè¡Œé–±è®€é€™ç¯‡ç²¾å½©çš„è«–æ–‡ï¼</p>
<span id="more"></span>
<h1 id="Prerequest-amp-Note"><a href="#Prerequest-amp-Note" class="headerlink" title="Prerequest &amp; Note"></a>Prerequest &amp; Note</h1><p>åœ¨é–‹å§‹ä¹‹å‰ï¼Œå…ˆä»‹ç´¹åœ¨è«–æ–‡ä¸­å¸¸å‡ºç¾çš„ä¸€äº›åŸºæœ¬åè©</p>
<h2 id="IT-ICL-CoT"><a href="#IT-ICL-CoT" class="headerlink" title="IT, ICL, CoT"></a>IT, ICL, CoT</h2><p>è®“æˆ‘å€‘å…ˆçœ‹ä¸€ä¸‹é€™ä¸‰è€…çš„å®šç¾©ï¼š</p>
<ol>
<li><strong>Instruction Tuning:</strong><ul>
<li>Instruction tuning involves fine-tuning a pre-trained language model by providing <strong>specific instructions during the training process.</strong></li>
<li>These instructions can be in the form of <strong>prompts or demonstrations</strong>, guiding the model to generate responses in a desired manner.</li>
<li>It allows for controlled language generation and can be useful for generating responses tailored to specific tasks or contexts.</li>
</ul>
</li>
<li><strong>In Context Learning:</strong><ul>
<li>In context learning refers to training a language model on a <strong>large dataset with diverse contexts and topics.</strong></li>
<li>The model learns to <strong>understand</strong> and generate responses based on the context it is given, which allows for more <strong>contextually relevant and coherent responses.</strong></li>
<li>This approach is suitable for applications where the model needs to <strong>understand and adapt to various contexts</strong> during language generation.</li>
</ul>
</li>
<li><strong>Chain of Thought:</strong><ul>
<li>Chain of thought is a concept in natural language generation where the model maintains <strong>coherence throughout a conversation by remembering past interactions.</strong></li>
<li>The model keeps track of the conversation history, ensuring <strong>consistent</strong> responses and avoiding contradictions.</li>
<li>This is especially valuable in chatbot applications to provide more human-like and coherent conversations.</li>
</ul>
</li>
</ol>
<p>ç°¡å–®æ•´ç†ä¸€ä¸‹ä¸‰è€…çš„å·®ç•°ï¼š</p>
<blockquote>
<ul>
<li>Instruction Tuning è‘—é‡æ–¼å¾®èª¿æ¨¡å‹ä»¥éµå¾ªç‰¹å®šçš„æŒ‡ä»¤æˆ–æŒ‡å°ï¼Œä½¿å…¶æ›´å¥½åœ°ç¬¦åˆç‰¹å®šä»»å‹™æˆ–éœ€æ±‚çš„ç”Ÿæˆã€‚</li>
<li>In-Context Learning å¼·èª¿ç†è§£ä¸Šä¸‹æ–‡ï¼Œç¢ºä¿ç”Ÿæˆçš„çµæœèˆ‡ä¸Šä¸‹æ–‡ç›¸é—œä¸”é€£è²«ã€‚</li>
<li>Chain-of-Thought å¼·èª¿æ¨¡å‹ç”Ÿæˆæ–‡æœ¬æ™‚çš„é€£è²«æ€§ï¼Œèƒ½å¤ è¨˜ä½éå»çš„äº’å‹•ï¼Œä½¿ç”Ÿæˆçš„æ–‡æœ¬åƒäººé¡æ€ç¶­çš„é€£è²«æ€§ä¸€æ¨£ã€‚<br>é€™ä¸‰å€‹æ–¹æ³•æˆ–æ¦‚å¿µæ˜¯ç¨ç«‹çš„ï¼Œä½†å¯ä»¥æ­é…ä½¿ç”¨ï¼Œå‰µé€ æ›´å¥½çš„æ•ˆæœã€‚</li>
</ul>
</blockquote>
<h2 id="Zero-Shot-Few-Shot-Learning"><a href="#Zero-Shot-Few-Shot-Learning" class="headerlink" title="Zero-Shot, Few-Shot Learning"></a>Zero-Shot, Few-Shot Learning</h2><p>å…ˆçœ‹ä¸€ä¸‹å…©è€…çš„å®šç¾©ï¼š</p>
<ul>
<li><p><strong>Zero-Shot Learning:</strong></p>
<ul>
<li>Zero-shot learning is a learning paradigm where a model is trained to perform a task for which <strong>it has never seen any examples during training.</strong> </li>
<li>In other words, the model is expected to <strong>generalize its knowledge</strong> from the training data to <strong>new, unseen categories or tasks.</strong></li>
</ul>
</li>
<li><p><strong>Few-Shot Learning:</strong></p>
<ul>
<li>Few-shot learning is a similar concept, but it allows a model to be trained on a very small number of examples for each new category or task it encounters. * </li>
<li>Instead of needing a large amount of data per class, few-shot learning aims to generalize from a few examples. </li>
<li>Itâ€™s like teaching a model to learn from just a handful of samples. This is particularly useful in scenarios where collecting a substantial amount of data for each new class is impractical.</li>
</ul>
</li>
</ul>
<h2 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h2><p>é€™é‚Šæ•´ç†äº†ä¸€äº›é‡è¦çš„å°ˆæœ‰åè©</p>
<ul>
<li>Learning Paradigm<ul>
<li>A learning paradigm refers to a <strong>specific approach or framework used to train machine learning models.</strong> </li>
<li>It encompasses the fundamental principles, methods, and strategies that guide how models are constructed, trained, and evaluated. </li>
<li>Different learning paradigms offer distinct ways of addressing various types of problems and data.</li>
<li>E.g. Supervised Learning, Semi-Supervised Learning, Reinforcement Learning, Transfer Learning, etc.</li>
</ul>
</li>
</ul>
<p>ç°¡å–®æ•´ç†ä¸€ä¸‹å…©è€…çš„å·®ç•°ï¼š</p>
<blockquote>
<ul>
<li>Zero-Shot Learning åˆ©ç”¨å…ˆå‰å­¸ç¿’çš„çŸ¥è­˜ï¼ŒåŸ·è¡Œå…¨æ–°ã€æœªçœ‹éçš„ä»»å‹™é¡åˆ¥ã€‚</li>
<li>Few-Shot Learning åˆ©ç”¨å°‘é‡çš„ç¯„ä¾‹(æœ‰ç­”æ¡ˆ)ï¼Œå»é©æ‡‰æ–°çš„ä»»å‹™é¡åˆ¥ã€‚</li>
</ul>
</blockquote>
<h1 id="M-IT"><a href="#M-IT" class="headerlink" title="M-IT"></a>M-IT</h1><p>InstructionæŒ‡çš„æ˜¯å°æ–¼ä»»å‹™çš„æè¿°ï¼ŒITæ˜¯ä¸€ç¨®åˆ©ç”¨instruction-formatted datasetsä¾†è¨“ç·´LLMçš„æŠ€å·§ã€‚åˆ©ç”¨é€™å€‹æŠ€å·§ï¼ŒLLMå¯ä»¥é€éè·Ÿéš¨æ–°çš„instructionä¾†æ³›åŒ–æœªæ›¾çœ‹éçš„æ–°ä»»å‹™ï¼Œé€²è€Œå¯¦ç¾zero-shot learningçš„æˆæ•ˆã€‚<br>ä¸‹é¢æ˜¯è«–æ–‡ä¸­å¼•ç”¨ä¾†æç¹ªinstruction tuningèˆ‡å…¶ä»–learning paradigmsçš„åœ–ç¤º</p>
<p><img data-src="/images/posts/paper-study/MLLM-1.png" 
style="width: 70%; margin: 15px auto;"></p>
<hr>
<p>ç‚ºäº†è¦å¾unimodalityåˆ°mutimodalityï¼Œéœ€è¦èª¿æ•´çš„éƒ¨åˆ†ä¸»è¦ <strong>åˆ†ç‚ºå…©å€‹ï¼šâ€Dataâ€ å’Œ â€œModelâ€ã€‚</strong></p>
<ol>
<li><p>åœ¨Dataæ–¹é¢ï¼Œæˆ‘å€‘å¸¸ <strong>èª¿æ•´ç¾å­˜çš„benchmark datasetsä¾†å–å¾—M-IT datasetsï¼Œæˆ–æ˜¯ä½¿ç”¨self-instructionã€‚</strong><br>ä¸‹é¢çš„åœ–ç°¡å–®å‘ˆç¾äº†M-IT dataçš„æ¨¡æ¿<br><img data-src="/images/posts/paper-study/MLLM-2.png" 
style="width: 70%; margin: 15px auto;"></p>
</li>
<li><p>åœ¨Modelæ–¹é¢ï¼Œä¸€å€‹å¸¸è¦‹çš„åšæ³•æ˜¯å°‡ <strong>å…¶ä»–modalitiesçš„è³‡è¨Šæ³¨å…¥é€²LLMï¼Œä¸¦æŠŠLLMç•¶æˆæ˜¯ä¸€å€‹å¼·å¤§çš„æ¨ç†è€…ã€‚</strong> å…¶ä»–ç›¸é—œçš„è‘—ä½œå¸¸æœƒç›´æ¥å°‡ç†è§£å¤–ä¾†modalityçš„èƒ½åŠ›åµŒå…¥é€²LLMï¼›æˆ–æ˜¯ä½¿ç”¨expert modelæŠŠå¤–ä¾†çš„modalityè½‰æ›æˆLLMå¯ä»¥ç†è§£çš„natural languageã€‚</p>
</li>
</ol>
<hr>
<h2 id="Formulation-M-IT-amp-M-IT-sample"><a href="#Formulation-M-IT-amp-M-IT-sample" class="headerlink" title="Formulation M-IT &amp; M-IT sample"></a>Formulation M-IT &amp; M-IT sample</h2><p>é€™é‚Šæˆ‘ç°¡å–®æŠŠè«–æ–‡ä¸­æåˆ°æœ‰é—œM-ITä»¥åŠå…¶ç›®æ¨™å‡½æ•¸çš„å…§å®¹æ‹‰å‡ºä¾†<br>M-IT sampleå…¶å¯¦å¯ä»¥è¢«æ¨™ç¤ºç‚ºä¸‰å…ƒç´ çš„æ•¸çµ„ï¼š<br>$$(I, M, R)$$<br>åˆ†åˆ¥ä»£è¡¨instruction, multimodal inputä»¥åŠground-truth response</p>
<p>MLLMåˆ©ç”¨çµ¦äºˆçš„instructionå’Œmultimodal inputé æ¸¬answer<br>$$ A &#x3D; f(I, M; \theta)$$<br>å…¶ä¸­ï¼ŒAä»£è¡¨é æ¸¬çš„ç­”æ¡ˆ(answer)ï¼Œ$\theta$ å‰‡ä»£è¡¨æ¨¡å‹ä¸­çš„parameters</p>
<p>è€Œè¨“ç·´çš„ç›®æ¨™æ˜¯è¦æœ€å°åŒ–loss functionï¼Œè€ŒMLLMçš„ç›®æ¨™æ˜¯è¦é æ¸¬ä¸‹ä¸€å€‹responseçš„tokenï¼ŒåŸºæ–¼é€™é»ï¼Œloss functionå¯ä»¥é€™éº¼è¡¨ç¤ºï¼š<br>$$\begin{equation}<br>    L(\theta) &#x3D; -\sum_{i&#x3D;1}^N\log{}p(R_i|I,R_{&lt;i};\theta)<br>\end{equation}$$<br>å…¶ä¸­ï¼Œ</p>
<ul>
<li>Nç‚ºground-truth responseçš„é•·åº¦</li>
<li>ä½¿ç”¨logæ˜¯å› ç‚ºå°‡æ©Ÿç‡é€£ä¹˜è½‰ç‚ºé€£åŠ ï¼Œä»¥é¿å…underflow</li>
<li>å› ç‚ºæ˜¯loss functionï¼Œæ‰€ä»¥åŠ å€‹è² è™Ÿï¼Œæœ€å°åŒ–loss functionåŒæ™‚æœ€å¤§åŒ–é æ¸¬ä¸‹å€‹tokençš„æ©Ÿç‡</li>
<li>åˆ©ç”¨instructionèˆ‡å‰i-1å€‹ground truth response tokené æ¸¬ç¬¬iå€‹token</li>
</ul>
<hr>
<h2 id="Bridgin-the-gap-between-different-modalities"><a href="#Bridgin-the-gap-between-different-modalities" class="headerlink" title="Bridgin the gap between different modalities"></a>Bridgin the gap between different modalities</h2><p>åœ¨é€™ç¯‡è«–æ–‡ä¸­æåˆ°ä¸€å€‹éå¸¸é‡è¦çš„å•é¡Œï¼šè©²æ€éº¼é€£çµä¸åŒçš„modalitiesï¼Ÿ<br>ä¸»è¦æœ‰å…©ç¨®æ–¹æ³•ï¼š</p>
<ol>
<li>Learnable Interface: <ul>
<li>åœ¨LLMçš„å…¶ä¸­ä¸€å€‹æ¨¡çµ„æˆ–æ¬Šé‡ä¸‹å»åšèª¿æ•´ï¼Œä¸¦æ’å…¥åœ¨pre-trained visual encoderèˆ‡LLMä¹‹é–“ï¼Œä½œç‚ºä¸€å€‹å¯ä»¥ç”¨ä¾†è¨“ç·´æ¨¡æ…‹è½‰æ›çš„modelã€‚</li>
<li>é€£çµä¸åŒçš„modalitiesçš„åŒæ™‚ï¼Œå‡çµpre-trained modelçš„parametersã€‚</li>
<li>å¦‚ä½•å°‡è¦–è¦ºå…§å®¹è½‰ç‚ºLLMå¯ä»¥ç†è§£å¾—æ–‡å­—æ ¼å¼</li>
</ul>
</li>
<li>Expert model: <ul>
<li>åˆ©ç”¨å…¶ä»–æ¨¡å‹ï¼Œè½‰æ›å¤–ä¾†çš„modalityæˆä¸éœ€è¦è¨“ç·´è¨“ç·´çš„èªè¨€ï¼Œä¾‹å¦‚image captioning model(ä¸ç”¨è¨“ç·´)ã€‚</li>
<li>å¯èƒ½ä¸åƒlearnable interfaceé‚£æ¨£å½ˆæ€§ï¼Œä¸”æœ‰information lossçš„é¢¨éšª</li>
</ul>
</li>
</ol>
<h1 id="M-ICL"><a href="#M-ICL" class="headerlink" title="M-ICL"></a>M-ICL</h1><p>å…ˆä»‹ç´¹å…©å€‹ICLçš„ç‰¹é»ï¼š</p>
<ol>
<li>supervised learningæ˜¯å¾å¤§é‡çš„è³‡æ–™ä¸­å­¸ç¿’è³‡æ–™èƒŒå¾Œçš„æ¨¡å¼ï¼Œèˆ‡å‚³çµ±supervised learningä¸åŒçš„æ˜¯ï¼ŒICLçš„é—œéµæ˜¯â€é¡æ¨â€ï¼Œå¾å°‘é‡çš„è³‡æ–™æ­é…ä¸€äº›é¸å¡«çš„instructionï¼Œå»å¤–æ¨æ–°çš„å•é¡Œèˆ‡ä»»å‹™ï¼Œå› æ­¤ä½¿ç”¨few-shot learningçš„æ–¹å¼è§£æ±ºå…¨æ–°çš„å•é¡Œã€‚</li>
<li>ICLå¸¸å¸¸ä½¿ç”¨training-freeçš„æ–¹å¼å¯¦ä½œï¼Œå› æ­¤å¯ä»¥åœ¨inference stageï¼Œå¾ˆå®¹æ˜“åœ°æ•´åˆé€²ä¸åŒçš„æ¡†æ¶ã€‚</li>
<li>ITèˆ‡ICLååˆ†ç›¸é—œï¼ŒITå¸¸å¸¸è¢«æ‹¿ä¾†åŠ å¼·æ¨¡å‹çš„ICLèƒ½åŠ›ã€‚</li>
</ol>
<hr>
<p>ä¸‹é¢çš„åœ–ç¤ºæç¹ªäº†ç°¡åŒ–éå¾Œçš„M-ICL queryæ¨¡æ¿ï¼Œå…¶ä¸­ï¼Œä½¿ç”¨äº†å…©å€‹in-contextç¯„ä¾‹å’Œä¸€å€‹queryï¼Œå…©è€…ç”¨è™›ç·šéš”é–‹ï¼Œæ¨¡å‹çš„ç›®çš„æ˜¯è¦å®Œæˆé€™å€‹requestã€‚<br><img data-src="/images/posts/paper-study/MLLM-3.png" 
style="width: 70%; margin: 15px auto;"></p>
<h1 id="M-CoT"><a href="#M-CoT" class="headerlink" title="M-CoT"></a>M-CoT</h1><blockquote>
<p>CoT is â€œa series of intermediate reasoning stepsâ€, which has been proven to be effective in complex reasoning tasks.</p>
</blockquote>
<ul>
<li>CoTä¸»è¦æ˜¯æƒ³è®“æˆ‘å€‘åœ¨prompt LLMsæ™‚ï¼Œè®“ä»–ç”Ÿæˆä¸åªæ˜¯æœ€å¾Œçš„ç­”æ¡ˆï¼Œè€Œæ˜¯è¦æœ‰æ¨ç†çš„éç¨‹è€Œå¼•å°åˆ°æœ€çµ‚è§£ç­”ã€‚</li>
<li>åœ¨M-CoTä¸­æœ‰å¹¾å€‹é‡è¦çš„æ¦‚å¿µï¼šmodality bridging(è§£æ±ºmodality gap), learning paradigms, chain configurationä»¥åŠgeneration patternsã€‚</li>
</ul>
<hr>
<h2 id="Modality-Bridging"><a href="#Modality-Bridging" class="headerlink" title="Modality Bridging"></a>Modality Bridging</h2><ol>
<li>ä½¿ç”¨Learnable Interfaceï¼š<ul>
<li>é€™å€‹æ–¹æ³•ä½¿ç”¨ä¸€å€‹learnable interfaceæŠŠvisual embedding mappingåˆ°word embeddingç©ºé–“ã€‚</li>
<li>é€™å€‹mapped embeddingå¯ä»¥è¢«è¦–ç‚ºæ˜¯ä¸€å€‹promptï¼Œé€²è€Œå‚³éçµ¦LLMsï¼Œå¼•å‡ºå…¶M-CoTçš„èƒ½åŠ›</li>
<li>èˆ‰ä¾‹ä¾†èªªï¼ŒCoT-PTä½¿ç”¨å¤šå€‹Meta-Netä¾†ä½œprompt tuningï¼ŒMeta-Netå°‡visual featuresè½‰æ›æˆéšæ®µæ€§çš„promptï¼Œå…¶ä¸­ï¼Œå¯ä»¥æŠŠMeta-Netæƒ³åƒç‚ºCoT-PTçš„å…¶ä¸­ä¸€å€‹æ¨¡çµ„ã€‚</li>
<li>Multimodal-CoTä½¿ç”¨shared Transformer-based æ¶æ§‹ï¼Œvisualèˆ‡textualç‰¹å¾µé€šécross-attentioné€²è¡Œäº¤äº’ã€‚</li>
</ul>
</li>
<li>ä½¿ç”¨Expert Modelï¼š<ul>
<li>å¼•ç”¨expert modelsä¾†å°‡visual inputç¿»è­¯ç‚ºtexual description</li>
<li>å„˜ç®¡å…¶éå¸¸ç›´æ¥ä¸”ç°¡å–®ï¼Œä½†åœ¨è½‰æ›çš„éç¨‹ä¸­å¯èƒ½æœƒé‡åˆ°information lossçš„å•é¡Œ</li>
</ul>
</li>
</ol>
<h2 id="Learning-Paradigms"><a href="#Learning-Paradigms" class="headerlink" title="Learning Paradigms"></a>Learning Paradigms</h2><p>learning paradigmsä¹Ÿå¯ä»¥è§£é‡‹ç‚ºæ¨¡å‹å¦‚ä½•å¾è³‡è¨Šä¸­ç²å–çŸ¥è­˜ã€‚å¤§è‡´å¯ä»¥åˆ†ç‚º <strong>ä¸‰ç¨®æ–¹å¼ä¾†ç¿’å¾—M-CoTçš„èƒ½åŠ›</strong></p>
<ol>
<li>fintuningï¼š<br>é€šå¸¸éœ€è¦é‡å°M-CoTçš„datasets</li>
<li>training-free few-shot learningï¼š<br>åŒå¸¸éœ€è¦æ‰‹ä½œä¸€äº›in-contextçš„ç¯„ä¾‹è®“æ¨¡å‹å»å­¸å¦‚ä½•æ¨ç†</li>
<li>training-free zero-shot learningï¼š<br>ç›´æ¥promptå°±å¯ä»¥ï¼Œä¸éœ€è¦å…¶ä»–æ˜é¡¯çš„æŒ‡å¼•ï¼Œèˆ‰ä¾‹ä¾†èªªâ€Letâ€™s think frame by frameâ€</li>
</ol>
<p>å…¶ä¸­å°æ–¼sample sizeçš„è¦æ±‚ç”±ä¸Šè€Œä¸‹éæ¸›</p>
<h2 id="Chain-Configuration"><a href="#Chain-Configuration" class="headerlink" title="Chain Configuration"></a>Chain Configuration</h2><p>ç°¡å–®ä¾†èªªå°±æ˜¯è¦ä»€éº¼æ™‚å¾Œè©²åœæ­¢æ¨è£¡ï¼Œä¸»è¦æœ‰adaptiveå’Œpre-defined formationå…©ç¨®æ–¹æ³•ã€‚</p>
<ul>
<li>Adaptive:<br>è¦æ±‚LLMsè‡ªå·±æ±ºå®šä½•æ™‚è©²åœæ­¢reasoing chains</li>
<li>Pre-defined formation<br>ä½¿ç”¨è€…äº‹å…ˆè¨­å®šå¥½reasoning chainsçš„é•·åº¦</li>
</ul>
<h2 id="Generation-Pattern"><a href="#Generation-Pattern" class="headerlink" title="Generation Pattern"></a>Generation Pattern</h2><p>Reasoning chainæ˜¯å¦‚ä½•å»ºæ§‹çš„ï¼Ÿ<br>ä¸»è¦æœ‰å…©ç¨®å¯èƒ½</p>
<ol>
<li>Infilling-based patternï¼š<br>éœ€è¦åœ¨ä¸Šä¸‹æ–‡ä¸­å»åšæ¼”ç¹¹(å‰å¹¾æ­¥èˆ‡å¾Œå¹¾æ­¥)ï¼Œå»å¡«è£œé‚è¼¯æ¼æ´</li>
<li>predicting-based patternï¼š<br>åˆ©ç”¨å·²çŸ¥çš„æ¢ä»¶ã€instructionä»¥åŠéå»æ¨ç†çš„è³‡è¨Šå»æ“´å……reasoning chain<br>ä¸ç®¡æ˜¯å“ªç¨®æ¨¡å¼ï¼Œéƒ½å¿…é ˆè¦æ±‚ç”Ÿæˆçš„æ–‡æœ¬å¿…é ˆæ˜¯é€£çºŒä¸”æ­£ç¢ºçš„</li>
</ol>
<h1 id="LAVR"><a href="#LAVR" class="headerlink" title="LAVR"></a>LAVR</h1><p>å°‡LLMsä½œç‚ºhelpersï¼Œä»¥åŠå…¶ä»–ä¸åŒçš„è§’è‰²ï¼Œå»ºæ§‹å‡ºä¸€å€‹æ”¯æŒç‰¹å®šä»»å‹™æˆ–genral-purposeçš„visual reasoning system<br>è·Ÿå‚³çµ±çš„visual reasoning systemç›¸æ¯”ï¼ŒLAVRæœ‰ä¸€äº›æ›´å¥½çš„ç‰¹é»ï¼š</p>
<ol>
<li>Strong generalization abilityï¼š<br>æ“æœ‰çœ¾å¤šçŸ¥è­˜ä¸¦ä»¥å¤§é‡è³‡æ–™åŠè¨“ç·´çš„æ¨¡å‹ï¼Œå¯ä»¥å®¹æ˜“åœ°æ³›åŒ–æœªçœ‹éçš„ä»»å‹™ï¼Œä¸¦åœ¨zero-shot&#x2F;few-shotæ“æœ‰ä¸éŒ¯çš„æ€§èƒ½ã€‚</li>
<li>Emergent abilitiesï¼š<br>å…¶å®šç¾©ç‚ºï¼Œåœ¨å°çš„æ¨¡å‹ä¸æœƒå‡ºç¾ï¼Œè€Œåœ¨å¤§æ¨¡å‹æœƒå‡ºç¾çš„èƒ½åŠ›ï¼Œç•¶æ¨¡å‹åˆ°ä¸€å®šçš„scaleæœƒæ¹§ç¾çš„èƒ½åŠ›ï¼Œä¾‹å¦‚èƒ½å¤ çœ‹åˆ°åœ–ç‰‡è¡¨é¢ä¸‹çš„æ„ç¾©ï¼Œåƒæ˜¯èƒ½å¤ ç†è§£æœƒå’Œä¸€å€‹è¿·å› æ˜¯å¥½ç¬‘çš„ã€‚</li>
<li>Better interactvity and controlï¼š<br>LLM-based systemæä¾›ä¸€å€‹æ›´å¥½ä½¿ç”¨èˆ‡æ§åˆ¶çš„ä½¿ç”¨è€…ä»‹é¢ï¼Œä¾‹å¦‚ä½¿ç”¨è‡ªç„¶èªè¨€çš„queryé€²è¡Œäº’å‹•ã€‚<br>ä¸‹é¢æˆ‘å°‡ä»‹ç´¹è«–æ–‡ä¸­æåˆ°çš„ï¼ŒLAVRä¸åŒçš„training paradigmä»¥åŠLLMåœ¨é€™å€‹ç³»çµ±ä¸­æ‰®æ¼”çš„è§’è‰²</li>
</ol>
<h2 id="Training-Paradigms"><a href="#Training-Paradigms" class="headerlink" title="Training Paradigms"></a>Training Paradigms</h2><p>ä¸»è¦æœ‰å…©ç¨®ï¼š</p>
<ol>
<li>training-freeï¼š<ul>
<li>few-shot modelsï¼š<br>   éœ€è¦å°‘é‡çš„hand-crafted in-context sampleï¼Œå»æŒ‡å¼•LLMsç”¢ç”Ÿç¨‹å¼æˆ–ä¸€é€£ä¸²çš„åŸ·è¡Œæ­¥é©Ÿï¼Œ <strong>é€™äº›ç¨‹å¼æˆ–åŸ·è¡Œæ­¥é©Ÿæ˜¯ä½œç‚ºå…¶ä»–å°æ‡‰æ¨¡å‹æˆ–å¤–éƒ¨å·¥å…·èˆ‡æ¨¡çµ„çš„instructions</strong></li>
<li>zero-shot modelsï¼š<br>   ä¾è³´LLMsçš„èªè¨€ç›¸é—œçŸ¥è­˜èˆ‡æ¨ç†èƒ½åŠ›ï¼Œä¾‹å¦‚CATä½¿ç”¨LLMså»refineå½±åƒçš„captionï¼Œä½¿å…¶æ›´ç¬¦åˆä½¿ç”¨è€…çš„éœ€æ±‚</li>
</ul>
</li>
<li>finetuningï¼š<br>ä¸»è¦æ˜¯æƒ³è¦æ¿€æ´»LLMsåœ¨LAVRä¸­çš„planning abilities(å°æ‡‰åˆ°å·¥å…·çš„ä½¿ç”¨)ï¼Œä»¥åŠinstruction-following abilitiesã€‚</li>
</ol>
<h2 id="Functions"><a href="#Functions" class="headerlink" title="Functions"></a>Functions</h2><p>LLMsåœ¨LAVR systemä¸­æ‰®æ¼”çš„ä¸»è¦è§’è‰²ï¼Œä¸»è¦æœ‰ä¸‰ç¨®</p>
<blockquote>
<ol>
<li>LLM as a Controller</li>
<li>LLM as a Decision Maker</li>
<li>LLM as a Semantics Refiner</li>
</ol>
</blockquote>
<p>å‰å…©è€…(controller &amp; decision maker)èˆ‡CoTç›¸é—œï¼Œå› ç‚ºè¤‡é›œçš„ä»»å‹™éœ€è¦è¢«æ‹†è§£ç‚ºintermediate simpler tasksã€‚</p>
<p>ç•¶LLMsä½œç‚ºcontrolleræ™‚ï¼Œä»»å‹™å¸¸å¸¸æ˜¯åœ¨single roundå®Œæˆçš„ï¼Œè€Œmulti-roundæ›´å¸¸è¦‹æ–¼decision maker</p>
<h3 id="LLM-as-a-Controller"><a href="#LLM-as-a-Controller" class="headerlink" title="LLM as a Controller"></a>LLM as a Controller</h3><ol>
<li>Break down a complex task into simpler sub-tasks<br>å¸¸é‹ç”¨LLMsçš„CoTèƒ½åŠ›</li>
<li>Assigns these tasks to appropriate tools&#x2F;modules</li>
</ol>
<h3 id="LLM-as-a-Decision-Maker"><a href="#LLM-as-a-Decision-Maker" class="headerlink" title="LLM as a Decision Maker"></a>LLM as a Decision Maker</h3><p>åœ¨é€™å€‹caseä¸­ï¼Œè¤‡é›œçš„ä»»å‹™æœƒä»¥multi-roundçš„æ–¹å¼è¢«è§£æ±ºï¼Œdecision makeré€šå¸¸è¦æ»¿è¶³ä»¥ä¸‹èƒ½åŠ›</p>
<ol>
<li>ç¸½çµç›®å‰çš„ä¸Šä¸‹æ–‡ä»¥åŠæ­·å²è³‡è¨Šï¼Œä¸¦åˆ¤æ–·ç›®å‰çš„è³‡è¨Šæ˜¯å¦è¶³å¤ æ¨å°å‡ºæœ€çµ‚è§£ç­”</li>
<li>æ•´ç†ä¸¦ç¸½çµç­”æ¡ˆï¼Œä¸¦ä¸”ç”¨user-friendlyçš„æ–¹å¼å‘ˆç¾çµ¦ä½¿ç”¨è€…</li>
</ol>
<h3 id="LLM-as-a-Semantics-Refiner"><a href="#LLM-as-a-Semantics-Refiner" class="headerlink" title="LLM as a Semantics Refiner"></a>LLM as a Semantics Refiner</h3><p>ä½¿ç”¨LLMsè±å¯Œçš„èªè¨€èˆ‡èªç¾©çŸ¥è­˜ï¼Œå»å°æœ€çµ‚è§£ç­”åšåŠ å¼·</p>
<h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>é€™ç¯‡è«–æ–‡æ•´ç†çš„ç¾è¡ŒMLLMçš„è³‡è¨Šï¼Œä¸¦çµ¦å‡ºäº†ä¸»è¦çš„å¹¾å€‹æ–¹å‘ï¼ŒåŒ…æ‹¬åŒ…æ‹¬3å€‹å¸¸è¦‹çš„æŠ€å·§(M-IT, M-ICL, M-CoT)ï¼Œå’Œä¸€å€‹task-solving systemsçš„å»£æ³›æ¡†æ¶(LAVR)ã€‚<br>è«–æ–‡ä¸­é‚„æœ‰è¨±å¤ševaluationçš„æ–¹å¼ï¼Œä»¥åŠç¾åœ¨ç ”ç©¶éœ€è¦è¢«å¡«å……çš„gapï¼Œå…¶ä»–æ›´è©³ç´°çš„å…§å®¹é‚„æœ‰å¾…è®€è€…è¦ªè‡ªå»æ¬£è³é€™ç¯‡è«–æ–‡ï¼</p>
<h1 id="References"><a href="#References" class="headerlink" title="References"></a>References</h1><ul>
<li><span class="exturl" data-url="aHR0cHM6Ly9hcnhpdi5vcmcvYWJzLzIzMDYuMTM1NDk=">https://arxiv.org/abs/2306.13549<i class="fa fa-external-link-alt"></i></span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC82Mzk2NjQ2MTU=">https://zhuanlan.zhihu.com/p/639664615<i class="fa fa-external-link-alt"></i></span></li>
</ul>
]]></content>
      <categories>
        <category>MLLMè«–æ–‡</category>
      </categories>
      <tags>
        <tag>ML</tag>
        <tag>AI</tag>
        <tag>NLP</tag>
        <tag>paper-study</tag>
      </tags>
  </entry>
  <entry>
    <title>[.NET][C#][SOLID] - DI &amp; IoC (ä¾è³´æ³¨å…¥èˆ‡æ§åˆ¶åè½‰) å…¨é¢è¬›è§£</title>
    <url>/posts/3588979794/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>IoC (Inversion of Control) æ§åˆ¶åè½‰ï¼Œèˆ‡OOP SOLIDåŸå‰‡ä¸­çš„å…¶ä¸­ä¸€ç¨®è¨­è¨ˆåŸå‰‡æœ‰é—œï¼Œä¹Ÿå°±æ˜¯å…¶ä¸­çš„DIP(Dependency Inversion Principle)ï¼Œæ˜¯OOPä¸€å€‹éå¸¸é‡è¦çš„ç¨‹å¼è¨­è¨ˆæ€æƒ³ï¼Œå°æ–¼è»Ÿé«”é–‹ç™¼ä¾†èªªååˆ†é‡è¦ï¼Œä¸‹é¢æˆ‘å°‡<strong>ååˆ†è©³ç´°çš„ä»‹ç´¹ä½•ç‚ºDIPã€IoCä»¥åŠDIã€ç‚ºä½•è¦ä½¿ç”¨å®ƒå€‘ä»¥åŠå¦‚ä½•å¯¦ä½œ</strong>ï¼Œç›¸ä¿¡å¤§å®¶é–±è®€å®Œæœƒå°é€™å€‹é‡è¦çš„æ€æƒ³äº†è§£çš„æ›´åŠ é€å¾¹ã€‚</p>
<span id="more"></span>
<h2 id="å®šç¾©"><a href="#å®šç¾©" class="headerlink" title="å®šç¾©"></a>å®šç¾©</h2><p>DIPä»¥ç°¡å–®çš„ä¸€å¥è©±èªªæ˜å°±æ˜¯</p>
<blockquote>
<p><strong>DIP - Dependency Inversion Principle (ä¾è³´å€’è½‰åŸå‰‡)</strong></p>
<ul>
<li>ä¸€ç¨®åŸå‰‡ã€æ€æƒ³</li>
<li>é«˜å±¤æ¬¡çš„æ¨¡çµ„ä¸æ‡‰è©²ä¾è³´ä½å±¤çš„æ¨¡çµ„ï¼Œä½å±¤æ¬¡çš„æ¨¡çµ„ä¹Ÿä¸æ‡‰è©²ä¾è³´é«˜å±¤æ¬¡çš„æ¨¡çµ„<br><strong>å…©è€…éƒ½æ‡‰è©²ä¾è³´æŠ½è±¡</strong></li>
</ul>
</blockquote>
<blockquote>
<p><strong>IoC - Inversion of Control (æ§åˆ¶åè½‰)</strong></p>
<ul>
<li>ä¸€ç¨®æ€æƒ³</li>
<li>æŠŠå°æ–¼æŸå€‹ç‰©ä»¶çš„<strong>æ§åˆ¶æ¬Š</strong>ç§»è½‰çµ¦<strong>ç¬¬ä¸‰æ–¹å®¹å™¨ (IoC Container)</strong></li>
</ul>
</blockquote>
<blockquote>
<p><strong>DI - Dependency Injection (ä¾è³´æ³¨å…¥)</strong></p>
<ul>
<li>ä¸€ç¨®è¨­è¨ˆæ¨¡å¼</li>
<li>å°‡ä¾è³´é€šé<strong>æ³¨å…¥</strong>çš„æ–¹å¼æä¾›çµ¦éœ€è¦çš„æ¨¡çµ„ï¼Œæ˜¯ IoC èˆ‡ DIP çš„å…·é«”è¡¨ç¾</li>
<li>æŠŠè¢«ä¾è³´ç‰©ä»¶æ³¨å…¥è¢«å‹•æ¥æ”¶ç‰©ä»¶ä¸­</li>
</ul>
</blockquote>
<p>DIPçš„å®šç¾©éå¸¸é‡è¦ï¼Œè«‹å¤§å®¶ç‰¢è¨˜åœ¨å¿ƒã€‚<br>ä¹Ÿå°±æ˜¯èªªï¼Œç¨‹å¼æ‡‰è©²ä¾è³´æŠ½è±¡ï¼Œè€Œä¸æ˜¯å¯¦ä½œçš„å¯¦é«”ï¼Œé€™å¯ä»¥å¹«åŠ©æˆ‘å€‘å°ç¨‹å¼ä¹‹é–“è§£è€¦ï¼Œèƒ½å¤ è¢«æ›´å¥½åœ°ç¶­è­·ã€‚<br>DIæ˜¯ç‚ºäº†å¯¦ç¾DIPå’ŒIoCè€Œèª•ç”Ÿçš„å¯¦ç¾æ–¹å¼ï¼Œå› æ­¤å¤§å®¶åœ¨ä½¿ç”¨ç‰©ä»¶å°å‘çš„æŠ€å·§æ™‚ï¼Œ<strong>å‹™å¿…æ¸…æ¥šè‡ªå·±åœ¨åšä»€éº¼ï¼Œå’Œç‚ºä½•é€™æ¨£åš</strong>ã€‚</p>
<h2 id="å¥½è™•-x2F-ç‚ºä»€éº¼è¦ä½¿ç”¨ï¼Ÿ"><a href="#å¥½è™•-x2F-ç‚ºä»€éº¼è¦ä½¿ç”¨ï¼Ÿ" class="headerlink" title="å¥½è™•&#x2F;ç‚ºä»€éº¼è¦ä½¿ç”¨ï¼Ÿ"></a>å¥½è™•&#x2F;ç‚ºä»€éº¼è¦ä½¿ç”¨ï¼Ÿ</h2><p>åœ¨é‡å°å„å€‹åè©è§£é‡‹èˆ‡å¯¦ä½œä¹‹å‰ï¼Œæˆ‘æƒ³å…ˆè®“å„ä½äº†è§£DIPä»¥åŠIoCå¸¶ä¾†çš„å¥½è™•ã€‚</p>
<blockquote>
<ol>
<li>å¯ç¶­è­·æ€§ (maintainability)</li>
<li>å¯¬é¬†è€¦åˆ (loose coupling)</li>
</ol>
</blockquote>
<ul>
<li>æ‰€è¬‚çš„<strong>å¯ç¶­è­·æ€§</strong>ï¼Œå°±æ˜¯ä½ åœ¨æ—¥<strong>å¾Œéœ€è¦ä¿®æ”¹æˆ–æ›´æ–°ç¨‹å¼çš„æ™‚å€™ï¼Œæ‰€èŠ±è²»çš„æ™‚é–“å’Œç²¾åŠ›</strong>ï¼Œå¦‚æœä¿®æ”¹èµ·ä¾†å¾ˆè²»æ™‚è²»åŠ›ï¼Œé‚£æˆ‘å€‘å°±èªªä»–å¯ç¶­è­·æ€§ä½ã€‚</li>
<li>æ‰€è¬‚çš„è€¦åˆåº¦ï¼Œå°±æ˜¯ç‰©ä»¶èˆ‡ç‰©ä»¶é–“çš„ä¾è³´ã€ç›¸é—œç¨‹åº¦ï¼Œå¦‚æœåœ¨Aé¡å…§å»new Bï¼ŒBé¡å…§åˆå»new Cï¼Œå½¼æ­¤ç›¸äº’ç›´æ¥ä¾è³´ï¼Œé€™æ¨£é¡åˆ¥ä¹‹é–“ç›¸äº’å‘¼å«ä»¤å½¼æ­¤æœ‰æ‰€ç‰½é€£ï¼Œä¾¿æ˜¯è€¦åˆ(coupling)ï¼Œç‰©ä»¶é—œä¿‚è¶Šç·Šå¯†ï¼Œè€¦åˆåº¦è¶Šé«˜ï¼Œè€¦åˆåº¦é«˜çš„ç¨‹å¼ç¢¼ï¼Œä¸€æ—¦æœ‰ä»»ä½•è®Šå‹•ï¼Œå®¹æ˜“ç™¼ç”Ÿ<strong>é€£é–åæ‡‰ï¼Œç‰½ä¸€é«®å‹•å…¨èº«</strong>ï¼Œå› æ­¤é¾å¤§çš„è»Ÿé«”æ›´æ‡‰è©²è€ƒæ…®<strong>ä½è€¦åˆé«˜å…§èš</strong>çš„è¨­è¨ˆæ–¹å¼ã€‚</li>
</ul>
<p>è€ŒDIP, IoCå’ŒDIå¯ä»¥<strong>è®“ç¨‹å¼ä¹‹é–“è§£è€¦</strong>ï¼Œæé«˜ç¨‹å¼çš„å¯ç¶­è­·æ€§ã€‚<br>åŸºæœ¬ä¸Šã€Œå¯ç¶­è­·æ€§ã€å’Œã€Œå¯¬é¬†è€¦åˆã€å°±æ˜¯æˆ‘å€‘å­¸ç¿’DIP, IoCå’ŒDIçš„åŸå› </p>
<p>ä¸‹é¢æˆ‘æœƒä¸€ä¸€ä»‹ç´¹DIP, IoCä»¥åŠDIï¼Œæœ€å¾Œé™„ä¸Šå¯¦éš›æ‡‰ç”¨ï¼Œå³æœ€å¾Œçµ„åˆå‡ºä¾†çš„çµæœã€‚</p>
<h2 id="DIP"><a href="#DIP" class="headerlink" title="DIP"></a>DIP</h2><blockquote>
<p><strong>DIP - Dependency Inversion Principle(ä¾è³´å€’è½‰åŸå‰‡)</strong></p>
<ul>
<li>ä¸€ç¨®åŸå‰‡ã€æ€æƒ³</li>
<li>é«˜å±¤æ¬¡çš„æ¨¡çµ„ä¸æ‡‰è©²ä¾è³´ä½å±¤çš„æ¨¡çµ„ï¼Œä½å±¤æ¬¡çš„æ¨¡çµ„ä¹Ÿä¸æ‡‰è©²ä¾è³´é«˜å±¤æ¬¡çš„æ¨¡çµ„<br><strong>å…©è€…éƒ½æ‡‰è©²ä¾è³´æŠ½è±¡</strong></li>
</ul>
</blockquote>
<p>ä»€éº¼æ„æ€å‘¢ï¼Ÿè®“æˆ‘å€‘çœ‹çœ‹ä¸‹é¢çš„ç¯„ä¾‹ï¼š</p>
<h3 id="ç°¡å–®ç¯„ä¾‹"><a href="#ç°¡å–®ç¯„ä¾‹" class="headerlink" title="ç°¡å–®ç¯„ä¾‹"></a>ç°¡å–®ç¯„ä¾‹</h3><figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Database</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Connect</span>()</span> &#123; <span class="comment">/* database connect logic */</span> &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Disconnect</span>()</span> &#123; <span class="comment">/* database disconnect logic */</span> &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SaveData</span>(<span class="params"><span class="built_in">string</span> data</span>)</span> &#123; <span class="comment">/* database save data logic */</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">DataAccess</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> Database _database = <span class="keyword">new</span> Database();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SaveData</span>(<span class="params"><span class="built_in">string</span> data</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        _database.Connect();</span><br><span class="line">        _database.SaveData(data);</span><br><span class="line">        _database.Disconnect();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„ç¨‹å¼ç¢¼é•åäº†DIPï¼Œå› ç‚ºDataAccess<strong>ç›´æ¥ä¾è³´</strong>äº†â€™Databaseâ€™é¡åˆ¥ï¼Œå¦‚æœDatabaseåšäº†ä»»ä½•è®Šå‹•ï¼ŒDataAccessä¹Ÿéœ€è¦è·Ÿè‘—è®Šå‹•ï¼Œæ‰€æœ‰æœ‰ç”¨åˆ°é—œæ–¼Databaseçš„classä¹Ÿéƒ½éœ€è¦è·Ÿè‘—è®Šå‹•ï¼Œå› æ­¤ï¼Œâ€™DataAccessâ€™ classæ‡‰è©²ä¾è³´æŠ½è±¡çš„Interfaceï¼Œè€Œä¸æ˜¯å…·é«”çš„å¯¦ä½œã€‚</p>
<hr>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IDatabase</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Connect</span>()</span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Disconnect</span>()</span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">SaveData</span>(<span class="params"><span class="built_in">string</span> data</span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SqlServerDatabase</span> : <span class="title">IDatabase</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Connect</span>()</span> &#123; <span class="comment">/* SQL Server database connect logic */</span> &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Disconnect</span>()</span> &#123; <span class="comment">/* SQL Server database disconnect logic */</span> &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SaveData</span>(<span class="params"><span class="built_in">string</span> data</span>)</span> &#123; <span class="comment">/* SQL Server database save data logic */</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">OracleDatabase</span> : <span class="title">IDatabase</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Connect</span>()</span> &#123; <span class="comment">/* Oracle database connect logic */</span> &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Disconnect</span>()</span> &#123; <span class="comment">/* Oracle database disconnect logic */</span> &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SaveData</span>(<span class="params"><span class="built_in">string</span> data</span>)</span> &#123; <span class="comment">/* Oracle database save data logic */</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">DataAccess</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> IDatabase _database;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">DataAccess</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        _database = <span class="keyword">new</span> SqlServerDatabase();</span><br><span class="line">        <span class="comment">//_database = new OracleDatabase(); åœ¨é€™è£¡æŠ½æ›</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SaveData</span>(<span class="params"><span class="built_in">string</span> data</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        _database.Connect();</span><br><span class="line">        _database.SaveData(data);</span><br><span class="line">        _database.Disconnect();</span><br><span class="line">    &#125;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>
<p>ç”±ä¸Šé¢çš„ç¯„ä¾‹å¯çŸ¥ï¼Œæˆ‘å€‘å®šç¾©äº†ä¸€å€‹IDatabaseï¼Œè¦ç¯„æ‰€æœ‰è³‡æ–™åº«æ‡‰è©²æœ‰çš„actionï¼Œè®“ä¸åŒçš„å¯¦é«”Databaseå»å¯¦ä½œï¼Œè€ŒProgramæœ¬èº«(DataAccess)ï¼Œåªéœ€è¦å»ä¾è³´ã€ä½¿ç”¨IDatabaseï¼Œé€™æ¨£ä¸€ä¾†å°±ç®—æœªä¾†æˆ‘å¾SQL-Server DBé·ç§»åˆ°Oracle DBï¼Œæˆ‘<strong>åªéœ€è¦æŠ½æ›IDatabaseçš„å¯¦ä½œå¯¦é«”</strong>(_databaseæŒ‡æ¨™æŒ‡å‘çš„å¯¦éš›è¨˜æ†¶é«”)ï¼ŒDataAccesså…§éƒ¨ä½¿ç”¨åˆ°IDatabaseçš„ç¨‹å¼ç¢¼ä¸€è¡Œéƒ½ä¸ç”¨æ›´æ”¹ã€‚</p>
<p>ä½†æ˜¯ï¼Œå¯ä»¥ç™¼ç¾åˆ°ï¼Œé›–ç„¶é€éä¾è³´å€’è½‰ï¼Œå¯ä»¥æ”¹è®Šç‚ºä¾è³´æŠ½è±¡ï¼Œ<strong>ä½†ç¨‹å¼(DataAccess)æœ¬èº«é‚„æ˜¯éœ€è¦new å‡ºinstance</strong>ï¼Œä¹Ÿå°±æ˜¯èªªç¨‹å¼æœ¬èº«(å‘¼å«è€…)ï¼Œå°æ–¼ä¾è³´çš„æ§åˆ¶æµç¨‹å…·æœ‰ä¸»å°æ¬Šï¼Œé€™æ™‚å°±éœ€è¦<strong>æ§åˆ¶åè½‰</strong>ã€‚</p>
<h2 id="IoC"><a href="#IoC" class="headerlink" title="IoC"></a>IoC</h2><blockquote>
<ul>
<li>æŠŠå°æ–¼æŸå€‹ç‰©ä»¶çš„<strong>æ§åˆ¶æ¬Š</strong>ç§»è½‰çµ¦<strong>ç¬¬ä¸‰æ–¹å®¹å™¨ (IoC Container)</strong></li>
</ul>
</blockquote>
<p>IoC æ˜¯ä¸€ç¨®è¨­è¨ˆåŸå‰‡æˆ–æ€æƒ³ï¼Œå®ƒå»ºè­°æˆ‘å€‘åè½‰ç‰©ä»¶å°å‘è¨­è¨ˆä¸­çš„å„ç¨®æ§åˆ¶ï¼Œä»¥é”åˆ°å„å€‹é¡åˆ¥é–“çš„è§£è€¦ã€‚é€™è£¡çš„ <strong>â€œæ§åˆ¶â€æŒ‡çš„æ˜¯é™¤äº†ä¸€å€‹é¡åˆ¥æœ¬èº«çš„è·è²¬ä¹‹å¤–çš„å…¶å®ƒæ‰€æœ‰å·¥ä½œ</strong>ï¼Œå¦‚æ•´å€‹è»Ÿé«”çš„æµç¨‹æ§åˆ¶ï¼Œç‰©ä»¶çš„ä¾è³´æˆ–å‰µå»ºç­‰ç­‰ã€‚</p>
<blockquote>
<ul>
<li>å…¶å¯¦æ„æ€å°±æ˜¯ï¼Œä¸€å€‹é¡åˆ¥æœ¬èº«é™¤äº†<strong>æœ¬èº«çš„è·è²¬å¤–ï¼Œä¸æ‡‰è©²æ“æœ‰å¤ªå¤šå…¶ä»–çš„å·¥ä½œ (SRP)</strong></li>
<li>æ‰€ä»¥å»ºè­°å°‡é€™äº›å°æ–¼ç‰©ä»¶çš„<strong>æ§åˆ¶æ¬Š(å‰µå»ºã€å¯¦ä½œå¯¦é«”æŠ½æ›ç­‰ç­‰)<strong>ï¼Œäº¤çµ¦</strong>ç¬¬ä¸‰æ–¹å®¹å™¨</strong> (Framework or Library)ã€‚</li>
<li>ç²å–è³‡æºçš„è¡Œç‚ºç”±â€ä¸»å‹•â€è½‰ç‚ºâ€è¢«å‹•â€</li>
<li><strong>ç¨‹å¼(Application) ä¾è³´ç‰©ä»¶çš„ã€Œæ§åˆ¶æµç¨‹ (Control Flow)ã€ï¼Œç”±ã€Œä¸»å‹•ã€è®Šæˆã€Œè¢«å‹•ã€ã€‚å°±æ˜¯ã€Œæ§åˆ¶åè½‰ã€</strong></li>
</ul>
</blockquote>
<p>ä¸‹é¢é€™å…©å¼µåœ–ç°¡å–®è§£é‡‹äº†ä½¿ç”¨IoCå¾Œçš„ä¾è³´é—œä¿‚</p>
<ul>
<li><p>é€™æ˜¯é‚„æ²’ä½¿ç”¨IoCå‰ï¼Œæˆ‘å€‘çš„æ‡‰ç”¨ç¨‹å¼ç›´æ¥ä¾è³´æ–¼å¯¦é«”é¡åˆ¥<br><img data-src="/images/posts/DI-IoC/IoC1.png"></img></p>
</li>
<li><p>é€™å€‹å‰‡æ˜¯ä½¿ç”¨IoCå¾Œï¼Œé€éIoC Containerï¼Œå°‡ä¾è³´å¯¦é«”æ³¨å…¥è‡³ç¨‹å¼ä¸­ï¼Œç¨‹å¼ç”±åŸä¾†ä¸»å‹•çš„ä¾è³´è®Šæˆè¢«å‹•çš„æ¥æ”¶<br><img data-src="/images/posts/DI-IoC/IoC2.png"></img></p>
</li>
</ul>
<p>å¥½èŠå¡¢åŸå‰‡ä¹Ÿå¾ˆè²¼åˆ‡çš„èªªæ˜äº†æ§åˆ¶åè½‰çš„æƒ…å¢ƒ</p>
<blockquote>
<p>Donâ€™t call me, Iâ€™ll call you.</p>
</blockquote>
<h3 id="IoC-Container"><a href="#IoC-Container" class="headerlink" title="IoC Container"></a>IoC Container</h3><p>å»£ç¾©ä¸Šä¾†èªªï¼Œ IoC å®¹å™¨ï¼Œå°±æ˜¯æœ‰é€²è¡Œã€Œä¾è³´æ³¨å…¥ã€çš„åœ°æ–¹ï¼Œ<br>ä½ éš¨ä¾¿å¯«ä¸€å€‹é¡åˆ¥ï¼Œé€éå®ƒå°‡æ‰€éœ€å…ƒä»¶æ³¨å…¥çµ¦é«˜éšæ¨¡çµ„ï¼Œä¾¿å¯èªªæ˜¯å®¹å™¨ã€‚<br>ä½†ç¾åœ¨æ‰€èªªçš„å®¹å™¨é€šå¸¸æ³›æŒ‡é‚£äº›<strong>å¼·å¤§çš„IoCæ¡†æ¶æ‰€æä¾›çš„å®¹å™¨</strong>ã€‚</p>
<p>å„ä½å¯ä»¥æŠŠIoCå®¹å™¨æƒ³åƒæˆæ˜¯å„²å­˜ä¸€å †ä½¿ç”¨è€…<strong>è¨»å†Šçš„ä¾è³´å¯¦é«”</strong>ï¼ŒIoC Containeré€éé€™äº›ä½¿ç”¨è€…è¨»å†Šçš„è³‡è¨Šï¼ŒçŸ¥é“ç¨‹å¼éœ€è¦é€™å€‹instanceä¸¦è³¦äºˆçµ¦ä»–ï¼Œé”åˆ°ä¸éœ€è¦ä¿®æ”¹é«˜éšæ¨¡çµ„çš„ç›®çš„ã€‚<br>ç¨‹å¼åœ¨<strong>åŸ·è¡Œçš„æœŸé–“(Runtime)<strong>ï¼Œéœ€è¦ä¾è³´ç‰©ä»¶çš„å¯¦é«”ï¼Œéœ€è¦é€éIoC Containeræ³¨å…¥çµ¦ç¨‹å¼ï¼Œä½¿ç”¨çš„æ˜¯</strong>åå°„åŸç†(Reflection)</strong>-ä¹Ÿå°±æ˜¯é€éç¨‹å¼ç¢¼çš„ä¸­é–“ç·¨è­¯æª”ï¼Œå»è®€å–ç¨‹å¼ç¢¼å…§éƒ¨çš„è³‡è¨Šã€‚</p>
<p>ä¸‹é¢é€™å…©å¼µåœ–å‰‡è§£é‡‹äº†IoCå¦‚ä½•åˆ©ç”¨IoC Containeråšåˆ°æ§åˆ¶åè½‰çš„ç¤ºæ„åœ–</p>
<ul>
<li><p>é€™å€‹æ˜¯æ²’æœ‰ä½¿ç”¨IoCæ¡†æ¶æ™‚ï¼Œé«˜éšæ¨¡çµ„ä¸»å‹•çš„å»å»ºç«‹æ‰€éœ€è¦çš„ä½éšæ¨¡çµ„ (è³‡æº)<br><img data-src="/images/posts/DI-IoC/IoC4.png"></img></p>
</li>
<li><p>é€™å€‹å‰‡æ˜¯ä½¿ç”¨äº†IoCæ¡†æ¶ï¼Œé€é <strong>ã€Œè¨»å†Š (Register)ã€</strong> æ‰€éœ€è¦çš„æ¨¡çµ„é€²IoC Containerï¼Œè—‰ç”±å®¹å™¨<strong>ä¸»å‹•æ³¨å…¥ä¾è³´å¯¦é«”</strong>é€²å…¥é«˜éšæ¨¡çµ„<br><img data-src="/images/posts/DI-IoC/IoC3.png"></img></p>
</li>
</ul>
<h3 id="ç°¡å–®ç¯„ä¾‹-1"><a href="#ç°¡å–®ç¯„ä¾‹-1" class="headerlink" title="ç°¡å–®ç¯„ä¾‹"></a>ç°¡å–®ç¯„ä¾‹</h3><p>é€™é‚Šæä¾›çš„ç°¡å–®ç¯„ä¾‹ä¸­ï¼ŒIoC Containerç”¨ç°¡å–®çš„æ–¹å¼å¯¦ä½œï¼Œå¯¦éš›ä¸Šé€™äº›å·¥ä½œæœƒäº¤çµ¦ç¬¬ä¸‰æ–¹å¥—ä»¶æˆ–æ¡†æ¶å®Œæˆï¼Œé€™é‚Šä½¿ç”¨ç°¡å–®çš„æ–¹å¼å¯¦ä½œçµ¦å¤§å®¶ç†è§£</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">ILogger</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Log</span>(<span class="params"><span class="built_in">string</span> message</span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ConsoleLogger</span> : <span class="title">ILogger</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Log</span>(<span class="params"><span class="built_in">string</span> message</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;Log: <span class="subst">&#123;message&#125;</span>&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">UserService</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> ILogger _logger;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">UserService</span>(<span class="params">ILogger logger</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        _logger = logger;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">CreateUser</span>(<span class="params"><span class="built_in">string</span> username, <span class="built_in">string</span> password</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        _logger.Log(<span class="string">$&quot;Creating user <span class="subst">&#123;username&#125;</span>&quot;</span>);</span><br><span class="line">        <span class="comment">// Implementation to create a user</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        ILogger logger = <span class="keyword">new</span> ConsoleLogger();</span><br><span class="line">        UserService userService = <span class="keyword">new</span> UserService(logger);</span><br><span class="line">        userService.CreateUser(<span class="string">&quot;johndoe&quot;</span>, <span class="string">&quot;secret&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨é€™è£¡ï¼Œ<strong>Programå°±æ˜¯æˆ‘å€‘çš„IoC Container</strong>ï¼ŒUserServiceä¾è³´ILoggeræŠ½è±¡ï¼Œè€Œé€éè¨»å†Šåœ¨Programä¸­çš„è³‡è¨Šï¼Œè®“<strong>Programä¸»å‹•å°‡å¯¦éš›çš„ä¾è³´å¯¦é«”(ConsoleLoggerç‰©ä»¶)ï¼Œæ³¨å…¥åˆ°UserServiceçš„å»ºæ§‹å…ƒä¸­</strong>ï¼Œä¹Ÿå°±æ˜¯å»ºæ§‹å…ƒæ³¨å…¥ï¼Œå¾Œé¢è¬›åˆ°DIæœƒå†æåˆ°ã€‚<br><strong>ä¹‹å¾Œå¦‚æœæœ‰éœ€è¦æ–°çš„Loggerï¼Œåªéœ€è¦å‰µå»ºä¸¦å¯¦ä½œILoggerï¼Œå†é€éProgramæ³¨å…¥çµ¦UserServiceï¼ŒUserServiceå…§éƒ¨ç¨‹å¼ç¢¼ä¸€è¡Œéƒ½ä¸ç”¨æ›´æ”¹ã€‚</strong></p>
<h3 id="IoCèˆ‡DIPçš„å·®åˆ¥"><a href="#IoCèˆ‡DIPçš„å·®åˆ¥" class="headerlink" title="IoCèˆ‡DIPçš„å·®åˆ¥"></a>IoCèˆ‡DIPçš„å·®åˆ¥</h3><p>æ§åˆ¶åè½‰(IoC)èˆ‡ä¾è³´å€’è½‰(DIP)å…©è€…ä¸ç›¸ç­‰ï¼</p>
<blockquote>
<p>ä¾è³´å€’è½‰ï¼Œå€’è½‰çš„æ˜¯ã€Œä¾è³´é—œä¿‚ã€<br>æ§åˆ¶åè½‰ï¼Œåè½‰çš„æ˜¯ç¨‹å¼ä¾è³´ç‰©ä»¶çš„ã€Œæ§åˆ¶æµç¨‹ã€</p>
</blockquote>
<h2 id="DI"><a href="#DI" class="headerlink" title="DI"></a>DI</h2><blockquote>
<p>å°‡ä¾è³´é€šé<strong>æ³¨å…¥</strong>çš„æ–¹å¼æä¾›çµ¦éœ€è¦çš„æ¨¡çµ„ï¼Œæ˜¯ IoC èˆ‡ DIP çš„å…·é«”è¡¨ç¾<br>æŠŠè¢«ä¾è³´ç‰©ä»¶æ³¨å…¥è¢«å‹•æ¥æ”¶ç‰©ä»¶ä¸­</p>
</blockquote>
<blockquote>
<p><strong>ç¨‹å¼æˆ–è€…é–‹ç™¼è€…ä¸å¿…ç†æœƒç‰©ä»¶æ˜¯å¦‚ä½•ç”¢ç”Ÿã€ä¿æŒã€è‡³éŠ·æ¯€çš„ç”Ÿå‘½é€±æœŸ</strong><br>åœ¨.NETçš„DIæ¡†æ¶ä¸­ï¼Œç”Ÿå‘½é€±æœŸæœ‰ä¸‰ç¨®ï¼ŒTransientã€Scopedã€Singletonï¼Œå¾Œé¢è¬›è§£å¯¦ä½œæ™‚æœƒå†è«‡åˆ°ã€‚</p>
</blockquote>
<p>DIçš„èƒŒå¾Œæ€æƒ³ä¸»è¦æ˜¯ï¼š</p>
<blockquote>
<ol>
<li>ç‚ºäº†ä¿è­‰DIPï¼Œä¸€å€‹é¡åˆ¥æ‡‰è©²åªä¾è³´æŠ½è±¡</li>
<li>æ–¼æ˜¯å…·é«”çš„å¯¦ç¾å¿…é ˆé€éæŸç¨®æ–¹å¼â€æ³¨å…¥â€åˆ°é€™å€‹é¡åˆ¥</li>
<li>é‚£éº¼ä¾æ“šIoCåŸå‰‡ï¼Œæœ€å¥½é€éç¬¬ä¸‰æ–¹å®¹å™¨ä¾†åšåˆ°é€™ä»¶äº‹</li>
</ol>
</blockquote>
<p>è€ŒDIåˆæœ‰ä¸»è¦çš„ä¸‰ç¨®å½¢å¼ï¼š</p>
<blockquote>
<ol>
<li>å»ºæ§‹å…ƒæ³¨å…¥ (Constructor Injection)</li>
<li>è¨­å€¼æ–¹æ³•æ³¨å…¥ (Setter Injection)</li>
<li>ä»‹é¢æ³¨å…¥ (Interface Injection)</li>
</ol>
</blockquote>
<p>ä¸‹é¢èˆ‰å€‹ç°¡å–®çš„ç¯„ä¾‹</p>
<h3 id="ç°¡å–®ç¯„ä¾‹-2"><a href="#ç°¡å–®ç¯„ä¾‹-2" class="headerlink" title="ç°¡å–®ç¯„ä¾‹"></a>ç°¡å–®ç¯„ä¾‹</h3><ol>
<li>å»ºæ§‹å…ƒæ³¨å…¥ (Constructor Injection)<br>å±¬æ–¼æœ€å¸¸è¦‹çš„æ³¨å…¥æ–¹å¼ï¼ŒIoC Containerå°‡å¯¦é«”DIåˆ°å‘¼å«è€…çš„å»ºæ§‹å…ƒä¸­ï¼Œç•¶å‘¼å«è€…è¢«new(å»ºç«‹)æ™‚ï¼Œå°±æœƒè‡ªå‹•æ³¨å…¥ç›¸é—œå¯¦é«”é€²å…¥å»ºæ§‹å…ƒã€‚<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">ILogger</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Log</span>(<span class="params"><span class="built_in">string</span> message</span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Logger</span> : <span class="title">ILogger</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Log</span>(<span class="params"><span class="built_in">string</span> message</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Log: &quot;</span> + message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">UserService</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> ILogger _logger;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">UserService</span>(<span class="params">ILogger logger</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        _logger = logger;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">AddUser</span>(<span class="params"><span class="built_in">string</span> userName</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        _logger.Log(<span class="string">&quot;User Added: &quot;</span> + userName);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
åœ¨é€™è£¡ï¼Œç•¶æœ‰äººå»new UserServiceæ™‚ï¼ŒIoC Containerå°±æœƒè‡ªå‹•æ³¨å…¥ç•¶åˆè¨»å†Šçš„å¯¦é«”é€²å…¥UserServiceçš„å»ºæ§‹å…ƒã€‚</li>
</ol>
<hr>
<ol start="2">
<li><p>è¨­å€¼æ–¹æ³•æ³¨å…¥ (Setter Injection)<br>é€ésetter methodæ³¨å…¥å¯¦é«”ï¼Œä»–å…è¨±æˆ‘å€‘åœ¨å‘¼å«è€…å¯¦é«”è¢«å‰µå»ºå¾Œ(instantiated)ï¼Œæ‰æ³¨å…¥ç›¸é—œä¾è³´å¯¦é«”ã€‚</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">UserService</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> ILogger _logger;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> ILogger Logger</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">set</span> &#123; _logger = <span class="keyword">value</span>; &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">AddUser</span>(<span class="params"><span class="built_in">string</span> userName</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        _logger.Log(<span class="string">&quot;User Added: &quot;</span> + userName);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä»‹é¢æ³¨å…¥ (Interface Injection)<br>ä¾è³´é€éInterfaceæ³¨å…¥è¿‘å¯¦ä¾‹ä¸­ï¼Œé€™å€‹Interfaceå¿…é ˆå®šç¾©ä¸€å€‹æ–¹æ³•ä¾†æ³¨å…¥ä¾è³´ï¼Œå†è—‰ç”±å¯¦ä¾‹å»å¯¦ä½œæ­¤ä»‹é¢ï¼Œä¾†å¯¦ç¾å…·é«”çš„DI</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IUserService</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">AddUser</span>(<span class="params"><span class="built_in">string</span> userName</span>)</span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">SetLogger</span>(<span class="params">ILogger logger</span>)</span>; <span class="comment">// å®šç¾©æ³¨å…¥ä¾è³´çš„æ–¹æ³•</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">UserService</span> : <span class="title">IUserService</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> ILogger _logger;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">AddUser</span>(<span class="params"><span class="built_in">string</span> userName</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        _logger.Log(<span class="string">&quot;User Added: &quot;</span> + userName);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SetLogger</span>(<span class="params">ILogger logger</span>) <span class="comment">// å¯¦éš›æ³¨å…¥ä¾è³´</span></span></span><br><span class="line">    &#123;</span><br><span class="line">        _logger = logger;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="DIPã€IoCèˆ‡DIçš„çµåˆ-å¯¦éš›æ‡‰ç”¨"><a href="#DIPã€IoCèˆ‡DIçš„çµåˆ-å¯¦éš›æ‡‰ç”¨" class="headerlink" title="DIPã€IoCèˆ‡DIçš„çµåˆ - å¯¦éš›æ‡‰ç”¨"></a>DIPã€IoCèˆ‡DIçš„çµåˆ - å¯¦éš›æ‡‰ç”¨</h2><p>ç‚ºå¤§å®¶ç¸½çµä¸€ä¸‹ä¸Šé¢è¬›çš„å„ç¨®åè©ï¼Œç”¨é€™å¼µåœ–ç°¡å–®æ¦‚æ‹¬<br>å…ˆè®“å¤§å®¶é‡æ¸…ï¼ŒDIP, IoC, DI, IoC Containerä¹‹é–“çš„é—œä¿‚<br><img data-src="/images/posts/DI-IoC/sumup.png"></img></p>
<h3 id="ç”Ÿæ´»ç¯„ä¾‹"><a href="#ç”Ÿæ´»ç¯„ä¾‹" class="headerlink" title="ç”Ÿæ´»ç¯„ä¾‹"></a>ç”Ÿæ´»ç¯„ä¾‹</h3><p>è®“æˆ‘å€‘ç”¨åœ¨ã€Œé¤å»³ç…®æ±è¥¿ã€ä¾†èˆ‰ä¾‹</p>
<blockquote>
<p>DIP: High-level modules should not depend on low-level modules. Both should depend on abstractions.</p>
</blockquote>
<p>åœ¨æˆ‘å€‘çš„ä¾‹å­ä¸­ï¼Œ<strong>å»šå¸«å°±æ˜¯é«˜éšæ¨¡çµ„</strong>ï¼Œè€Œ<strong>é£Ÿææ˜¯ä½éšæ¨¡çµ„</strong>ï¼Œ<ins>å»šå¸«ä¸æ‡‰è©²ä¾è³´æ–¼ç‰¹å®šçš„é£Ÿæ</ins>ï¼Œè€Œæ˜¯æ‡‰è©²ä¾è³´æ–¼å¯ä»¥<ins>ç”¨ä¾†ç…®å„ç¨®é¤é»çš„é£Ÿæçš„æŠ½è±¡æ¦‚å¿µ</ins>ã€‚</p>
<hr>
<blockquote>
<p>Inversion of Control (IoC): The control of the flow of a program is inverted.</p>
</blockquote>
<p>åœ¨æˆ‘å€‘ä¾‹å­ä¸­ï¼Œé¡§å®¢é»é¤ï¼Œå»šå¸«å‚™é¤ï¼Œå°æ–¼é¤é»æº–å‚™çš„æ§åˆ¶æµç¨‹ï¼Œ<ins>é¡§å®¢ä¸æ§åˆ¶å‚™é¤çš„æµç¨‹ï¼Œè€Œæ˜¯æ¥å—æœ€çµ‚å®Œæˆçš„é¤é»</ins>ã€‚</p>
<hr>
<blockquote>
<p>IoC Container: A container that manages and controls the creation and life cycle of objects, and also injects their dependencies.</p>
</blockquote>
<p>åœ¨æˆ‘å€‘çš„ä¾‹å­ä¸­ï¼Œå¯ä»¥æŠŠå»šæˆ¿æƒ³åƒæˆæ˜¯IoCå®¹å™¨ï¼Œä»–ä¸»ç®¡äº†å„å€‹é£Ÿæã€å»šæˆ¿ç”¨å…·çš„ç”Ÿå‘½é€±æœŸï¼Œä¸¦ç¢ºä¿èƒ½å¤ æä¾›å»šå¸«éœ€è¦çš„é£Ÿææˆ–å·¥å…·ã€‚</p>
<hr>
<blockquote>
<p>Dependency Injection (DI): A technique for achieving IoC, where the objects are given their dependencies instead of creating them themselves.</p>
</blockquote>
<p>åœ¨æˆ‘å€‘çš„ä¾‹å­ä¸­ï¼Œå»šå¸«æ˜¯è¢«æä¾›é£Ÿæçš„äººï¼ˆç”±å»šæˆ¿æä¾›ï¼‰ï¼Œè€Œä¸æ˜¯è‡ªå·±å»å°‹æ‰¾é£Ÿæã€‚</p>
<h3 id="çµåˆèˆ‰ä¾‹"><a href="#çµåˆèˆ‰ä¾‹" class="headerlink" title="çµåˆèˆ‰ä¾‹"></a>çµåˆèˆ‰ä¾‹</h3><p>æ¥ä¸‹ä¾†æˆ‘å€‘æ¥çºŒä¸Šé¢çš„ä¾‹å­ï¼Œé€éç¨‹å¼çš„æ–¹å¼ä¾†è¬›è§£ä¸Šé¢çš„æ‰€æœ‰æ¦‚å¿µ(DIP, IoC, IoC Container, DI)</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IChef</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Cook</span>()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Chef</span> : <span class="title">IChef</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> IIngredients _ingredients;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Chef</span>(<span class="params">IIngredients ingredients</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        _ingredients = ingredients;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Cook</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Cooking with &quot;</span> + _ingredients.GetIngredients());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IIngredients</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">GetIngredients</span>()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Ingredients</span> : <span class="title">IIngredients</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">GetIngredients</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Tomatoes, Onions, Garlic, and Spices&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Kitchen</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> IChef _chef;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> IIngredients _ingredients;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="title">Kitchen</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        _ingredients = <span class="keyword">new</span> Ingredients();</span><br><span class="line">        _chef = <span class="keyword">new</span> Chef(_ingredients);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> IChef <span class="title">GetChef</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> _chef;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> chef = Kitchen.GetChef();</span><br><span class="line">        chef.Cook();</span><br><span class="line">        Console.ReadLine();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œâ€™IChefâ€™ä»‹é¢å’Œâ€™Chefâ€™é¡åˆ¥éµå®ˆäº†<strong>DIP</strong>ï¼Œå› ç‚ºä»–å€‘ä¾è³´æ–¼æŠ½è±¡çš„â€™IIngredientsâ€™ï¼Œè€Œä¸æ˜¯ç‰¹å®šçš„é£Ÿæå¯¦é«”ã€‚</li>
<li>è€Œâ€™Chefâ€™é¡åˆ¥é€é <strong>ã€Œå»ºæ§‹å…ƒæ³¨å…¥ã€</strong> çš„æ–¹å¼ï¼Œçµ¦äºˆâ€™IIngredientsâ€™çš„ä¾è³´ï¼Œè€Œä¸æ˜¯è‡ªå·±ä¸»å‹•ç›´æ¥å‰µå»ºä¸€å€‹å¯¦é«”ã€‚</li>
<li>â€˜Kitchenâ€™ classå‰‡æ‰®æ¼”IoC Containerçš„è§’è‰²ï¼Œä»–ç®¡ç†äº†â€™Chefâ€™å’Œâ€™Ingredientsâ€™çš„å‰µå»ºèˆ‡ç”Ÿå‘½é€±æœŸï¼Œä¸¦æ³¨å…¥â€™Ingredientsâ€™å¯¦é«”é€²å…¥â€™Chefâ€™çš„å»ºæ§‹å…ƒä¸­ã€‚</li>
<li>è€ŒMain methodå¯ä»¥ç•¶æˆæ˜¯æˆ‘å€‘çš„Applicationï¼Œé€éâ€™Kitchenâ€™ç²å–â€™Chefâ€™å¯¦é«”ï¼Œä¸¦å‘¼å«Cook() methodã€‚</li>
</ul>
<h2 id="NET-C-å¯¦ç¾"><a href="#NET-C-å¯¦ç¾" class="headerlink" title=".NET C#å¯¦ç¾"></a>.NET C#å¯¦ç¾</h2><p>ä¸‹é¢æˆ‘å°‡ç°¡å–®ä½¿ç”¨.NETé è¨­çš„DIæ¡†æ¶(Microsoft.Extensions.DependencyInjection)ä¾†å¯¦ç¾è¨»å†Šä¾è³´å¯¦é«”ï¼Œèˆ‡ä¾è³´æ³¨å…¥ã€‚<br>å…¶ä¸­é‚„æœ‰ä¸€äº›é€²éšçš„ç”¨æ³•ï¼Œåƒæ˜¯æŠŠ<ins>è¨»å†Šç›¸é—œçš„é‚è¼¯æŠ½æå‡ºä¾†å¯«æˆæ“´å……æ–¹æ³•</ins>ï¼Œé‚„æœ‰ä½¿ç”¨<ins>Attributeèˆ‡åå°„ä¾†è§£æ±ºå»ºæ§‹å…ƒæ³¨å…¥å¤ªå¤šçš„å•é¡Œ</ins>ï¼Œä½†åœ¨é€™ç¯‡æ•™å­¸ä¸­å…ˆä½¿ç”¨æœ€ç°¡å–®çš„æ–¹æ³•å¯¦ä½œï¼Œç‚ºçš„æ˜¯è®“å„ä½å…ˆç†è§£åŸºæœ¬çš„æ¦‚å¿µèˆ‡ç”¨æ³•ï¼Œé€²éšç”¨æ³•æœƒåœ¨ä¹‹å¾Œçš„æ–‡ç« è©³ç´°ä»‹ç´¹ã€‚</p>
<h3 id="DIç”Ÿå‘½é€±æœŸèˆ‡è¨»å†Š"><a href="#DIç”Ÿå‘½é€±æœŸèˆ‡è¨»å†Š" class="headerlink" title="DIç”Ÿå‘½é€±æœŸèˆ‡è¨»å†Š"></a>DIç”Ÿå‘½é€±æœŸèˆ‡è¨»å†Š</h3><p>åœ¨.NETçš„é è¨­DIæ¡†æ¶ä¸­ï¼Œè¨»å†Šå¯¦é«”ç‰©ä»¶æ™‚å¯ä»¥æŒ‡å®šå…¶ç”Ÿå‘½é€±æœŸï¼Œåˆ†ç‚ºä¸‰ç¨®ï¼ˆé‡è¦ï¼ï¼‰</p>
<blockquote>
<ol>
<li>Transient (ä¸€æ¬¡æ€§) : <strong>æ¯æ¬¡æ³¨å…¥æ™‚</strong>ï¼Œéƒ½å»ºç«‹ä¸€å€‹æ–°çš„å¯¦é«”ã€‚</li>
<li>Scoped (ä½œç”¨åŸŸ) : <strong>æ¯æ¬¡çš„Request</strong>ï¼Œéƒ½å»ºç«‹ä¸€å€‹æ–°çš„å¯¦é«”ï¼ŒåŒä¸€å€‹Requestä¸‹ï¼Œé‡è¤‡åˆ©ç”¨åŒä¸€å€‹å¯¦é«” (é€™è£¡çš„Request å¸¸æŒ‡Http Request)ã€‚</li>
<li>Singleton (å–®ä¾‹) : ä½¿ç”¨å–®ä¾‹æ¨¡å¼(Singleton Pattern)ï¼Œ<strong>å¾ç¨‹å¼é–‹å§‹åˆ°çµæŸ</strong>ï¼Œåªå»ºç«‹ä¸€å€‹å¯¦é«”ï¼Œæ¯æ¬¡éƒ½é‡è¤‡åˆ©ç”¨åŒä¸€å€‹ï¼Œç›´åˆ°ç¨‹å¼è¢«çµ‚æ­¢ã€‚</li>
</ol>
</blockquote>
<h3 id="å¯¦ä½œ"><a href="#å¯¦ä½œ" class="headerlink" title="å¯¦ä½œ"></a>å¯¦ä½œ</h3><p>è®“æˆ‘å€‘ç¹¼çºŒä»¥ä¸Šé¢é¤å»³çš„ä¾‹å­å¯¦ä½œ<br>é¦–å…ˆå®šç¾©å¥½ç›¸é—œçš„classèˆ‡Interfaceï¼Œå…¶ä¸­ä½¿ç”¨DIPæˆ‘é€™é‚Šå°±ä¸ç‰¹åˆ¥æäº†</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IChef</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Cook</span>()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Chef</span> : <span class="title">IChef</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> IIngredients _ingredients;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Chef</span>(<span class="params">IIngredients ingredients</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        _ingredients = ingredients;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Cook</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Cooking with &quot;</span> + _ingredients.GetIngredients());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IIngredients</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">GetIngredients</span>()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Ingredients</span> : <span class="title">IIngredients</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">GetIngredients</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Tomatoes, Onions, Garlic, and Spices&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<p>æ¥è‘—å°±æ˜¯æˆ‘å€‘ä¸»è¦è¨»å†ŠDIå¯¦é«”çš„åœ°æ–¹ï¼Œåœ¨Program.csçš„æª”æ¡ˆä¸­ï¼Œæˆ‘é€™é‚Šåªå¯«å‡ºé—œéµçš„éƒ¨åˆ†ã€‚</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> Microsoft.Extensions.DependencyInjection;</span><br><span class="line"></span><br><span class="line">builder.Services.AddScoped&lt;IChef, Chef&gt;();</span><br><span class="line">builder.Services.AddScoped&lt;IIngredients, Ingredients&gt;();</span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure>
<p>è§£é‡‹ä¸€ä¸‹ï¼Œé€™é‚Šçš„builder.Serviceså±¬æ–¼IServiceCollectioné¡ï¼Œä¸€ä½†å‘¼å«â€™AddScoped&lt;IIngredients, Ingredients&gt;()â€™æ–¹æ³•ï¼ŒIoC Containerå°±çŸ¥é“è¦å»ºç«‹ä¸€å€‹Ingredientså¯¦é«”ï¼Œå»å°æ‡‰åˆ°ç¨‹å¼ä¸­çš„ä¸‰ç¨®DIå½¢å¼ä¹‹ä¸€ï¼Œä¸¦æ³¨å…¥å¯¦é«”è®“IIngredientsæŒ‡å‘ï¼Œåœ¨æˆ‘å€‘çš„ä¾‹å­ä¸­æ˜¯ã€Œå»ºæ§‹å…ƒæ³¨å…¥ã€ï¼Œå› æ­¤ï¼ŒDIæ¡†æ¶é€éã€Œåå°„åŸç†ã€ï¼ŒçŸ¥é“Chef classä¸­çš„å»ºæ§‹å…ƒæœ‰IIngredientsï¼Œé€éä¹‹å‰è¨»å†Šçš„è³‡è¨Šï¼ŒIoC Continaerä¸»å‹•å»ºç«‹ä¸€å€‹Ingredientså¯¦é«”ï¼Œä¸¦æ³¨å…¥åˆ°Chef classçš„å»ºæ§‹å…ƒä¸­ã€‚</p>
<p><strong>æ•´ç†ä¸€ä¸‹ä¸Šé¢çš„æµç¨‹</strong></p>
<blockquote>
<ol>
<li>åˆ©ç”¨builder.Services.AddScoped&lt;IIngredients, Ingredients&gt;()è¨»å†Šä¾è³´è³‡è¨Šï¼Œä»¥åŠç”Ÿå‘½é€±æœŸçµ¦IoC Container</li>
<li>IoC Containeråˆ©ç”¨åå°„åŸç†ï¼Œå¾—çŸ¥Chef classä¸­çš„å»ºæ§‹å…ƒæœ‰IIngredientsï¼Œä¸¦èˆ‡ä¹‹å‰è¨»å†Šçš„ä¾è³´è³‡è¨Šåšå°æ‡‰</li>
<li>IoC Containerå»ºç«‹ä¸€å€‹Ingredientså¯¦é«”ï¼Œä¸¦æ³¨å…¥é€²Chef classçš„å»ºæ§‹å…ƒä¸­ï¼Œè®“å»ºæ§‹å…ƒçš„IIngredientsæŒ‡æ¨™æŒ‡å‘</li>
<li>åœ¨å»ºæ§‹å…ƒä¸­ï¼Œé€éå»ºæ§‹å…ƒåƒæ•¸æŒ‡å‘çš„Ingredientså¯¦é«”ï¼Œè³¦å€¼çµ¦Chef classçš„å…§éƒ¨æ¬„ä½_ingredients</li>
</ol>
</blockquote>
<h2 id="çµèª"><a href="#çµèª" class="headerlink" title="çµèª"></a>çµèª</h2><p>é€™ç¯‡æ–‡ç« æˆ‘ååˆ†è©³ç´°çš„ä»‹ç´¹äº†DIP, IoC, DIçš„æ¦‚å¿µèˆ‡å¯¦ä½œï¼Œé€™äº›æ¦‚å¿µå°æ–¼è»Ÿé«”é–‹ç™¼ä¾†èªªéå¸¸é‡è¦ï¼Œä½†å¤§å®¶ä¹Ÿè¦æ¸…æ¥šç†è§£<strong>é€™äº›æ€æƒ³è¦è§£æ±ºçš„å•é¡Œï¼Œä»¥åŠä½¿ç”¨å®ƒå€‘çš„å¥½è™•ï¼Œæ¸…æ¥šè‡ªå·±åœ¨åšä»€éº¼ï¼Œè€Œä¸æ˜¯ç‚ºè¨­è¨ˆè€Œè¨­è¨ˆ</strong>ï¼Œå…¶å¯¦OOPå¾ˆå¤šçš„patternï¼Œéƒ½æœƒæœ‰å…¶å¥½è™•ä»¥åŠtrade offï¼Œå› æ­¤äº†è§£ç‚ºä½•ä½¿ç”¨å°±é¡¯å¾—éå¸¸é‡è¦ã€‚</p>
<p>P.S. : </p>
<ul>
<li>æˆ‘è‡ªå·±å¾ˆå–œæ­¡ä½¿ç”¨æŒ‡æ¨™å’Œè¨˜æ†¶é«”çš„æ¦‚å¿µä¾†ç†è§£ç‰©ä»¶èˆ‡å…¶å€¼ï¼Œé€™å°æ–¼ç†è§£Pass by value&#x2F;referenceå’ŒStack, Heapçš„è¨˜æ†¶é«”åˆ†é…éå¸¸æœ‰ç”¨ï¼Œååˆ†å»ºè­°å¤§å®¶ä½¿ç”¨ã€‚</li>
<li>Microsoft.Extensions.DependencyInjectioné€™å€‹namespaceï¼Œåˆ©ç”¨IServiceProviderä¾†ç®¡ç†æˆ‘å€‘ç¨‹å¼ä¸­ä¸­æ‰€è¨»å†Šçš„ä¾è³´ï¼Œæˆ‘å€‘ä¹Ÿå¯ä»¥é€éæ³¨å…¥é€™å€‹IServiceProviderä¾†å–å¾—å¯¦é«”ï¼Œé€™åœ¨ä¹‹å¾Œçš„<strong>DIé€²åŒ–çš„æ–‡ç« æœƒæœ‰è‘—é—œéµä½œç”¨ã€‚</strong></li>
</ul>
<style>
img{
    width: 70%; 
    margin: 15px auto;
}

</style>]]></content>
      <categories>
        <category>OOP</category>
        <category>SOLID</category>
      </categories>
      <tags>
        <tag>OOP</tag>
        <tag>SOLID</tag>
        <tag>.NET C#</tag>
      </tags>
  </entry>
  <entry>
    <title>[.NET][C#][Design Pattern] - Repository Pattern</title>
    <url>/posts/1822258245/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>é€™ç¯‡æ–‡ç« ä¸»è¦ä»‹ç´¹ä½•ç‚ºRepository Pattern, ä¸¦å¦‚ä½•åœ¨.NET C#ä¸­å¯¦ä½œ<br>ä¸¦çµåˆUnit Of Work Pattern, è®“ç¨‹å¼å°Repositoryè§£è€¦<br>é€™å€‹design patternå¯ä»¥èªªæ˜¯è¸å…¥è»Ÿé«”æ¶æ§‹çš„æ•²é–€ç£š<br>ä¹Ÿç®—æ˜¯éå¸¸å¸¸ç”¨çš„pattern, å¯¦ç”¨æ€§éå¸¸é«˜</p>
<span id="more"></span>

<h2 id="å®šç¾©ï¼šRepository-Pattern-Unit-Of-Work-Pattern"><a href="#å®šç¾©ï¼šRepository-Pattern-Unit-Of-Work-Pattern" class="headerlink" title="å®šç¾©ï¼šRepository Pattern, Unit Of Work Pattern"></a>å®šç¾©ï¼šRepository Pattern, Unit Of Work Pattern</h2><p>IGè²¼æ–‡<br><span class="exturl" data-url="aHR0cHM6Ly93d3cuaW5zdGFncmFtLmNvbS9wL0NnWm5TNjRoMjVtLz91dG1fc291cmNlPWlnX3dlYl9jb3B5X2xpbms=">Repository Pattern Post<i class="fa fa-external-link-alt"></i></span></p>
<p>GitHubé€£çµï¼š<br><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL21hby1jb2RlL1JlcG9zaXRvcnlQYXR0ZXJu">Sample Code<i class="fa fa-external-link-alt"></i></span></p>
<p>Repository Patternä¸»è¦å°±æ˜¯ç”±Repositoryé€™å€‹å…ƒç´ æ‰€çµ„æˆ<br>æˆ‘å€‹äººéƒ½æœƒçµåˆUnit Of Work Patternä¸€èµ·ä½¿ç”¨</p>
<blockquote>
<p><strong>[Repository]</strong> :<br>    Act like <strong>a collection of object in memory.</strong></p>
</blockquote>
<blockquote>
<p><strong>[Unit of work]</strong> :<br>    Maintain a list of objects affected by a business transaction and <strong>coordinate th writting out of changes.</strong></p>
</blockquote>
<p>ä»¥ä¸Šæ˜¯å°å…©å€‹ä¸»è¦å…ƒç´ çš„å®šç¾©<br>ç°¡å–®ä¾†èªª <ins>Repositoryå°±åƒæ˜¯ä¸€ç¾¤å­˜åœ¨è¨˜æ†¶é«”ä¸­çš„Objects</ins><br>è€Œ <ins>Unit of workå‰‡æ˜¯é‡å°é€™äº›<strong>è¢«æ”¹è®Š</strong>çš„Objects, çµ±ä¸€åœ¨é€™è£¡åšè™•ç†<ins></p>
<h2 id="æ›´ç°¡å–®çš„è§£é‡‹"><a href="#æ›´ç°¡å–®çš„è§£é‡‹" class="headerlink" title="æ›´ç°¡å–®çš„è§£é‡‹"></a>æ›´ç°¡å–®çš„è§£é‡‹</h2><p><strong>UnitOfWorkåœ¨é€™è£¡å°±åƒæ˜¯DB, Repositoryå°±åƒæ˜¯Table.</strong><br><strong>å¦‚æœä»¥EntityFrameworkä¾†çœ‹, å°±æ˜¯Contextå’ŒEntityçš„é—œä¿‚.</strong><br>EFæœ¬èº«ä¹Ÿæœ‰åšRepositoryå’ŒUnitOfWork.</p>
<p><strong>æŠŠæ¯ä¸€æ¬¡çš„operationçœ‹ä½œä¸€å€‹unit of work, ç­‰åˆ°operationçµæŸæ‰Complete.</strong><br>é€™æ¨£ä¸€ä¾†, <strong>ç•¶æˆ‘å€‘çš„Controlleræˆ–Serviceéœ€è¦å¾ˆå¤šRepositoryä¾†æ“ä½œæ™‚, å°±åªéœ€è¦ä¾è³´UnitOfWork, ç°¡åŒ–ç¨‹å¼ç¢¼èˆ‡ä¾è³´.</strong><br><strong>å¦ä¸€å€‹å¥½è™•æ˜¯å¯ä»¥ç®¡ç†Repositoryä¹‹é–“ä¹‹é–“çš„æƒ…æ³, åšåˆ°DBçš„Atomic operation.</strong><br>èˆ‰ä¾‹ä¾†èªª, ç•¶Repository1å„²å­˜æˆåŠŸ, è€ŒRepository2å„²å­˜å¤±æ•—, ä»¥ä¸€å€‹å®Œæ•´çš„Atomic operationä¾†èªª, ä¸€å€‹å¤±æ•—, operationå°±ç®—æ˜¯å¤±æ•—.<br>ä½†åœ¨é€™è£¡, Repositoryä¹‹é–“æ˜¯æ²’æœ‰è¯ç¹«çš„, å› æ­¤è³‡æ–™æœƒè™•æ–¼ä¸€ç¨®dirty state, å°±æ˜¯ä¸€å€‹é€²å», ä½†ä¸€å€‹å¤±æ•—äº†.<br>æ²’è¾¦æ³•å›åˆ°æœ€åˆçš„ç‹€æ³å†debug, UnitOfWorkå°±æ˜¯ä¾†è™•ç†é€™ç¨®å•é¡Œ, ç•¶Completeæ™‚å¤±æ•—, ä¸¦ä¸æœƒçœŸçš„å‹•åˆ°DB, è€Œæ˜¯åªå‹•åˆ°Repository. å¯ä»¥æ•´å€‹<strong>roll backè™•ç†</strong></p>
<blockquote>
<p>è£œå……ï¼šAtomic operationæ˜¯è³‡æ–™åº«<strong>ACID</strong>å››å€‹ç‰¹æ€§ä¸­çš„å…¶ä¸­ä¸€å€‹, è€Œä½¿ç”¨<strong>Transaction(äº¤æ˜“)</strong>, å°±æ˜¯å¯¦ç¾Atomicityçš„æ–¹æ³•ä¹‹ä¸€, ç°¡å–®ä¸€å¥è©±ä¾†èªªå°±æ˜¯ã€Œå…¨æœ‰ï¼Œæˆ–å…¨ç„¡ã€</p>
</blockquote>
<h2 id="å¥½è™•"><a href="#å¥½è™•" class="headerlink" title="å¥½è™•"></a>å¥½è™•</h2><ol>
<li>ä½¿ç”¨Repositoryä¸»è¦æ˜¯å¯ä»¥<strong>å°ORMçš„æ¡†æ¶è§£è€¦</strong>, å°Contextå’ŒEntitiesçš„ä¾è³´åº¦ä¸æœƒå¤ªé«˜.<br>èˆ‰ä¾‹ä¾†èªªæˆ‘ä»Šå¤©ä½¿ç”¨Entity Framework, é–‹ç™¼äº†å¹¾å€‹æœˆ, è€é—†çªç„¶è¦ä½¿ç”¨ADO.NET<br>é€™æ™‚å¦‚æœæ²’æœ‰ä½¿ç”¨Repository, è€Œæ˜¯åœ¨ç¨‹å¼ç¢¼è£¡é¢å¤§é‡ä½¿ç”¨Contextèˆ‡Entity<br>é‚£éº¼è¦ä¿®æ”¹ç¨‹å¼ç¢¼å°±æ˜¯ä¸€ä»¶å¤§å·¥ç¨‹äº†â€¦.</li>
<li>ä½¿ç”¨Unit Of Work Pattern, å¯ä»¥<strong>çµ±ä¸€ç®¡ç†Repositoryçš„è®Šå‹•</strong>, å†<strong>çµ±ä¸€Saveåˆ°Database</strong>,<br>é€™éº¼åšå¯ä»¥ç¢ºä¿æ¯ä¸€æ¬¡çš„Operationç‚ºå…¨æœ‰æˆ–å…¨ç„¡, é¿å…è³‡æ–™åº«è™•æ–¼ä¸€å€‹Dirty State</li>
<li>ä¸‹é¢å¼•ç”¨æˆ‘åœ¨IGä¸Šçš„ç…§ç‰‡, è£¡é¢é‚„æœ‰æåˆ°ä¸€å€‹å¥½è™•æ˜¯æ›´å¥½åšå–®å…ƒæ¸¬è©¦.</li>
</ol>
<blockquote>
<p>ä¸ç®¡æ˜¯No-SQLæˆ–RDBéƒ½å¯ä»¥å¥—ç”¨æ­¤æ¨¡å¼, ä½†MongoDBéœ€è¦å¦å¤–å»ºç«‹Replica-Set</p>
</blockquote>
<p><img data-src="/images/posts/repository-pattern/benifits.jpg" 
style="width: 70%; margin: 15px auto;"><br>å¯ä»¥çœ‹åˆ°, repositoryæ˜¯å­˜æ”¾åœ¨unit of workå…§, æˆ‘å€‘çš„ç¨‹å¼æ˜¯å»ä¾è³´unit of work,<br>unit of workå†é€érepositoryå»æ“ä½œORM, ORMå†å»æ“ä½œæˆ‘å€‘çš„è³‡æ–™åº«.</p>
<h2 id="å¯¦ä½œ"><a href="#å¯¦ä½œ" class="headerlink" title="å¯¦ä½œ"></a>å¯¦ä½œ</h2><p>å…ˆé™„ä¸ŠUML<br><img data-src="/images/posts/repository-pattern/uml.jpg" 
style="width: 70%; margin: 15px auto;"><br>ç¨å¾®è§£é‡‹ä¸€ä¸‹, é€™è£¡æœƒæœ‰ä¸€å€‹Generic Repository, è² è²¬è™•ç†åŸºæœ¬çš„Get, Find, Romoveç­‰.<br>è€Œå…¶ä»–Concrete Repositoryå†å»ç¹¼æ‰¿å’Œå¯¦ä½œ, å…§éƒ¨å°±é‡å°è‡ªå·±çš„Repositoryåšç‰¹æ®Šçš„Queryæˆ–Command.</p>
<p>æ¥ä¸‹ä¾†æœƒä½¿ç”¨.NETå»å¯¦ä½œè£¡é¢çš„å„å€‹ç´°ç¯€<br>å…ˆé™„ä¸Šå°ˆæ¡ˆçµæ§‹å’ŒERD<br><img data-src="/images/posts/repository-pattern/structure.jpg" 
style="width: 70%; margin: 15px auto;"><br>é€™è£¡ä¸»è¦æ˜¯ä»¥æ›¸æœ¬å’Œä½œè€…ç‚ºç¯„ä¾‹</p>
<p>Modelsè£¡é¢æ˜¯ç”¨EntityFramework migrationéä¾†çš„Contextå’ŒEntities model<br>æˆ‘å€‘ä¸»è¦å¯¦ä½œRepositoryå’ŒUnitOfWorkçš„éƒ¨åˆ†</p>
<h3 id="IRepository-Repository"><a href="#IRepository-Repository" class="headerlink" title="IRepository, Repository"></a>IRepository, Repository</h3><p><strong>é€™è£¡æ˜¯genericçš„repository</strong></p>
<figure class="highlight c#"><figcaption><span>IRepository</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Linq.Expressions;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">RepositoryPatternPractice.Repositories</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">//Interface here act like a protocol or a license</span></span><br><span class="line">	<span class="comment">//Generic Interface -&gt; Interface&lt;T&gt;</span></span><br><span class="line">	<span class="comment">//where keyword can set some restriction on the generic</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IRepository</span>&lt;<span class="title">TEntity</span>&gt; <span class="keyword">where</span> <span class="title">TEntity</span>: <span class="keyword">class</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">//Three main group of functions</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">//Finding objects</span></span><br><span class="line">		<span class="function">TEntity <span class="title">Get</span>(<span class="params"><span class="built_in">int</span> id</span>)</span>;</span><br><span class="line">		<span class="function">IEnumerable&lt;TEntity&gt; <span class="title">GetAll</span>()</span>;</span><br><span class="line">		<span class="function">IEnumerable&lt;TEntity&gt; <span class="title">Find</span>(<span class="params">Expression&lt;Func&lt;TEntity, <span class="built_in">bool</span>&gt;&gt; predicate</span>)</span>;</span><br><span class="line"></span><br><span class="line">		<span class="comment">/*</span></span><br><span class="line"><span class="comment">			Func&lt;input, output&gt; -&gt; å§”æ´¾ç‰©ä»¶(å°‡å‡½æ•¸ç•¶ä½œç‰©ä»¶çš„å®¹å™¨)</span></span><br><span class="line"><span class="comment">				eg. Func&lt;int, int&gt; fn = n=&gt;n*n;</span></span><br><span class="line"><span class="comment">			Expression (eg. LINQ)</span></span><br><span class="line"><span class="comment">				turn an lambda to an expression tree</span></span><br><span class="line"><span class="comment">				and the LINQ can input a lambda expression (put in a generic delegate)</span></span><br><span class="line"><span class="comment">		 */</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">//Adding object</span></span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">Add</span>(<span class="params">TEntity entity</span>)</span>;</span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">AddRange</span>(<span class="params">IEnumerable&lt;TEntity&gt; entities</span>)</span>;</span><br><span class="line"></span><br><span class="line">		<span class="comment">//Removing object</span></span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">Remove</span>(<span class="params">TEntity entity</span>)</span>;</span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">RemoveRange</span>(<span class="params">IEnumerable&lt;TEntity&gt; entities</span>)</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>!! è¦æ³¨æ„çš„æ˜¯, <strong>Repositoryä¸æ‡‰è©²æœ‰ç›´æ¥Updateæˆ–æ˜¯Save Databaseçš„æ–¹æ³•</strong>, ä¸»è¦æ˜¯èªç¾©å•é¡Œ. !!<br>Repository act like a collection of objects in memory.<br>é€™äº›æ”¹è®ŠDatabaseçš„å‹•ä½œ, æ‡‰è©²äº¤ç”±UnitOfWork, æŠŠé€™äº›objects saveåˆ°database.<br>æ‰€ä»¥æ‡‰è©²æ˜¯UnitOfWorké€éRepositoryæ’ˆå‡ºä¾†, ç„¶å¾Œä¿®æ”¹, å†é€éUnitOfWork Save.<br>å¯ä»¥ä½¿ç”¨Transactionæ©Ÿåˆ¶, å°‡Save Changesçš„å‹•ä½œçµ±ä¸€åŸ·è¡Œ, é€™æ¨£ä¸€ä¾†æ‰å¯ä»¥ç¢ºä¿Atomic Operation</p>
</blockquote>
<hr>
<figure class="highlight c#"><figcaption><span>Repository</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Linq.Expressions;</span><br><span class="line"><span class="keyword">using</span> Microsoft.EntityFrameworkCore;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">RepositoryPatternPractice.Repositories</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Repository</span>&lt;<span class="title">TEntity</span>&gt; : <span class="title">IRepository</span>&lt;<span class="title">TEntity</span>&gt; <span class="keyword">where</span> <span class="title">TEntity</span>: <span class="keyword">class</span></span><br><span class="line">	&#123;</span><br><span class="line">        <span class="comment">//the context here is generic, so it has nothing to do with my application</span></span><br><span class="line">        <span class="comment">//so you can DI some specific contexts</span></span><br><span class="line">        <span class="comment">//protected because the specific repository can use it</span></span><br><span class="line">        <span class="keyword">protected</span> <span class="keyword">readonly</span> DbContext Context;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="title">Repository</span>(<span class="params">DbContext context</span>)</span></span><br><span class="line">		&#123;</span><br><span class="line">            Context = context;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> TEntity <span class="title">Get</span>(<span class="params"><span class="built_in">int</span> id</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> Context.Set&lt;TEntity&gt;().Find(id);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//don&#x27;t return IQueryable!!</span></span><br><span class="line">        <span class="comment">//Repository should encapsulate the query</span></span><br><span class="line">        <span class="comment">//so on the Service or Controller won&#x27;t get too much pressure</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">IEnumerable</span>&lt;<span class="title">TEntity</span>&gt; <span class="title">GetAll</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> Context.Set&lt;TEntity&gt;().ToList();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">IEnumerable</span>&lt;<span class="title">TEntity</span>&gt; <span class="title">Find</span>(<span class="params">Expression&lt;Func&lt;TEntity, <span class="built_in">bool</span>&gt;&gt; predicate</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> Context.Set&lt;TEntity&gt;().Where(predicate);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Add</span>(<span class="params">TEntity entity</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Context.Set&lt;TEntity&gt;().Add(entity);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">AddRange</span>(<span class="params">IEnumerable&lt;TEntity&gt; entities</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Context.Set&lt;TEntity&gt;().AddRange(entities);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Remove</span>(<span class="params">TEntity entity</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Context.Set&lt;TEntity&gt;().Remove(entity);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">RemoveRange</span>(<span class="params">IEnumerable&lt;TEntity&gt; entities</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Context.Set&lt;TEntity&gt;().RemoveRange(entities);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="IBookRepository-BookRepository"><a href="#IBookRepository-BookRepository" class="headerlink" title="IBookRepository, BookRepository"></a>IBookRepository, BookRepository</h3><p><strong>é€™è£¡é–‹å§‹æ˜¯concreteçš„repository</strong></p>
<figure class="highlight c#"><figcaption><span>IBookRepository</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> RepositoryPatternPractice.Models;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">RepositoryPatternPractice.Repositories</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">//derive from my generic Repository interface</span></span><br><span class="line">	<span class="comment">//C# allow this interface chain</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IBookRepository</span> : <span class="title">IRepository</span>&lt;<span class="title">Book</span>&gt;</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="function">IEnumerable&lt;Book&gt; <span class="title">GetTopSellingBooks</span>(<span class="params"><span class="built_in">int</span> count</span>)</span>;</span><br><span class="line">		<span class="function">IEnumerable&lt;Book&gt; <span class="title">GetBooksByAuthor</span>(<span class="params">Author author</span>)</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c#"><figcaption><span>BookRepository</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> RepositoryPatternPractice.Models;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">RepositoryPatternPractice.Repositories</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">//inheritance, implementation</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">class</span> <span class="title">BookRepository</span> : <span class="title">Repository</span>&lt;<span class="title">Book</span>&gt;, <span class="title">IBookRepository</span></span><br><span class="line">	&#123;</span><br><span class="line">        <span class="comment">//Property</span></span><br><span class="line">        <span class="keyword">public</span> MypostgresContext MypostgresContext</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span> &#123; <span class="keyword">return</span> Context <span class="keyword">as</span> MypostgresContext; &#125;   </span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="title">BookRepository</span>(<span class="params">MypostgresContext context</span>) : <span class="title">base</span>(<span class="params">context</span>)</span></span><br><span class="line">		&#123;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">        IEnumerable&lt;Book&gt; IBookRepository.GetBooksByAuthor(Author author)</span><br><span class="line">        &#123;</span><br><span class="line">           <span class="keyword">return</span> MypostgresContext.Books.Where(x=&gt;x.AuthorId==author.AuthorId).ToList();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        IEnumerable&lt;Book&gt; IBookRepository.GetTopSellingBooks(<span class="built_in">int</span> count)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> MypostgresContext.Books.OrderByDescending(b =&gt; b.Price).Take(count).ToList();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="IAuthorRepository-AuthorRepository"><a href="#IAuthorRepository-AuthorRepository" class="headerlink" title="IAuthorRepository, AuthorRepository"></a>IAuthorRepository, AuthorRepository</h3><figure class="highlight c#"><figcaption><span>IAuthorRepository</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> RepositoryPatternPractice.Models;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">RepositoryPatternPractice.Repositories</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IAuthorRepository</span> : <span class="title">IRepository</span>&lt;<span class="title">Author</span>&gt;</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="function">Author <span class="title">GetAuthorByName</span>(<span class="params"><span class="built_in">string</span> name</span>)</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c#"><figcaption><span>AuthorRepository</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> RepositoryPatternPractice.Models;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">RepositoryPatternPractice.Repositories</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">class</span> <span class="title">AuthorRepository</span> : <span class="title">Repository</span>&lt;<span class="title">Author</span>&gt;, <span class="title">IAuthorRepository</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">public</span> MypostgresContext MypostgresContext</span><br><span class="line">        &#123;</span><br><span class="line">			<span class="keyword">get</span> &#123; <span class="keyword">return</span> Context <span class="keyword">as</span> MypostgresContext; &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="title">AuthorRepository</span>(<span class="params">MypostgresContext context</span>) : <span class="title">base</span>(<span class="params">context</span>)</span> </span><br><span class="line">		&#123;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">public</span> Author <span class="title">GetAuthorByName</span>(<span class="params"><span class="built_in">string</span> name</span>)</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> MypostgresContext.Authors.Where(x=&gt;x.AuthorName.Equals(name)).ToList().FirstOrDefault();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="IUnitOfWork-UnitOfWork"><a href="#IUnitOfWork-UnitOfWork" class="headerlink" title="IUnitOfWork, UnitOfWork"></a>IUnitOfWork, UnitOfWork</h3><p><strong>é€™è£¡é–‹å§‹æ˜¯unit of workçš„å¯¦ä½œ</strong></p>
<figure class="highlight c#"><figcaption><span>IUnitOfWork</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> RepositoryPatternPractice.Repositories;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">RepositoryPatternPractice</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">//Unit of work</span></span><br><span class="line">	<span class="comment">//interfce chain with IDisposable, so the class implement this interface </span></span><br><span class="line">    <span class="comment">//need to implement the Dispose() method</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IUnitOfWork</span> : <span class="title">IDisposable</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">//Repository act the collection of objects in memory</span></span><br><span class="line">		IBookRepository Books &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line">		IAuthorRepository Authors &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line">		<span class="function"><span class="built_in">int</span> <span class="title">Complete</span>()</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c#"><figcaption><span>UnitOfWork</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> RepositoryPatternPractice.Models;</span><br><span class="line"><span class="keyword">using</span> RepositoryPatternPractice.Repositories;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">RepositoryPatternPractice</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">class</span> <span class="title">UnitOfWork</span> : <span class="title">IUnitOfWork</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">private</span> <span class="keyword">readonly</span> MypostgresContext _context;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">public</span> IBookRepository Books &#123; <span class="keyword">get</span>; <span class="keyword">private</span> <span class="keyword">set</span>; &#125;</span><br><span class="line">		<span class="keyword">public</span> IAuthorRepository Authors &#123; <span class="keyword">get</span>; <span class="keyword">private</span> <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">		<span class="comment">//we will use this context across all repositories</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="title">UnitOfWork</span>(<span class="params">MypostgresContext context</span>)</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">this</span>._context = context;</span><br><span class="line">			<span class="comment">//use the same context to initialize our repository</span></span><br><span class="line">			Books = <span class="keyword">new</span> BookRepository(_context);</span><br><span class="line">			Authors = <span class="keyword">new</span> AuthorRepository(_context);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="built_in">int</span> <span class="title">Complete</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">this</span>._context.SaveChanges();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Dispose</span>()</span></span><br><span class="line">		&#123;</span><br><span class="line">			_context.Dispose(); <span class="comment">//dispose the context</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é€™è£¡å¯ä»¥ç™¼ç¾, UnitOfWorkå°‡Repositoryä½œç‚ºè‡ªå·±çš„å±¬æ€§, é€™æ¨£ä¸€ä¾†ä½¿ç”¨è€…å°±å¯ä»¥é€éï¼µnitOfWorké»å‡ºRepositoryå†åšæ“ä½œ.<br>è€ŒComplete()æ–¹æ³•, å°±æ˜¯æ‹¿ä¾†Saveç”¨çš„, å„²å­˜æ‰€æœ‰ç•°å‹•<br>æœ€å¾Œå¯¦ä½œDisposeæ˜¯å› ç‚ºå¯ä»¥é€éusing blocké‡‹æ”¾context<br>åœ¨æ¯ä¸€æ¬¡çš„operation, Repositoryæ‡‰è©²ä½¿ç”¨åŒä¸€å€‹context (re-use)<br>ä½†å¦‚æœä½ æœ‰ä½¿ç”¨DIæ¡†æ¶çš„è©±, å¯ä»¥ç›´æ¥å°‡Unit of work DIé€²å», å°±ä¸ç”¨ä½¿ç”¨using blockä¾†å»é‡‹æ”¾context. (ä¸»è¦æ˜¯ç®¡ç†Transactionçš„sessionè¦é‡‹æ”¾)</p>
<h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><p><strong>é€™è£¡æ˜¯ä½¿ç”¨ç¯„ä¾‹</strong></p>
<figure class="highlight c#"><figcaption><span>ä½¿ç”¨ç¯„ä¾‹</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> RepositoryPatternPractice.Models;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">RepositoryPatternPractice</span></span><br><span class="line">&#123;</span><br><span class="line">   <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">   &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//example of using these interfaces and classes</span></span><br><span class="line">            <span class="comment">//using block like try/finally and call Dispose()</span></span><br><span class="line">            <span class="keyword">using</span> ( <span class="keyword">var</span> unitOfWork = <span class="keyword">new</span> UnitOfWork(<span class="keyword">new</span> MypostgresContext()) )</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//Example 1</span></span><br><span class="line">                <span class="keyword">var</span> books = unitOfWork.Books.GetAll();</span><br><span class="line">                Console.WriteLine(<span class="string">&quot;Initial State: &quot;</span>);</span><br><span class="line">                <span class="keyword">foreach</span> (Book b <span class="keyword">in</span> books)</span><br><span class="line">                &#123;</span><br><span class="line">                    Console.WriteLine(<span class="string">$&quot;book: <span class="subst">&#123;b.BookName&#125;</span>, author: <span class="subst">&#123;unitOfWork.Authors.Get(b.AuthorId).AuthorName&#125;</span>&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                Console.WriteLine();</span><br><span class="line"></span><br><span class="line">                <span class="comment">//Example 2</span></span><br><span class="line">                unitOfWork.Books.AddRange(<span class="keyword">new</span> List&lt;Book&gt;() &#123;</span><br><span class="line">                    <span class="keyword">new</span> Book() &#123; BookName=<span class="string">&quot;AIGuide&quot;</span>, Price=<span class="number">300</span>, Author=unitOfWork.Authors.GetAuthorByName(<span class="string">&quot;Xuan&quot;</span>)&#125;,</span><br><span class="line">                    <span class="keyword">new</span> Book() &#123; BookName=<span class="string">&quot;PSGuide&quot;</span>, Price=<span class="number">230</span>, Author=unitOfWork.Authors.GetAuthorByName(<span class="string">&quot;Xuan&quot;</span>)&#125;</span><br><span class="line">                &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                <span class="comment">//Example3</span></span><br><span class="line">                unitOfWork.Books.Get(<span class="number">2</span>).BookName = <span class="string">&quot;C#dotNETGuide&quot;</span>;</span><br><span class="line"></span><br><span class="line">                unitOfWork.Complete();</span><br><span class="line"></span><br><span class="line">                Console.WriteLine(<span class="string">&quot;After changes: &quot;</span>);</span><br><span class="line">                books = unitOfWork.Books.GetAll();</span><br><span class="line">                <span class="keyword">foreach</span> (Book b <span class="keyword">in</span> books)</span><br><span class="line">                &#123;</span><br><span class="line">                    Console.WriteLine(<span class="string">$&quot;book: <span class="subst">&#123;b.BookName&#125;</span>, author: <span class="subst">&#123;unitOfWork.Authors.Get(b.AuthorId).AuthorName&#125;</span>&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                Console.WriteLine();</span><br><span class="line">            &#125;</span><br><span class="line">            Console.ReadKey();</span><br><span class="line">        &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="çµèª"><a href="#çµèª" class="headerlink" title="çµèª"></a>çµèª</h2><p>å¦‚æœæƒ³è¦åšåˆ°éåŒæ­¥, åªè¦æŠŠRepositoryå…§éƒ¨çš„å¯¦ä½œæ”¹æˆéåŒæ­¥å°±å¥½, å…¶é¤˜éƒ½ä¸€æ¨£.<br>å…¶å¯¦Repository pattern, Unit of Work patternå¾ˆå¸¸æœƒä¸€èµ·ä½¿ç”¨, ç”šè‡³æ­é…DI, ä½†é€™è£¡ç‚ºæ±‚ç°¡å–®å°±æ²’æœ‰ä½¿ç”¨DIäº†<br>å¸Œæœ›å¤§å®¶çœ‹å®Œé€™ç¯‡æ–‡ç« å°æ–¼Repository Patternå’ŒUnitOfWork Patternæ›´åŠ ç†è§£</p>
]]></content>
      <categories>
        <category>OOP</category>
        <category>Design Pattern</category>
      </categories>
      <tags>
        <tag>OOP</tag>
        <tag>.NET C#</tag>
        <tag>design-pattern</tag>
      </tags>
  </entry>
  <entry>
    <title>[.NET][C#][Design Pattern] - Mediator Pattern (ä¸­ä»‹è€…æ¨¡å¼)</title>
    <url>/posts/4072203086/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>é€™ç¯‡æ–‡ç« ä¸»è¦ä»‹ç´¹Mediator Patternçš„å®šç¾©ä»¥åŠç°¡å–®å¯¦ä½œ<br>ä»‹ç´¹ä½¿ç”¨Mediator Patternçš„å¥½è™•, ä¸¦æä¾›ç¯„ä¾‹<br>åœ¨è»Ÿé«”æ¶æ§‹ä¸­Mediator Patterncå’ŒRepository Patternéƒ½æ˜¯å¸¸ç”¨çš„pattern<br>é€šå¸¸.NETå°ˆæ¡ˆä¸­æœƒçµåˆMediatRå¥—ä»¶ä½¿ç”¨</p>
<span id="more"></span>

<h2 id="å®šç¾©-Mediator-Pattern"><a href="#å®šç¾©-Mediator-Pattern" class="headerlink" title="å®šç¾© Mediator Pattern"></a>å®šç¾© Mediator Pattern</h2><p>IGè²¼æ–‡ï¼š<br><span class="exturl" data-url="aHR0cHM6Ly93d3cuaW5zdGFncmFtLmNvbS9wL0NpTTBlenBMTzR6Lz9obD16aC10dw==">Mediator Pattern Post<i class="fa fa-external-link-alt"></i></span></p>
<p>GitHubé€£çµï¼š<br><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL21hby1jb2RlL01lZGlhdG9yUGF0dGVybg==">Sample Code<i class="fa fa-external-link-alt"></i></span></p>
<p>å®šç¾©ä¸€å€‹ Mediator ç‰©ä»¶ç”¨ä¾†<strong>å°è£ä¸€çµ„ç‰©ä»¶çš„äº’å‹•æ–¹å¼</strong>ã€‚<br>Mediator è—‰ç”±<strong>é¿å…ç‰©ä»¶é–“ç›¸äº’ç›´æ¥çš„å¼•ç”¨</strong>ï¼Œå¾è€Œé™ä½å®ƒå€‘ä¹‹é–“çš„è€¦åˆç¨‹åº¦ï¼Œä¸¦ä¸”å¯ä»¥è®“æˆ‘å€‘ç¨ç«‹åœ°æ”¹è®Šé€™äº›ç‰©ä»¶é–“çš„äº’å‹•æ–¹å¼ã€‚</p>
<p>ä¸‹é¢é€™å…©å¼µåœ–ç‰‡å¯ä»¥ç°¡å–®é«”ç¾å‡ºMediator Patternåœ¨åšçš„äº‹</p>
<p><strong>æ²’æœ‰ä½¿ç”¨ä¸­ä»‹è€…, ç‰©ä»¶å½¼æ­¤ä¹‹é–“ç›´æ¥èª¿ç”¨</strong><br><img data-src="/images/posts/mediator-pattern/origin-graph.png" 
style="width: 70%; margin: 15px auto;"></p>
<p><strong>ä½¿ç”¨ä¸­ä»‹è€…, ç‰©ä»¶åªä¾è³´mediatorä¾†èˆ‡å…¶ä»–ç‰©ä»¶æºé€š</strong><br><img data-src="/images/posts/mediator-pattern/star.png" 
style="width: 70%; margin: 15px auto;"></p>
<p>å¯ä»¥ç™¼ç¾ä½¿ç”¨ä¸­ä»‹è€…æ¨¡å¼ä¹‹å¾Œ, ç‰©ä»¶éƒ½åªä¾è³´ä¸­ä»‹è€…ä¾†å‚³éè¨Šæ¯, è€Œä¸æ˜¯ç›´æ¥èª¿ç”¨å½¼æ­¤, ä»¥æ­¤é”åˆ°è§£è€¦ã€‚<br>åœ¨ç¾å¯¦ç”Ÿæ´»ä¸­, ä¹Ÿæœ‰é¡ä¼¼çš„ä¾‹å­, ä¾‹å¦‚é–‹ç™¼åœ˜éšŠ, å®¢æœåœ˜éšŠ, ç”¢éŠ·åœ˜éšŠ, è¨­è¨ˆåœ˜éšŠ, è‹¥å½¼æ­¤ä¹‹é–“æ²’æœ‰ä¸€å€‹çµ±ä¸€çš„æºé€š,<br>é‚£éº¼å„å€‹åœ˜éšŠè€¦åˆåº¦å¾ˆé«˜, é–‹ç™¼è·Ÿè¨­è¨ˆè¦å”èª¿ä»‹é¢, åˆè¦å’Œç”¢éŠ·å’Œå®¢æœè¨è«–å¦‚ä½•è´å¾—å¦‚ä½•ç¬¦åˆå¸‚å ´, é€™æ¨£ä¸€ä¾†åˆ†å·¥å¤ªè¤‡é›œã€‚<br>æ‰€ä»¥éœ€è¦ä¸€å€‹<strong>ç”¢å“ç¶“ç†ä¾†ç•¶ä¸­ä»‹è€…</strong>, å”åŠ©æºé€šå„å€‹åœ˜éšŠã€‚</p>
<h2 id="å„ªç¼ºé»"><a href="#å„ªç¼ºé»" class="headerlink" title="å„ªç¼ºé»"></a>å„ªç¼ºé»</h2><ul>
<li>å„ªé» <ol>
<li>é™ä½ç‰©ä»¶ä¹‹é–“çš„è€¦åˆæ€§ï¼Œè®“ç‰©ä»¶å®¹æ˜“é‡è¤‡ä½¿ç”¨ã€‚</li>
<li>ç‰©ä»¶ä¹‹é–“ä¸€å°å¤šçš„é—œè¯æ€§è®Šæˆä¸€å°ä¸€ï¼Œæé«˜ç³»çµ±éˆæ´»æ€§ï¼Œä¹Ÿè®“æ•´é«”å®¹æ˜“ç¶­è­·åŠæ“´å……ã€‚</li>
</ol>
</li>
<li>ç¼ºé» (Trade-off)<ol>
<li>åŒäº‹é¡åˆ¥éå¤šæ™‚ï¼Œä¸­ä»‹è€…è²¬ä»»å¾ˆå¤§ï¼Œæœƒä½¿ç³»çµ±æå‡ä¸€å®šç¨‹åº¦çš„è¤‡é›œæ€§ã€‚</li>
</ol>
</li>
</ul>
<h2 id="UMLèˆ‡æˆå“¡"><a href="#UMLèˆ‡æˆå“¡" class="headerlink" title="UMLèˆ‡æˆå“¡"></a>UMLèˆ‡æˆå“¡</h2><p><img data-src="/images/posts/mediator-pattern/uml.png" 
style="width: 70%; margin: 15px auto;"></p>
<table>
    <thead>
        <th>æˆå“¡</th>
        <th>å®šç¾©</th>
    </thead>
    <tbody>
        <tr>
            <td>Mdiator</td>
            <td>æŠ½è±¡ä¸­ä»‹è€…, å®šç¾©è¨»å†Šé€²å…¥mediatorä»¥åŠè½‰ç™¼çš„æ–¹æ³•</td>
        </tr>
        <tr>
            <td>ConcreteMediator</td>
            <td>å…·é«”ä¸­ä»‹è€…, å®šç¾©ä¸€å€‹é›†åˆä¾†ç®¡ç†åŒäº‹, æ‰€ä»¥èšåˆColleague</td>
        </tr>
        <tr>
            <td>Colleague</td>
            <td>æŠ½è±¡åŒäº‹, å¯ä»¥ä¿å­˜ä¸­ä»‹è€…, èª¿ç”¨å…§éƒ¨æ–¹æ³•, æ‰€ä»¥èšåˆMediator</td>
        </tr>
        <tr>
            <td>ConcreteColleague</td>
            <td>å…·é«”åŒäº‹, ç•¶è¦è·Ÿå…¶ä»–ç‰©ä»¶æºé€šæ™‚, åˆ©ç”¨å…§éƒ¨çš„ä¸­ä»‹è€…é€²è¡Œè½‰ç™¼</td>
        </tr>
    </tbody>
</table>

<h2 id="å¯¦ä½œ"><a href="#å¯¦ä½œ" class="headerlink" title="å¯¦ä½œ"></a>å¯¦ä½œ</h2><p><strong>å°ˆæ¡ˆçµæ§‹</strong><br><img data-src="/images/posts/mediator-pattern/structure.png" 
style="width: 70%; margin: 15px auto;"></p>
<p><strong>æŠ½è±¡Mediator</strong></p>
<figure class="highlight c#"><figcaption><span>Mediator(æŠ½è±¡)</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> MediatorPattern.colleagues;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MediatorPattern.mediator</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// åœ˜éšŠåˆ—èˆ‰</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">enum</span> teamType</span><br><span class="line">    &#123;</span><br><span class="line">        ENGINEERING, DESIGN, SERVICE, MARKETING</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŠ½è±¡mediator</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title">Mediator</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">Register</span>(<span class="params">teamType type, Colleague colleague</span>)</span>; <span class="comment">//è¨»å†Šé€²å…¥mediator</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">Relay</span>(<span class="params">teamType type, <span class="built_in">string</span> msg</span>)</span>; <span class="comment">//è½‰ç™¼;å‚³é</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>PackageManager(å…·é«”Mediator)</strong></p>
<figure class="highlight c#"><figcaption><span>PackageManager(å…·é«”Mediator)</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> MediatorPattern.colleagues;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MediatorPattern.mediator</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">// å…·é«”mediator</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ProductManager</span> : <span class="title">Mediator</span></span><br><span class="line">	&#123;</span><br><span class="line">        <span class="comment">// èšåˆColleague, ä¸€å€‹å„²å­˜colleagueç‰©ä»¶çš„dictionary</span></span><br><span class="line">        <span class="keyword">private</span> Dictionary&lt;teamType, Colleague&gt; colleagues = <span class="keyword">new</span> Dictionary&lt;teamType, Colleague&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Register</span>(<span class="params">teamType type, Colleague colleague</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            colleague.setMediator(<span class="keyword">this</span>);</span><br><span class="line">            <span class="keyword">this</span>.colleagues.Add(type, colleague);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Relay</span>(<span class="params">teamType type, <span class="built_in">string</span> msg</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Colleague toColleague = <span class="keyword">this</span>.colleagues[type];</span><br><span class="line">            toColleague.receive(msg);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æŠ½è±¡Colleague</strong></p>
<figure class="highlight c#"><figcaption><span>Colleague(æŠ½è±¡)</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> MediatorPattern.mediator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MediatorPattern.colleagues</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title">Colleague</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">protected</span> Mediator? Mediator &#123; <span class="keyword">get</span>; <span class="keyword">private</span> <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMediator</span>(<span class="params">Mediator mediator</span>)</span></span><br><span class="line">		&#123;</span><br><span class="line">            <span class="keyword">this</span>.Mediator = mediator;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// æ¥æ”¶è¨Šæ¯å¾Œå¦‚ä½•åæ‡‰</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">receive</span>(<span class="params"><span class="built_in">string</span> msg</span>)</span>;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// å‚³é€è¨Šæ¯çµ¦ç‰¹å®šç‰©ä»¶</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">send</span>(<span class="params">teamType type, <span class="built_in">string</span> msg</span>)</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å…·é«”Colleague</strong></p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å…·é«”colleague</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">DesignTeam</span> : <span class="title">Colleague</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">receive</span>(<span class="params"><span class="built_in">string</span> msg</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;è¨­è¨ˆåœ˜éšŠæ”¶åˆ°è¨Šæ¯: &quot;</span> + msg);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">send</span>(<span class="params">teamType type, <span class="built_in">string</span> msg</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;è¨­è¨ˆåœ˜éšŠç™¼é€è¨Šæ¯: &quot;</span>+msg);</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.Mediator != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">this</span>.Mediator.Relay(type, msg);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">EngineeringTeam</span> : <span class="title">Colleague</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">receive</span>(<span class="params"><span class="built_in">string</span> msg</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;å·¥ç¨‹å¸«åœ˜éšŠæ”¶åˆ°è¨Šæ¯: &quot;</span>+msg);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">send</span>(<span class="params">teamType type, <span class="built_in">string</span> msg</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;å·¥ç¨‹å¸«åœ˜éšŠç™¼é€è¨Šæ¯: &quot;</span>+msg);</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.Mediator != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">this</span>.Mediator.Relay(type, msg);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MarketingTeam</span> : <span class="title">Colleague</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">receive</span>(<span class="params"><span class="built_in">string</span> msg</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;ç”¢éŠ·åœ˜éšŠæ”¶åˆ°è¨Šæ¯: &quot;</span> + msg);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">send</span>(<span class="params">teamType type, <span class="built_in">string</span> msg</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;ç”¢éŠ·åœ˜éšŠç™¼é€è¨Šæ¯: &quot;</span>+msg);</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.Mediator != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">this</span>.Mediator.Relay(type, msg);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ServiceTeam</span> : <span class="title">Colleague</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">receive</span>(<span class="params"><span class="built_in">string</span> msg</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;å®¢æœåœ˜éšŠæ”¶åˆ°è¨Šæ¯: &quot;</span> + msg);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">send</span>(<span class="params">teamType type, <span class="built_in">string</span> msg</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;å®¢æœåœ˜éšŠç™¼é€è¨Šæ¯: &quot;</span>+msg);</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.Mediator != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">this</span>.Mediator.Relay(type, msg);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Clientç«¯ä½¿ç”¨</strong></p>
<figure class="highlight c#"><figcaption><span>Program.cs</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> MediatorPattern.colleagues;</span><br><span class="line"><span class="keyword">using</span> MediatorPattern.mediator;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·é«”mediator</span></span><br><span class="line">ProductManager pm = <span class="keyword">new</span> ProductManager();</span><br><span class="line"></span><br><span class="line"><span class="comment">//å…·é«”colleague</span></span><br><span class="line">Colleague ds = <span class="keyword">new</span> DesignTeam();</span><br><span class="line">Colleague eg = <span class="keyword">new</span> EngineeringTeam();</span><br><span class="line">Colleague mk = <span class="keyword">new</span> MarketingTeam();</span><br><span class="line">Colleague sv = <span class="keyword">new</span> ServiceTeam();</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¨»å†Šé€²å…¥mediator</span></span><br><span class="line">pm.Register(teamType.DESIGN, ds);</span><br><span class="line">pm.Register(teamType.ENGINEERING, eg);</span><br><span class="line">pm.Register(teamType.MARKETING, mk);</span><br><span class="line">pm.Register(teamType.SERVICE, sv);</span><br><span class="line"></span><br><span class="line"><span class="comment">//åŸ·è¡Œ</span></span><br><span class="line">ds.send(teamType.ENGINEERING, <span class="string">&quot;UIè¨­è¨ˆç¨¿å®Œæˆ&quot;</span>);</span><br><span class="line">Console.WriteLine(String.Concat(Enumerable.Repeat(<span class="string">&quot;-&quot;</span>, <span class="number">10</span>)));</span><br><span class="line"></span><br><span class="line">eg.send(teamType.MARKETING, <span class="string">&quot;è»Ÿé«”é–‹ç™¼å®Œæˆ&quot;</span>);</span><br><span class="line">Console.WriteLine(String.Concat(Enumerable.Repeat(<span class="string">&quot;-&quot;</span>, <span class="number">10</span>)));</span><br><span class="line"></span><br><span class="line">Console.ReadKey();</span><br></pre></td></tr></table></figure>

<p><strong>çµæœ</strong><br><img data-src="/images/posts/mediator-pattern/result.png" 
style="width: 70%; margin: 15px auto;"></p>
<h2 id="ç–‘å•"><a href="#ç–‘å•" class="headerlink" title="ç–‘å•"></a>ç–‘å•</h2><ol>
<li>DIä¸ä¹Ÿæ˜¯è®“ç‰©ä»¶é–“è§£è€¦å—ï¼Ÿä»–å€‘æœ‰ä»€éº¼ä¸åŒï¼Ÿ<ol>
<li>æ‡‰ç”¨å ´æ™¯ä¸åŒï¼šMediatoræ¨¡å¼ä¸»è¦ç”¨æ–¼è§£è€¦åˆå¤šå€‹ç›¸äº’å”ä½œçš„ç‰©ä»¶ï¼Œç‰¹åˆ¥æ˜¯åœ¨è¤‡é›œçš„äº’å‹•å ´æ™¯ä¸­ã€‚DIå‰‡ä¸»è¦ç”¨æ–¼ç®¡ç†å’Œæ³¨å…¥ä¾è³´é—œä¿‚ï¼Œä»¥å¯¦ç¾é¬†è€¦åˆå’Œå¯æ¸¬è©¦çš„ç¨‹å¼ç¢¼ã€‚</li>
<li>è§£æ±ºä¸åŒå•é¡Œï¼šMediatorè§£æ±ºçš„æ˜¯ç‰©ä»¶ä¹‹é–“çš„å”ä½œå’Œé€šä¿¡å•é¡Œï¼Œè€ŒDIè§£æ±ºçš„æ˜¯ä¾è³´é—œä¿‚ç®¡ç†çš„å•é¡Œã€‚</li>
<li>å¯¦ç¾æ–¹å¼ä¸åŒï¼šMediatoréœ€è¦ä¸€å€‹ä¸­ä»‹è€…ä¾†å”èª¿ç‰©ä»¶ä¹‹é–“çš„äº’å‹•ï¼Œé€šå¸¸ç”±ä¸€å€‹å°ˆé–€çš„Mediatoré¡åˆ¥ä¾†å¯¦ç¾ã€‚DIå‰‡æ˜¯ä¸€ç¨®è¨­è¨ˆæ¨¡å¼ï¼Œå®ƒå¯ä»¥èˆ‡ä¸åŒèªè¨€å’Œæ¡†æ¶ä¸€èµ·ä½¿ç”¨ï¼Œä¸¦ä¸éœ€è¦ç‰¹å®šçš„ä¸­ä»‹è€…é¡åˆ¥ã€‚</li>
</ol>
</li>
</ol>
<h2 id="çµèª"><a href="#çµèª" class="headerlink" title="çµèª"></a>çµèª</h2><ul>
<li>å®šç¾©:<br>  å®šç¾©ä¸€å€‹ Mediator ç‰©ä»¶ç”¨ä¾†å°è£ä¸€çµ„ç‰©ä»¶çš„äº’å‹•æ–¹å¼ã€‚Mediator è—‰ç”±é¿å…ç‰©ä»¶é–“ç›¸äº’ç›´æ¥çš„å¼•ç”¨ï¼Œå¾è€Œé™ä½å®ƒå€‘ä¹‹é–“çš„è€¦åˆç¨‹åº¦ï¼Œä¸¦ä¸”å¯ä»¥è®“æˆ‘å€‘ç¨ç«‹åœ°æ”¹è®Šé€™äº›ç‰©ä»¶é–“çš„äº’å‹•æ–¹å¼ã€‚</li>
<li>æˆå“¡<ul>
<li>æŠ½è±¡Mediator: å®šç¾©æ–¹æ³•, è½‰æ¥è¨Šæ¯</li>
<li>å…·é«”Mediator: å¯¦ä½œæŠ½è±¡Mediator, Colleague (æ“æœ‰0~å¤šå€‹Colleague)</li>
<li>æŠ½è±¡Colleague: å®šç¾©æ–¹æ³•, èšåˆæŠ½è±¡Mediator (Colleagueæ“æœ‰Mediator)</li>
<li>å…·é«”Colleague: å¯¦ä½œæŠ½è±¡Mediator</li>
</ul>
</li>
<li>å„ªé» <ol>
<li>é™ä½ç‰©ä»¶ä¹‹é–“çš„è€¦åˆæ€§ï¼Œè®“ç‰©ä»¶å®¹æ˜“é‡è¤‡ä½¿ç”¨ã€‚</li>
<li>ç‰©ä»¶ä¹‹é–“ä¸€å°å¤šçš„é—œè¯æ€§è®Šæˆä¸€å°ä¸€ï¼Œæé«˜ç³»çµ±éˆæ´»æ€§ï¼Œä¹Ÿè®“æ•´é«”å®¹æ˜“ç¶­è­·åŠæ“´å……ã€‚</li>
</ol>
</li>
<li>ç¼ºé» (Trade-off)<ol>
<li>åŒäº‹é¡åˆ¥éå¤šæ™‚ï¼Œä¸­ä»‹è€…è²¬ä»»å¾ˆå¤§ï¼Œæœƒä½¿ç³»çµ±æå‡ä¸€å®šç¨‹åº¦çš„è¤‡é›œæ€§ã€‚</li>
</ol>
</li>
</ul>
]]></content>
      <categories>
        <category>OOP</category>
        <category>Design Pattern</category>
      </categories>
      <tags>
        <tag>OOP</tag>
        <tag>.NET C#</tag>
        <tag>design-pattern</tag>
      </tags>
  </entry>
</search>
