<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>æ”¿å¤§Googleå­¸ç”Ÿé–‹ç™¼è€…ç¤¾ç¾¤-å¿ƒå¾—ï¼ˆç¬¬ä¸€å­¸æœŸï¼‰</title>
    <url>/posts/277323671/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åœ¨å‰›ä¸Šå¤§äºŒæ™‚ï¼Œé™¤äº†æ‰‹é‚Šå’Œå­¸é•·çš„å°ˆæ¡ˆï¼Œæˆ‘ä¹ŸåƒåŠ äº†æ”¿å¤§çš„Googleå­¸ç”Ÿé–‹ç™¼è€…ç¤¾ç¾¤ã€‚ä¸»è¦æ˜¯å¸Œæœ›é€éææ¡ˆï¼Œ<strong>åˆ©ç”¨ç§‘æŠ€ä¾†è§£æ±ºå•é¡Œ</strong>ï¼Œåœ¨é€™è£¡æˆ‘ä¹Ÿæ·±æ·±æ„Ÿå—åˆ°Googleçš„æ–‡åŒ–ï¼Œé‚£å°±æ˜¯<strong>ä¸æœƒæ€•å»å˜—è©¦ã€ä¸æ€•å»è§£æ±ºå•é¡Œ</strong>ï¼Œæˆ‘ä¹Ÿèªè­˜åœ¨é€™å€‹ç¤¾ç¾¤ä¸­çš„å„å€‹äººæ‰ã€‚åœ¨é€™å€‹ç¤¾ç¾¤ä¸­ï¼Œæˆ‘é™¤äº†æ“”ä»»è‡ªå·±<strong>å°ˆæ¡ˆé ˜å°äºº</strong>çš„è§’è‰²å¤–ï¼Œæˆ‘ä¹Ÿèº«å…¼<strong>å¾Œç«¯æŠ€è¡“é•·</strong>çš„ä»»å‹™ï¼Œä¹Ÿæ˜¯æƒ³è¦ç™¼æ®æˆ‘ç›®å‰æ‰€å­¸åˆ°çš„ã€æœ€æˆç†Ÿçš„å¾Œç«¯çŸ¥è­˜ã€‚é™¤äº†æŠ€è¡“é¢ï¼Œå¦‚ä½•ç®¡ç†ä¸€å€‹åœ˜éšŠã€ä¸€é …å°ˆæ¡ˆï¼Œä¹Ÿæ˜¯ä¸€é–€å¾ˆå¤§çš„èª²é¡Œã€‚å¸Œæœ›åœ¨æœªä¾†å¯ä»¥ç¹¼çºŒæŠŠè‡ªå·±çš„é€™é …å°ˆæ¡ˆåšåˆ°å®Œå–„ï¼Œè§£æ±ºçœŸæ­£çš„å•é¡Œï¼</p>
<span id="more"></span>

<h2 id="å®šä½èˆ‡è·ä½"><a href="#å®šä½èˆ‡è·ä½" class="headerlink" title="å®šä½èˆ‡è·ä½"></a>å®šä½èˆ‡è·ä½</h2><ul>
<li><h3 id="å°ˆæ¡ˆå®šä½"><a href="#å°ˆæ¡ˆå®šä½" class="headerlink" title="å°ˆæ¡ˆå®šä½"></a>å°ˆæ¡ˆå®šä½</h3>æˆ‘é€™æ¬¡çš„ææ¡ˆå«åšã€Œæ”¿å¤§é€šNCCUPassã€ï¼Œä»¥<strong>æ”¿å¤§æ ¡åœ’ç”Ÿæ´»ç‚ºå‡ºç™¼é»</strong>ï¼Œæƒ³è¦åšä¸€æ¬¾èƒ½å¤ è§£æ±ºæ”¿å¤§å­¸ç”Ÿç”Ÿæ´»ä¸Šä¸ä¾¿çš„APPï¼Œé€éå°ˆæ¡ˆçµ„çš„è¨è«–èˆ‡èª¿æŸ¥ï¼Œå¸¶ä¾†<strong>æ›´ä¾¿åˆ©ã€è°æ˜èˆ‡æ•¸ä½åŒ–</strong>çš„æ ¡åœ’ç”Ÿæ´»ï¼Œè®“æ ¡åœ’å…§çš„éœ€æ±‚èƒ½å¤ å³æ™‚è¢«æ»¿è¶³ï¼Œä¹Ÿè®“é€™æ¬¾APPèå…¥æ”¿å¤§å­¸ç”Ÿçš„ç”Ÿæ´»ä¸­ï¼Œæˆç‚ºæ”¿å¤§æ ¡åœ’å…§ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ï¼Œå› æ­¤ï¼Œã€Œæ”¿å¤§é€š-NCCUPassã€çš„ææ¡ˆå°±æ­¤èª•ç”Ÿ</li>
</ul>
<hr>
<p>ä¸‹é¢æ˜¯æˆ‘å€‘ç¬¬ä¸€æ¬¡æœŸæœ«ç™¼è¡¨çš„æµ·å ±å’Œç…§ç‰‡<br>æµ·å ±å…§å‘ˆç¾çš„æ˜¯æˆ‘å€‘è¦åŠƒã€ä¹Ÿæ­£åœ¨é–‹ç™¼çš„åŠŸèƒ½<br><img src="/images/posts/GDSC-NCCUPass-experience-1/poster.jpg" 
style="width: 70%; margin: 15px auto;"></p>
<hr>
<p>é€™å€‹æ˜¯æœŸæœ«ç™¼è¡¨ç•¶å¤©çš„æ”¤ä½ä»‹ç´¹ç…§ç‰‡<br><img src="/images/posts/GDSC-NCCUPass-experience-1/img4.jpg" 
style="width: 70%; margin: 15px auto;"></p>
<p><img src="/images/posts/GDSC-NCCUPass-experience-1/img2.JPG" 
style="width: 70%; margin: 15px auto;"></p>
<p><img src="/images/posts/GDSC-NCCUPass-experience-1/img1.JPG" 
style="width: 70%; margin: 15px auto;"></p>
<hr>
<ul>
<li><h3 id="è·ä½"><a href="#è·ä½" class="headerlink" title="è·ä½"></a>è·ä½</h3>åœ¨é€™å€‹å°ˆæ¡ˆä¸­ï¼Œæˆ‘æ“”ä»»<strong>Project Leader(å°ˆæ¡ˆä¸»æŒäºº)<strong>ï¼Œèˆ‡</strong>Backend Tech-Lead(å¾Œç«¯æŠ€è¡“é•·)<strong>çš„èº«ä»½ï¼Œå¸¶é ˜ç¸½å…±</strong>11äººçš„åœ˜éšŠ</strong>ï¼Œåœ¨æˆ‘å€‘é€™å€‹åœ˜éšŠä¸­ï¼Œä¸»è¦åˆ†æˆå››çµ„ï¼Œå‰ç«¯ã€å¾Œç«¯ã€UI&#x2F;UXã€æ–‡æ›¸ï¼Œé™¤äº†è² è²¬ä¸»è¦çš„å¾Œç«¯æŠ€è¡“ï¼Œä¹Ÿè¦å¸¶é ˜å¾Œç«¯çš„çµ„å“¡å€‘æå‡å¯¦åŠ›ã€å”èª¿èˆ‡è¦åŠƒã€‚ä»¥å°ˆæ¡ˆé ˜å°äººçš„è§’åº¦ä¾†çœ‹ï¼Œé™¤äº†éœ€è¦<strong>è¦åŠƒæ•´å€‹å°ˆæ¡ˆçš„é€²åº¦èˆ‡èµ°å‘å¤–ï¼Œä¹Ÿè¦ç›£ç£é€²åº¦ã€å”èª¿å„çµ„ã€äººéš›æºé€šç­‰ç­‰</strong>ï¼Œé™¤äº†åˆ©ç”¨å„ç¨®å°ˆæ¡ˆç®¡ç†çš„å·¥å…·å¤–ï¼Œä¹Ÿè¦æ’°å¯«å„ç¨®æ–‡ä»¶èˆ‡æµç¨‹åœ–ï¼Œè€å¯¦èªªæ»¿ç´¯çš„XDã€‚ä½†ä¹Ÿæ˜¯é‡åˆ°ä¸€ç¾¤é¡˜æ„è·Ÿéš¨æˆ‘çš„éšŠå‹å€‘ï¼Œä¸€èµ·æˆé•·ï¼ŒçœŸçš„éå¸¸å¾—æ„Ÿè¬ä»–å€‘ğŸ™</li>
</ul>
<h2 id="æŠ€è¡“"><a href="#æŠ€è¡“" class="headerlink" title="æŠ€è¡“"></a>æŠ€è¡“</h2><ul>
<li><h3 id="ç³»çµ±æ¶æ§‹åœ–"><a href="#ç³»çµ±æ¶æ§‹åœ–" class="headerlink" title="ç³»çµ±æ¶æ§‹åœ–"></a>ç³»çµ±æ¶æ§‹åœ–</h3><p>ä¸‹é¢æ˜¯æˆ‘å€‘çš„ç³»çµ±æ¶æ§‹åœ–ï¼Œå› ç‚ºæˆ‘æ˜¯è² è²¬å¾Œç«¯çš„éƒ¨åˆ†ï¼Œæ‰€ä»¥æœƒè‘—é‡ç•«å¾Œç«¯çš„æ¶æ§‹<br><img src="/images/posts/GDSC-NCCUPass-experience-1/NCCUPass-Structure.jpg" 
style="width: 70%; margin: 15px auto;"></p>
</li>
<li><h3 id="å¾Œç«¯æŠ€è¡“ç´°ç¯€"><a href="#å¾Œç«¯æŠ€è¡“ç´°ç¯€" class="headerlink" title="å¾Œç«¯æŠ€è¡“ç´°ç¯€"></a>å¾Œç«¯æŠ€è¡“ç´°ç¯€</h3><p>æ ¹æ“šä¸Šé¢çš„æ¶æ§‹åœ–ï¼Œæˆ‘å€‘çš„å°ˆæ¡ˆä¸»è¦éƒ¨ç½²åœ¨Ubuntuçš„ä¸»æ©Ÿä¸Šï¼Œæ‰€æœ‰çš„æœå‹™åˆ©ç”¨Docker Composeçµ±ä¸€å»ºç«‹ï¼Œå¦å¤–é‚„æœ‰åˆ©ç”¨GitLab Runneråšåˆ°è‡ªå‹•åŒ–æ•´åˆèˆ‡è‡ªå‹•åŒ–éƒ¨å±¬çš„åŠŸèƒ½ã€‚å¾Œç«¯ç¨‹å¼æ˜¯ç”±.NET C#æ’°å¯«ï¼Œé€™é‚Šæˆ‘ä½¿ç”¨çš„æ˜¯Software Layer Architecture Pattern(è»Ÿé«”åˆ†å±¤æ¶æ§‹)ï¼Œçµåˆå„ç¨®Design Patternå†åŠ ä¸Šè‡ªå·±çš„ä¸€äº›è®Šå½¢ï¼Œè³‡æ–™åº«æ˜¯ä½¿ç”¨MongoDBçš„Replica-Setï¼Œä¹Ÿæœ‰ä½¿ç”¨Redisåšå¿«å–ï¼Œç…§ç‰‡å’Œä¸€äº›å…¬é–‹çš„æª”æ¡ˆä¸»è¦æ”¾åœ¨æˆ‘å€‘çš„File Serverä¸Šã€‚å…¶ä»–æŠ€è¡“ç´°ç¯€æˆ‘å°±åˆ—åœ¨ä¸‹é¢ï¼Œæƒ³çœ‹çš„äººå¯ä»¥åƒè€ƒä¸€ä¸‹XD</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">- Software Layer Architecture pattern (å¤šå±¤)</span><br><span class="line">- Repository pattern</span><br><span class="line">- Unit of Work pattern</span><br><span class="line">- Mediator pattern &amp; CQRS</span><br><span class="line">- JWT &amp; RBAC</span><br><span class="line">- Automapper</span><br><span class="line">- Exception handleræŠ½é›¢</span><br><span class="line">- Dapper &amp; EF combination</span><br><span class="line">- Redis (Cache)</span><br><span class="line">- Docker Networking</span><br><span class="line">- Docker Volume</span><br><span class="line">- Docker hub</span><br><span class="line">- appsettings çµ„æ…‹åˆ‡æ›</span><br><span class="line">- MongoDB replica-set</span><br><span class="line">- Git å¤šäººå”ä½œ</span><br><span class="line">- Swagger / OpenAPI</span><br><span class="line">- Docker File Server</span><br><span class="line">- Docker mongoDB backup daily</span><br><span class="line">- Docker Compose</span><br></pre></td></tr></table></figure>
<p>ä¹‹å¾Œä¹Ÿæœƒä¸€ç›´æ–°å¢ï¼Œå› ç‚ºç¾åœ¨è™•æ–¼å°ˆæ¡ˆé–‹ç™¼çš„åˆæœŸã€‚</p>
</li>
</ul>
<h2 id="çµèª"><a href="#çµèª" class="headerlink" title="çµèª"></a>çµèª</h2><p>æœ€å¾Œï¼Œé€™å€‹å°ˆæ¡ˆé›–ç„¶åªæ˜¯åœ¨ç™¼å±•åˆæœŸï¼Œä½†æˆ‘å¸Œæœ›æœªä¾†å¯ä»¥ç™¼å±•åˆ°æˆ‘é æƒ³çš„æ¨£å­ï¼Œä¹Ÿéå¸¸æ„Ÿè¬ä¸€è·¯é¡˜æ„è·Ÿéš¨æˆ‘ã€å¹«åŠ©æˆ‘çš„éšŠå‹å€‘ï¼Œå–®æ‰“ç¨é¬¥çœŸçš„æ¯”ä¸ä¸Šåœ˜éšŠåˆä½œğŸ‘ï¼Œä¹Ÿå¸Œæœ›å„ä½æœªä¾†ä¹Ÿå¯ä»¥ç¹¼çºŒå¹«åŠ©æˆ‘å•¦ï¼Œç¾åœ¨æ‰“åˆ†äº«æ–‡å¯èƒ½é‚„å¤ªæ—©ï¼Œä½†æˆ‘å°±æ˜¯æƒ³è¦è¶å­¸æœŸæœ«è¶•å¿«è¨˜éŒ„ä¸€ä¸‹å“ˆå“ˆ</p>
]]></content>
      <categories>
        <category>GDSC</category>
        <category>å¿ƒå¾—</category>
        <category>NCCUPass</category>
        <category>å°ˆæ¡ˆ</category>
        <category>side project</category>
      </categories>
      <tags>
        <tag>GDSC</tag>
        <tag>NCCUPass</tag>
        <tag>å°ˆæ¡ˆ</tag>
      </tags>
  </entry>
  <entry>
    <title>[.NET][Design Pattern] Mediator Pattern (ä¸­ä»‹è€…æ¨¡å¼)</title>
    <url>/posts/4072203086/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>é€™ç¯‡æ–‡ç« ä¸»è¦ä»‹ç´¹Mediator Patternçš„å®šç¾©ä»¥åŠç°¡å–®å¯¦ä½œ<br>ä»‹ç´¹ä½¿ç”¨Mediator Patternçš„å¥½è™•, ä¸¦æä¾›ç¯„ä¾‹<br>åœ¨è»Ÿé«”æ¶æ§‹ä¸­Mediator Patterncå’ŒRepository Patternéƒ½æ˜¯å¸¸ç”¨çš„pattern<br>é€šå¸¸.NETå°ˆæ¡ˆä¸­æœƒçµåˆMediatRå¥—ä»¶ä½¿ç”¨</p>
<span id="more"></span>

<h2 id="å®šç¾©-Mediator-Pattern"><a href="#å®šç¾©-Mediator-Pattern" class="headerlink" title="å®šç¾© Mediator Pattern"></a>å®šç¾© Mediator Pattern</h2><p>IGè²¼æ–‡ï¼š<br><span class="exturl" data-url="aHR0cHM6Ly93d3cuaW5zdGFncmFtLmNvbS9wL0NpTTBlenBMTzR6Lz9obD16aC10dw==">Mediator Pattern Post<i class="fa fa-external-link-alt"></i></span></p>
<p>GitHubé€£çµï¼š<br><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL21hby1jb2RlL01lZGlhdG9yUGF0dGVybg==">Sample Code<i class="fa fa-external-link-alt"></i></span></p>
<p>å®šç¾©ä¸€å€‹ Mediator ç‰©ä»¶ç”¨ä¾†<strong>å°è£ä¸€çµ„ç‰©ä»¶çš„äº’å‹•æ–¹å¼</strong>ã€‚<br>Mediator è—‰ç”±<strong>é¿å…ç‰©ä»¶é–“ç›¸äº’ç›´æ¥çš„å¼•ç”¨</strong>ï¼Œå¾è€Œé™ä½å®ƒå€‘ä¹‹é–“çš„è€¦åˆç¨‹åº¦ï¼Œä¸¦ä¸”å¯ä»¥è®“æˆ‘å€‘ç¨ç«‹åœ°æ”¹è®Šé€™äº›ç‰©ä»¶é–“çš„äº’å‹•æ–¹å¼ã€‚</p>
<p>ä¸‹é¢é€™å…©å¼µåœ–ç‰‡å¯ä»¥ç°¡å–®é«”ç¾å‡ºMediator Patternåœ¨åšçš„äº‹</p>
<p><strong>æ²’æœ‰ä½¿ç”¨ä¸­ä»‹è€…, ç‰©ä»¶å½¼æ­¤ä¹‹é–“ç›´æ¥èª¿ç”¨</strong><br><img src="/images/posts/mediator-pattern/origin-graph.png" 
style="width: 70%; margin: 15px auto;"></p>
<p><strong>ä½¿ç”¨ä¸­ä»‹è€…, ç‰©ä»¶åªä¾è³´mediatorä¾†èˆ‡å…¶ä»–ç‰©ä»¶æºé€š</strong><br><img src="/images/posts/mediator-pattern/star.png" 
style="width: 70%; margin: 15px auto;"></p>
<p>å¯ä»¥ç™¼ç¾ä½¿ç”¨ä¸­ä»‹è€…æ¨¡å¼ä¹‹å¾Œ, ç‰©ä»¶éƒ½åªä¾è³´ä¸­ä»‹è€…ä¾†å‚³éè¨Šæ¯, è€Œä¸æ˜¯ç›´æ¥èª¿ç”¨å½¼æ­¤, ä»¥æ­¤é”åˆ°è§£è€¦ã€‚<br>åœ¨ç¾å¯¦ç”Ÿæ´»ä¸­, ä¹Ÿæœ‰é¡ä¼¼çš„ä¾‹å­, ä¾‹å¦‚é–‹ç™¼åœ˜éšŠ, å®¢æœåœ˜éšŠ, ç”¢éŠ·åœ˜éšŠ, è¨­è¨ˆåœ˜éšŠ, è‹¥å½¼æ­¤ä¹‹é–“æ²’æœ‰ä¸€å€‹çµ±ä¸€çš„æºé€š,<br>é‚£éº¼å„å€‹åœ˜éšŠè€¦åˆåº¦å¾ˆé«˜, é–‹ç™¼è·Ÿè¨­è¨ˆè¦å”èª¿ä»‹é¢, åˆè¦å’Œç”¢éŠ·å’Œå®¢æœè¨è«–å¦‚ä½•è´å¾—å¦‚ä½•ç¬¦åˆå¸‚å ´, é€™æ¨£ä¸€ä¾†åˆ†å·¥å¤ªè¤‡é›œã€‚<br>æ‰€ä»¥éœ€è¦ä¸€å€‹<strong>ç”¢å“ç¶“ç†ä¾†ç•¶ä¸­ä»‹è€…</strong>, å”åŠ©æºé€šå„å€‹åœ˜éšŠã€‚</p>
<h2 id="å„ªç¼ºé»"><a href="#å„ªç¼ºé»" class="headerlink" title="å„ªç¼ºé»"></a>å„ªç¼ºé»</h2><ul>
<li>å„ªé» <ol>
<li>é™ä½ç‰©ä»¶ä¹‹é–“çš„è€¦åˆæ€§ï¼Œè®“ç‰©ä»¶å®¹æ˜“é‡è¤‡ä½¿ç”¨ã€‚</li>
<li>ç‰©ä»¶ä¹‹é–“ä¸€å°å¤šçš„é—œè¯æ€§è®Šæˆä¸€å°ä¸€ï¼Œæé«˜ç³»çµ±éˆæ´»æ€§ï¼Œä¹Ÿè®“æ•´é«”å®¹æ˜“ç¶­è­·åŠæ“´å……ã€‚</li>
</ol>
</li>
<li>ç¼ºé» (Trade-off)<ol>
<li>åŒäº‹é¡åˆ¥éå¤šæ™‚ï¼Œä¸­ä»‹è€…è²¬ä»»å¾ˆå¤§ï¼Œæœƒä½¿ç³»çµ±æå‡ä¸€å®šç¨‹åº¦çš„è¤‡é›œæ€§ã€‚</li>
</ol>
</li>
</ul>
<h2 id="UMLèˆ‡æˆå“¡"><a href="#UMLèˆ‡æˆå“¡" class="headerlink" title="UMLèˆ‡æˆå“¡"></a>UMLèˆ‡æˆå“¡</h2><p><img src="/images/posts/mediator-pattern/uml.png" 
style="width: 70%; margin: 15px auto;"></p>
<table>
    <thead>
        <th>æˆå“¡</th>
        <th>å®šç¾©</th>
    </thead>
    <tbody>
        <tr>
            <td>Mdiator</td>
            <td>æŠ½è±¡ä¸­ä»‹è€…, å®šç¾©è¨»å†Šé€²å…¥mediatorä»¥åŠè½‰ç™¼çš„æ–¹æ³•</td>
        </tr>
        <tr>
            <td>ConcreteMediator</td>
            <td>å…·é«”ä¸­ä»‹è€…, å®šç¾©ä¸€å€‹é›†åˆä¾†ç®¡ç†åŒäº‹, æ‰€ä»¥èšåˆColleague</td>
        </tr>
        <tr>
            <td>Colleague</td>
            <td>æŠ½è±¡åŒäº‹, å¯ä»¥ä¿å­˜ä¸­ä»‹è€…, èª¿ç”¨å…§éƒ¨æ–¹æ³•, æ‰€ä»¥èšåˆMediator</td>
        </tr>
        <tr>
            <td>ConcreteColleague</td>
            <td>å…·é«”åŒäº‹, ç•¶è¦è·Ÿå…¶ä»–ç‰©ä»¶æºé€šæ™‚, åˆ©ç”¨å…§éƒ¨çš„ä¸­ä»‹è€…é€²è¡Œè½‰ç™¼</td>
        </tr>
    </tbody>
</table>

<h2 id="å¯¦ä½œ"><a href="#å¯¦ä½œ" class="headerlink" title="å¯¦ä½œ"></a>å¯¦ä½œ</h2><p><strong>å°ˆæ¡ˆçµæ§‹</strong><br><img src="/images/posts/mediator-pattern/structure.png" 
style="width: 70%; margin: 15px auto;"></p>
<p><strong>æŠ½è±¡Mediator</strong></p>
<figure class="highlight c#"><figcaption><span>Mediator(æŠ½è±¡)</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> MediatorPattern.colleagues;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MediatorPattern.mediator</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// åœ˜éšŠåˆ—èˆ‰</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">enum</span> teamType</span><br><span class="line">    &#123;</span><br><span class="line">        ENGINEERING, DESIGN, SERVICE, MARKETING</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŠ½è±¡mediator</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title">Mediator</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">Register</span>(<span class="params">teamType type, Colleague colleague</span>)</span>; <span class="comment">//è¨»å†Šé€²å…¥mediator</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">Relay</span>(<span class="params">teamType type, <span class="built_in">string</span> msg</span>)</span>; <span class="comment">//è½‰ç™¼;å‚³é</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>PackageManager(å…·é«”Mediator)</strong></p>
<figure class="highlight c#"><figcaption><span>PackageManager(å…·é«”Mediator)</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> MediatorPattern.colleagues;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MediatorPattern.mediator</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">// å…·é«”mediator</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ProductManager</span> : <span class="title">Mediator</span></span><br><span class="line">	&#123;</span><br><span class="line">        <span class="comment">// èšåˆColleague, ä¸€å€‹å„²å­˜colleagueç‰©ä»¶çš„dictionary</span></span><br><span class="line">        <span class="keyword">private</span> Dictionary&lt;teamType, Colleague&gt; colleagues = <span class="keyword">new</span> Dictionary&lt;teamType, Colleague&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Register</span>(<span class="params">teamType type, Colleague colleague</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            colleague.setMediator(<span class="keyword">this</span>);</span><br><span class="line">            <span class="keyword">this</span>.colleagues.Add(type, colleague);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Relay</span>(<span class="params">teamType type, <span class="built_in">string</span> msg</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Colleague toColleague = <span class="keyword">this</span>.colleagues[type];</span><br><span class="line">            toColleague.receive(msg);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æŠ½è±¡Colleague</strong></p>
<figure class="highlight c#"><figcaption><span>Colleague(æŠ½è±¡)</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> MediatorPattern.mediator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MediatorPattern.colleagues</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title">Colleague</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">protected</span> Mediator? Mediator &#123; <span class="keyword">get</span>; <span class="keyword">private</span> <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMediator</span>(<span class="params">Mediator mediator</span>)</span></span><br><span class="line">		&#123;</span><br><span class="line">            <span class="keyword">this</span>.Mediator = mediator;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// æ¥æ”¶è¨Šæ¯å¾Œå¦‚ä½•åæ‡‰</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">receive</span>(<span class="params"><span class="built_in">string</span> msg</span>)</span>;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// å‚³é€è¨Šæ¯çµ¦ç‰¹å®šç‰©ä»¶</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">send</span>(<span class="params">teamType type, <span class="built_in">string</span> msg</span>)</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å…·é«”Colleague</strong></p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å…·é«”colleague</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">DesignTeam</span> : <span class="title">Colleague</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">receive</span>(<span class="params"><span class="built_in">string</span> msg</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;è¨­è¨ˆåœ˜éšŠæ”¶åˆ°è¨Šæ¯: &quot;</span> + msg);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">send</span>(<span class="params">teamType type, <span class="built_in">string</span> msg</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;è¨­è¨ˆåœ˜éšŠç™¼é€è¨Šæ¯: &quot;</span>+msg);</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.Mediator != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">this</span>.Mediator.Relay(type, msg);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">EngineeringTeam</span> : <span class="title">Colleague</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">receive</span>(<span class="params"><span class="built_in">string</span> msg</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;å·¥ç¨‹å¸«åœ˜éšŠæ”¶åˆ°è¨Šæ¯: &quot;</span>+msg);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">send</span>(<span class="params">teamType type, <span class="built_in">string</span> msg</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;å·¥ç¨‹å¸«åœ˜éšŠç™¼é€è¨Šæ¯: &quot;</span>+msg);</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.Mediator != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">this</span>.Mediator.Relay(type, msg);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MarketingTeam</span> : <span class="title">Colleague</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">receive</span>(<span class="params"><span class="built_in">string</span> msg</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;ç”¢éŠ·åœ˜éšŠæ”¶åˆ°è¨Šæ¯: &quot;</span> + msg);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">send</span>(<span class="params">teamType type, <span class="built_in">string</span> msg</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;ç”¢éŠ·åœ˜éšŠç™¼é€è¨Šæ¯: &quot;</span>+msg);</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.Mediator != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">this</span>.Mediator.Relay(type, msg);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ServiceTeam</span> : <span class="title">Colleague</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">receive</span>(<span class="params"><span class="built_in">string</span> msg</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;å®¢æœåœ˜éšŠæ”¶åˆ°è¨Šæ¯: &quot;</span> + msg);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">send</span>(<span class="params">teamType type, <span class="built_in">string</span> msg</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;å®¢æœåœ˜éšŠç™¼é€è¨Šæ¯: &quot;</span>+msg);</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.Mediator != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">this</span>.Mediator.Relay(type, msg);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Clientç«¯ä½¿ç”¨</strong></p>
<figure class="highlight c#"><figcaption><span>Program.cs</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> MediatorPattern.colleagues;</span><br><span class="line"><span class="keyword">using</span> MediatorPattern.mediator;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·é«”mediator</span></span><br><span class="line">ProductManager pm = <span class="keyword">new</span> ProductManager();</span><br><span class="line"></span><br><span class="line"><span class="comment">//å…·é«”colleague</span></span><br><span class="line">Colleague ds = <span class="keyword">new</span> DesignTeam();</span><br><span class="line">Colleague eg = <span class="keyword">new</span> EngineeringTeam();</span><br><span class="line">Colleague mk = <span class="keyword">new</span> MarketingTeam();</span><br><span class="line">Colleague sv = <span class="keyword">new</span> ServiceTeam();</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¨»å†Šé€²å…¥mediator</span></span><br><span class="line">pm.Register(teamType.DESIGN, ds);</span><br><span class="line">pm.Register(teamType.ENGINEERING, eg);</span><br><span class="line">pm.Register(teamType.MARKETING, mk);</span><br><span class="line">pm.Register(teamType.SERVICE, sv);</span><br><span class="line"></span><br><span class="line"><span class="comment">//åŸ·è¡Œ</span></span><br><span class="line">ds.send(teamType.ENGINEERING, <span class="string">&quot;UIè¨­è¨ˆç¨¿å®Œæˆ&quot;</span>);</span><br><span class="line">Console.WriteLine(String.Concat(Enumerable.Repeat(<span class="string">&quot;-&quot;</span>, <span class="number">10</span>)));</span><br><span class="line"></span><br><span class="line">eg.send(teamType.MARKETING, <span class="string">&quot;è»Ÿé«”é–‹ç™¼å®Œæˆ&quot;</span>);</span><br><span class="line">Console.WriteLine(String.Concat(Enumerable.Repeat(<span class="string">&quot;-&quot;</span>, <span class="number">10</span>)));</span><br><span class="line"></span><br><span class="line">Console.ReadKey();</span><br></pre></td></tr></table></figure>

<p><strong>çµæœ</strong><br><img src="/images/posts/mediator-pattern/result.png" 
style="width: 70%; margin: 15px auto;"></p>
<h2 id="çµèª"><a href="#çµèª" class="headerlink" title="çµèª"></a>çµèª</h2><ul>
<li>å®šç¾©:<br>  å®šç¾©ä¸€å€‹ Mediator ç‰©ä»¶ç”¨ä¾†å°è£ä¸€çµ„ç‰©ä»¶çš„äº’å‹•æ–¹å¼ã€‚Mediator è—‰ç”±é¿å…ç‰©ä»¶é–“ç›¸äº’ç›´æ¥çš„å¼•ç”¨ï¼Œå¾è€Œé™ä½å®ƒå€‘ä¹‹é–“çš„è€¦åˆç¨‹åº¦ï¼Œä¸¦ä¸”å¯ä»¥è®“æˆ‘å€‘ç¨ç«‹åœ°æ”¹è®Šé€™äº›ç‰©ä»¶é–“çš„äº’å‹•æ–¹å¼ã€‚</li>
<li>æˆå“¡<ul>
<li>æŠ½è±¡Mediator: å®šç¾©æ–¹æ³•, è½‰æ¥è¨Šæ¯</li>
<li>å…·é«”Mediator: å¯¦ä½œæŠ½è±¡Mediator, Colleague (æ“æœ‰0~å¤šå€‹Colleague)</li>
<li>æŠ½è±¡Colleague: å®šç¾©æ–¹æ³•, èšåˆæŠ½è±¡Mediator (Colleagueæ“æœ‰Mediator)</li>
<li>å…·é«”Colleague: å¯¦ä½œæŠ½è±¡Mediator</li>
</ul>
</li>
<li>å„ªé» <ol>
<li>é™ä½ç‰©ä»¶ä¹‹é–“çš„è€¦åˆæ€§ï¼Œè®“ç‰©ä»¶å®¹æ˜“é‡è¤‡ä½¿ç”¨ã€‚</li>
<li>ç‰©ä»¶ä¹‹é–“ä¸€å°å¤šçš„é—œè¯æ€§è®Šæˆä¸€å°ä¸€ï¼Œæé«˜ç³»çµ±éˆæ´»æ€§ï¼Œä¹Ÿè®“æ•´é«”å®¹æ˜“ç¶­è­·åŠæ“´å……ã€‚</li>
</ol>
</li>
<li>ç¼ºé» (Trade-off)<ol>
<li>åŒäº‹é¡åˆ¥éå¤šæ™‚ï¼Œä¸­ä»‹è€…è²¬ä»»å¾ˆå¤§ï¼Œæœƒä½¿ç³»çµ±æå‡ä¸€å®šç¨‹åº¦çš„è¤‡é›œæ€§ã€‚</li>
</ol>
</li>
</ul>
]]></content>
      <categories>
        <category>Design Pattern</category>
      </categories>
      <tags>
        <tag>design-pattern</tag>
      </tags>
  </entry>
  <entry>
    <title>å¤§ä¸€å¤§äºŒåƒåŠ ç•¢æ¥­å°ˆæ¡ˆèˆ‡ç¨‹å¼æ¯”è³½å¿ƒå¾—åˆ†äº«</title>
    <url>/posts/534426495/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å°å¼Ÿæˆ‘åœ¨å‰›ä¸Šå¤§ä¸€æ²’å¤šä¹…ï¼Œå°±ç§mailç³»ä¸Šçš„ç¨‹å¼è€å¸«ï¼Œè©¢å•æ˜¯å¦å¯ä»¥åƒèˆ‡æ›´å¤šçš„å°ˆæ¡ˆæˆ–ç ”ç©¶ï¼Œä¹Ÿä¸€ä½µæŠŠæˆ‘çš„å±¥æ­·çµ¦æ•™æˆçœ‹ã€‚<br>æ²’æƒ³åˆ°æ•™æˆå¤§æ–¹åœ°çµ¦æˆ‘å¹¾æ¢è·¯é¸ï¼Œå¯ä»¥è·Ÿæ•™æˆåšç ”ç©¶ï¼Œå‡ºå»å¯¦ç¿’ï¼Œæˆ–æ˜¯å’Œå­¸é•·å€‘åšå°ˆæ¡ˆã€‚<br>å¤§ä¸€çš„æˆ‘æƒ³è¦æ…¢æ…¢ç´¯ç©å¯¦åŠ›ï¼Œæ–¼æ˜¯æ±ºå®šå…ˆ<strong>å’Œå­¸é•·å€‘åšå°ˆæ¡ˆ</strong>ï¼Œå»æ¯”è³½ï¼Œç´¯ç©ç¶“é©—ã€‚<br>åœ¨æ­·ç¶“<strong>åœ‹ç§‘æœƒå°ˆæ¡ˆã€è³‡è¨Šç«¶è³½ã€ç•¢æ¥­å°ˆæ¡ˆç«¶è³½ç­‰ç­‰</strong>å¾Œï¼Œæˆ‘éå¸¸æ„Ÿè¬æ•™æˆå’Œå­¸é•·å€‘çµ¦æˆ‘é€™å€‹æ©Ÿæœƒï¼Œè®“æˆ‘å¯ä»¥æ“æœ‰é€™äº›å¯¶è²´çš„ç¶“é©—ï¼<br>é€™ç¯‡æ–‡ç« ä¸»è¦è‘—é‡åœ¨å¿ƒå¾—èˆ‡åˆ†äº«ï¼Œæ¯”è¼ƒæŠ€è¡“é¢çš„å…§å®¹æœƒåœ¨ä¸‹ç¯‡æ–‡ç« è©³ç´°ä»‹ç´¹ã€‚</p>
<span id="more"></span>

<h2 id="æ¯”è³½å¿ƒå¾—èˆ‡å®šä½"><a href="#æ¯”è³½å¿ƒå¾—èˆ‡å®šä½" class="headerlink" title="æ¯”è³½å¿ƒå¾—èˆ‡å®šä½"></a>æ¯”è³½å¿ƒå¾—èˆ‡å®šä½</h2><p>åœ¨é€™å€‹Teamå…§ï¼Œæˆ‘ä¸»è¦è² è²¬ç¨‹å¼é–‹ç™¼ï¼ŒåŒ…æ‹¬<strong>å‰ç«¯ã€ä¼ºæœå™¨æ¶è¨­èˆ‡ç®¡ç†å’Œä¸€éƒ¨åˆ†çš„å¾Œç«¯</strong>ã€‚<br>å‰å‰å¾Œå¾Œæ¯”äº†<strong>åœ‹ç§‘æœƒå¤§å°ˆç”Ÿè¨ˆç•«ã€æ™ºæ…§å‰µæ–°ã€è³‡è¨Šæœå‹™å’Œç³»ä¸Šçš„ç•¢æ¥­å°ˆæ¡ˆç«¶è³½</strong>ï¼Œå¤§ç´„æ­·æ™‚1å¹´å¤šçš„æ™‚é–“ï¼Œåœ¨é€™æ®µæ™‚é–“è£¡ï¼Œæˆ‘å€‘æ­·ç¶“<strong>ç™¼æƒ³ã€é–‹ç™¼ã€ç¶­è­·ã€å¯«æŠ€è¡“æ–‡ä»¶ã€UI&#x2F;UXè¨­è¨ˆåˆ°æ¼”ç®—æ³•ç ”ç©¶ç­‰ç­‰</strong>ï¼Œé€™ä¹Ÿæ˜¯æˆ‘å¤§ä¸€çµæŸç‚ºæ­¢åšéç›¸å°å®Œæ•´çš„å°ˆæ¡ˆã€‚</p>
<hr>
<p>é€™æ˜¯æˆ‘å€‘æ™ºæ…§å‰µæ–°å’Œè³‡è¨Šæœå‹™ç«¶è³½æ™‚çš„ç…§ç‰‡ï¼Œæˆ‘å€‘ç›´æ¥æŠŠæˆå“çµ¦è©•å¯©æ»‘XDï¼Œå› ç‚ºä»¥æˆ‘å€‘çš„ç³»çµ±ä¾†èªªç›¸å°å®Œæ•´ï¼Œä¹Ÿä¸æ€•å™´Bugï¼Œé›–ç„¶éƒ½åªé€²åˆ°æ±ºè³½ï¼Œä½†æˆ‘ä¹Ÿæ›´åŠ çŸ¥é“é€™é¡å‹æ¯”è³½çš„æº–å‚™æ–¹å‘ï¼ˆåŸºæœ¬ä¸Šå°±æ˜¯è¦å°åˆ°ç•¶å‰æµè¡Œçš„ä¸»é¡Œï¼‰ï¼Œ<del>æ‰€ä»¥æ˜å¹´å°±æº–å‚™AIå§</del><br><img src="/images/posts/CC-experience/æ™ºæ…§å‰µæ–°.JPG" 
style="width: 70%; margin: 15px auto;"><br><img src="/images/posts/CC-experience/è³‡æœ.jpg" 
style="width: 70%; margin: 15px auto;"></p>
<hr>
<p>é€™æ˜¯ç³»ä¸Šç•¢æ¥­å°ˆæ¡ˆçš„æ¯”è³½ï¼Œéå¸¸æ¦®å¹¸æ‹¿åˆ°ç¬¬äºŒåï¼ç•¶å¤©é‚„ç›´æ¥è¢«å…¶ä»–è³‡è¨Šå…¬å¸çš„ä¸»ç®¡éåç‰‡ï¼Œå—å¯µè‹¥é©šã€‚<br><img src="/images/posts/CC-experience/ç•¢æ¥­å°ˆæ¡ˆ.JPG" 
style="width: 70%; margin: 15px auto;"><br><img src="/images/posts/CC-experience/ç•¢æ¥­å°ˆæ¡ˆå¾—ç.JPG" 
style="width: 70%; margin: 15px auto;"></p>
<h2 id="çµèª"><a href="#çµèª" class="headerlink" title="çµèª"></a>çµèª</h2><p>ç¸½çš„ä¾†èªªï¼Œé€™æ˜¯æˆ‘<strong>åƒèˆ‡å¤šäººå”ä½œã€å¯¦ä½œä¸€å€‹å®Œæ•´å°ˆæ¡ˆçš„å¯¶è²´ç¶“é©—</strong>ï¼Œé€™ä¹Ÿæˆç‚ºæˆ‘æ—¥å¾Œé–‹ç™¼å…¶ä»–å°ˆæ¡ˆçš„é¤Šåˆ†(Googleå­¸ç”Ÿé–‹ç™¼è€…ç¤¾ç¾¤, è³‡è¨Šç«¶è³½, etc.)ï¼Œé™¤äº†<strong>æŠ€è¡“é¢çš„å¤§å¹…æˆé•·ï¼Œå°ˆæ¡ˆç®¡ç†ã€äººéš›äº’å‹•ã€æ™‚é–“ç®¡ç†</strong>ä¹Ÿéƒ½æ˜¯æˆé•·çš„ä¸€éƒ¨åˆ†ï¼Œä¸»å‹•å»å°‹æ‰¾æ©Ÿæœƒï¼Œå¾—åˆ°çš„æœƒæ¯”ä½ æƒ³åƒçš„å¤šï¼Œé›–ç„¶æœ‰é»è¾›è‹¦å°±æ˜¯äº†ï¼Œä½†æˆ‘è¦ºå¾—å¾ˆå€¼å¾—ï¼æ‰€ä»¥æ™‚é–“ç®¡ç†çœŸçš„è¶…é‡è¦ï¼Œé€™ä¹Ÿè®“æˆ‘åœ¨å·¥ç¨‹å¸«é€™æ¢è·¯ä¸Šè®Šå¾—æ›´ä¸»å‹•ï¼Œç›¸ä¿¡åªè¦åŠªåŠ›ï¼Œè‡ªå·±çµ•å°å€¼å¾—æ›´å¥½çš„ï¼</p>
<p>æ¯”è¼ƒæŠ€è¡“é¢çš„å…§å®¹æœƒåœ¨ä¹‹å¾Œçš„æ–‡ç« æåŠ</p>
]]></content>
      <categories>
        <category>å¿ƒå¾—</category>
        <category>æ¯”è³½</category>
      </categories>
      <tags>
        <tag>å¿ƒå¾—</tag>
        <tag>æ¯”è³½</tag>
      </tags>
  </entry>
  <entry>
    <title>[.NET][Design Pattern] Repository Pattern</title>
    <url>/posts/1822258245/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>é€™ç¯‡æ–‡ç« ä¸»è¦ä»‹ç´¹ä½•ç‚ºRepository Pattern, ä¸¦å¦‚ä½•åœ¨.NET C#ä¸­å¯¦ä½œ<br>ä¸¦çµåˆUnit Of Work Pattern, è®“ç¨‹å¼å°Repositoryè§£è€¦<br>é€™å€‹design patternå¯ä»¥èªªæ˜¯è¸å…¥è»Ÿé«”æ¶æ§‹çš„æ•²é–€ç£š<br>ä¹Ÿç®—æ˜¯éå¸¸å¸¸ç”¨çš„pattern, å¯¦ç”¨æ€§éå¸¸é«˜</p>
<span id="more"></span>

<h2 id="å®šç¾©ï¼šRepository-Pattern-Unit-Of-Work-Pattern"><a href="#å®šç¾©ï¼šRepository-Pattern-Unit-Of-Work-Pattern" class="headerlink" title="å®šç¾©ï¼šRepository Pattern, Unit Of Work Pattern"></a>å®šç¾©ï¼šRepository Pattern, Unit Of Work Pattern</h2><p>IGè²¼æ–‡<br><span class="exturl" data-url="aHR0cHM6Ly93d3cuaW5zdGFncmFtLmNvbS9wL0NnWm5TNjRoMjVtLz91dG1fc291cmNlPWlnX3dlYl9jb3B5X2xpbms=">Repository Pattern Post<i class="fa fa-external-link-alt"></i></span></p>
<p>GitHubé€£çµï¼š<br><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL21hby1jb2RlL1JlcG9zaXRvcnlQYXR0ZXJu">Sample Code<i class="fa fa-external-link-alt"></i></span></p>
<p>Repository Patternä¸»è¦å°±æ˜¯ç”±Repositoryé€™å€‹å…ƒç´ æ‰€çµ„æˆ<br>æˆ‘å€‹äººéƒ½æœƒçµåˆUnit Of Work Patternä¸€èµ·ä½¿ç”¨</p>
<ul>
<li>Repository:<ul>
<li><strong>Act like a collection of object in memory.</strong></li>
</ul>
</li>
<li>Unit of work:<ul>
<li>Maintain a list of objects affected by a business transaction and <strong>coordinate th writting out of changes.</strong></li>
</ul>
</li>
</ul>
<p>ä»¥ä¸Šæ˜¯å°å…©å€‹ä¸»è¦å…ƒç´ çš„å®šç¾©<br>ç°¡å–®ä¾†èªª <ins>Repositoryå°±åƒæ˜¯ä¸€ç¾¤å­˜åœ¨è¨˜æ†¶é«”ä¸­çš„Objects</ins><br>è€Œ <ins>Unit of workå‰‡æ˜¯é‡å°é€™äº›<strong>è¢«æ”¹è®Š</strong>çš„Objects, çµ±ä¸€åœ¨é€™è£¡åšè™•ç†<ins></p>
<h2 id="æ›´ç°¡å–®çš„è§£é‡‹"><a href="#æ›´ç°¡å–®çš„è§£é‡‹" class="headerlink" title="æ›´ç°¡å–®çš„è§£é‡‹"></a>æ›´ç°¡å–®çš„è§£é‡‹</h2><p><strong>UnitOfWorkåœ¨é€™è£¡å°±åƒæ˜¯DB, Repositoryå°±åƒæ˜¯Table.</strong><br><strong>å¦‚æœä»¥EntityFrameworkä¾†çœ‹, å°±æ˜¯Contextå’ŒEntityçš„é—œä¿‚.</strong><br>EFæœ¬èº«ä¹Ÿæœ‰åšRepositoryå’ŒUnitOfWork.</p>
<p><strong>æŠŠæ¯ä¸€æ¬¡çš„operationçœ‹ä½œä¸€å€‹unit of work, ç­‰åˆ°operationçµæŸæ‰Complete.</strong><br>é€™æ¨£ä¸€ä¾†, <strong>ç•¶æˆ‘å€‘çš„Controlleræˆ–Serviceéœ€è¦å¾ˆå¤šRepositoryä¾†æ“ä½œæ™‚, å°±åªéœ€è¦ä¾è³´UnitOfWork, ç°¡åŒ–ç¨‹å¼ç¢¼èˆ‡ä¾è³´.</strong><br><strong>å¦ä¸€å€‹å¥½è™•æ˜¯å¯ä»¥ç®¡ç†Repositoryä¹‹é–“ä¹‹é–“çš„æƒ…æ³, åšåˆ°DBçš„Atomic operation.</strong><br>èˆ‰ä¾‹ä¾†èªª, ç•¶Repository1å„²å­˜æˆåŠŸ, è€ŒRepository2å„²å­˜å¤±æ•—, ä»¥ä¸€å€‹å®Œæ•´çš„Atomic operationä¾†èªª, ä¸€å€‹å¤±æ•—, operationå°±ç®—æ˜¯å¤±æ•—.<br>ä½†åœ¨é€™è£¡, Repositoryä¹‹é–“æ˜¯æ²’æœ‰è¯ç¹«çš„, å› æ­¤è³‡æ–™æœƒè™•æ–¼ä¸€ç¨®dirty state, å°±æ˜¯ä¸€å€‹é€²å», ä½†ä¸€å€‹å¤±æ•—äº†.<br>æ²’è¾¦æ³•å›åˆ°æœ€åˆçš„ç‹€æ³å†debug, UnitOfWorkå°±æ˜¯ä¾†è™•ç†é€™ç¨®å•é¡Œ, ç•¶Completeæ™‚å¤±æ•—, ä¸¦ä¸æœƒçœŸçš„å‹•åˆ°DB, è€Œæ˜¯åªå‹•åˆ°Repository. å¯ä»¥æ•´å€‹<strong>roll backè™•ç†</strong></p>
<blockquote>
<p>è£œå……ï¼šAtomic operationæ˜¯è³‡æ–™åº«<strong>ACID</strong>å››å€‹ç‰¹æ€§ä¸­çš„å…¶ä¸­ä¸€å€‹, è€Œä½¿ç”¨<strong>Transaction(äº¤æ˜“)</strong>, å°±æ˜¯å¯¦ç¾Atomicityçš„æ–¹æ³•ä¹‹ä¸€, ç°¡å–®ä¸€å¥è©±ä¾†èªªå°±æ˜¯ã€Œå…¨æœ‰ï¼Œæˆ–å…¨ç„¡ã€</p>
</blockquote>
<h2 id="å¥½è™•"><a href="#å¥½è™•" class="headerlink" title="å¥½è™•"></a>å¥½è™•</h2><ol>
<li>ä½¿ç”¨Repositoryä¸»è¦æ˜¯å¯ä»¥<strong>å°ORMçš„æ¡†æ¶è§£è€¦</strong>, å°Contextå’ŒEntitiesçš„ä¾è³´åº¦ä¸æœƒå¤ªé«˜.<br>èˆ‰ä¾‹ä¾†èªªæˆ‘ä»Šå¤©ä½¿ç”¨Entity Framework, é–‹ç™¼äº†å¹¾å€‹æœˆ, è€é—†çªç„¶è¦ä½¿ç”¨ADO.NET<br>é€™æ™‚å¦‚æœæ²’æœ‰ä½¿ç”¨Repository, è€Œæ˜¯åœ¨ç¨‹å¼ç¢¼è£¡é¢å¤§é‡ä½¿ç”¨Contextèˆ‡Entity<br>é‚£éº¼è¦ä¿®æ”¹ç¨‹å¼ç¢¼å°±æ˜¯ä¸€ä»¶å¤§å·¥ç¨‹äº†â€¦.</li>
<li>ä½¿ç”¨Unit Of Work Pattern, å¯ä»¥<strong>çµ±ä¸€ç®¡ç†Repositoryçš„è®Šå‹•</strong>, å†<strong>çµ±ä¸€Saveåˆ°Database</strong>,<br>é€™éº¼åšå¯ä»¥ç¢ºä¿æ¯ä¸€æ¬¡çš„Operationç‚ºå…¨æœ‰æˆ–å…¨ç„¡, é¿å…è³‡æ–™åº«è™•æ–¼ä¸€å€‹Dirty State</li>
<li>ä¸‹é¢å¼•ç”¨æˆ‘åœ¨IGä¸Šçš„ç…§ç‰‡, è£¡é¢é‚„æœ‰æåˆ°ä¸€å€‹å¥½è™•æ˜¯æ›´å¥½åšå–®å…ƒæ¸¬è©¦.</li>
</ol>
<blockquote>
<p>ä¸ç®¡æ˜¯No-SQLæˆ–RDBéƒ½å¯ä»¥å¥—ç”¨æ­¤æ¨¡å¼, ä½†MongoDBéœ€è¦å¦å¤–å»ºç«‹Replica-Set</p>
</blockquote>
<p><img src="/images/posts/repository-pattern/benifits.jpg" 
style="width: 70%; margin: 15px auto;"><br>å¯ä»¥çœ‹åˆ°, repositoryæ˜¯å­˜æ”¾åœ¨unit of workå…§, æˆ‘å€‘çš„ç¨‹å¼æ˜¯å»ä¾è³´unit of work,<br>unit of workå†é€érepositoryå»æ“ä½œORM, ORMå†å»æ“ä½œæˆ‘å€‘çš„è³‡æ–™åº«.</p>
<h2 id="å¯¦ä½œ"><a href="#å¯¦ä½œ" class="headerlink" title="å¯¦ä½œ"></a>å¯¦ä½œ</h2><p>å…ˆé™„ä¸ŠUML<br><img src="/images/posts/repository-pattern/uml.jpg" 
style="width: 70%; margin: 15px auto;"><br>ç¨å¾®è§£é‡‹ä¸€ä¸‹, é€™è£¡æœƒæœ‰ä¸€å€‹Generic Repository, è² è²¬è™•ç†åŸºæœ¬çš„Get, Find, Romoveç­‰.<br>è€Œå…¶ä»–Concrete Repositoryå†å»ç¹¼æ‰¿å’Œå¯¦ä½œ, å…§éƒ¨å°±é‡å°è‡ªå·±çš„Repositoryåšç‰¹æ®Šçš„Queryæˆ–Command.</p>
<p>æ¥ä¸‹ä¾†æœƒä½¿ç”¨.NETå»å¯¦ä½œè£¡é¢çš„å„å€‹ç´°ç¯€<br>å…ˆé™„ä¸Šå°ˆæ¡ˆçµæ§‹å’ŒERD<br><img src="/images/posts/repository-pattern/structure.jpg" 
style="width: 70%; margin: 15px auto;"><br>é€™è£¡ä¸»è¦æ˜¯ä»¥æ›¸æœ¬å’Œä½œè€…ç‚ºç¯„ä¾‹</p>
<p>Modelsè£¡é¢æ˜¯ç”¨EntityFramework migrationéä¾†çš„Contextå’ŒEntities model<br>æˆ‘å€‘ä¸»è¦å¯¦ä½œRepositoryå’ŒUnitOfWorkçš„éƒ¨åˆ†</p>
<h3 id="IRepository-Repository"><a href="#IRepository-Repository" class="headerlink" title="IRepository, Repository"></a>IRepository, Repository</h3><p><strong>é€™è£¡æ˜¯genericçš„repository</strong></p>
<figure class="highlight c#"><figcaption><span>IRepository</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Linq.Expressions;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">RepositoryPatternPractice.Repositories</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">//Interface here act like a protocol or a license</span></span><br><span class="line">	<span class="comment">//Generic Interface -&gt; Interface&lt;T&gt;</span></span><br><span class="line">	<span class="comment">//where keyword can set some restriction on the generic</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IRepository</span>&lt;<span class="title">TEntity</span>&gt; <span class="keyword">where</span> <span class="title">TEntity</span>: <span class="keyword">class</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">//Three main group of functions</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">//Finding objects</span></span><br><span class="line">		<span class="function">TEntity <span class="title">Get</span>(<span class="params"><span class="built_in">int</span> id</span>)</span>;</span><br><span class="line">		<span class="function">IEnumerable&lt;TEntity&gt; <span class="title">GetAll</span>()</span>;</span><br><span class="line">		<span class="function">IEnumerable&lt;TEntity&gt; <span class="title">Find</span>(<span class="params">Expression&lt;Func&lt;TEntity, <span class="built_in">bool</span>&gt;&gt; predicate</span>)</span>;</span><br><span class="line"></span><br><span class="line">		<span class="comment">/*</span></span><br><span class="line"><span class="comment">			Func&lt;input, output&gt; -&gt; å§”æ´¾ç‰©ä»¶(å°‡å‡½æ•¸ç•¶ä½œç‰©ä»¶çš„å®¹å™¨)</span></span><br><span class="line"><span class="comment">				eg. Func&lt;int, int&gt; fn = n=&gt;n*n;</span></span><br><span class="line"><span class="comment">			Expression (eg. LINQ)</span></span><br><span class="line"><span class="comment">				turn an lambda to an expression tree</span></span><br><span class="line"><span class="comment">				and the LINQ can input a lambda expression (put in a generic delegate)</span></span><br><span class="line"><span class="comment">		 */</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">//Adding object</span></span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">Add</span>(<span class="params">TEntity entity</span>)</span>;</span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">AddRange</span>(<span class="params">IEnumerable&lt;TEntity&gt; entities</span>)</span>;</span><br><span class="line"></span><br><span class="line">		<span class="comment">//Removing object</span></span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">Remove</span>(<span class="params">TEntity entity</span>)</span>;</span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">RemoveRange</span>(<span class="params">IEnumerable&lt;TEntity&gt; entities</span>)</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>!! è¦æ³¨æ„çš„æ˜¯, <strong>Repositoryä¸æ‡‰è©²æœ‰ç›´æ¥Updateæˆ–æ˜¯Save Databaseçš„æ–¹æ³•</strong>, ä¸»è¦æ˜¯èªç¾©å•é¡Œ. !!<br>Repository act like a collection of objects in memory.<br>é€™äº›æ”¹è®ŠDatabaseçš„å‹•ä½œ, æ‡‰è©²äº¤ç”±UnitOfWork, æŠŠé€™äº›objects saveåˆ°database.<br>æ‰€ä»¥æ‡‰è©²æ˜¯UnitOfWorké€éRepositoryæ’ˆå‡ºä¾†, ç„¶å¾Œä¿®æ”¹, å†é€éUnitOfWork Save.<br>å¯ä»¥ä½¿ç”¨Transactionæ©Ÿåˆ¶, å°‡Save Changesçš„å‹•ä½œçµ±ä¸€åŸ·è¡Œ, é€™æ¨£ä¸€ä¾†æ‰å¯ä»¥ç¢ºä¿Atomic Operation</p>
</blockquote>
<hr>
<figure class="highlight c#"><figcaption><span>Repository</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Linq.Expressions;</span><br><span class="line"><span class="keyword">using</span> Microsoft.EntityFrameworkCore;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">RepositoryPatternPractice.Repositories</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Repository</span>&lt;<span class="title">TEntity</span>&gt; : <span class="title">IRepository</span>&lt;<span class="title">TEntity</span>&gt; <span class="keyword">where</span> <span class="title">TEntity</span>: <span class="keyword">class</span></span><br><span class="line">	&#123;</span><br><span class="line">        <span class="comment">//the context here is generic, so it has nothing to do with my application</span></span><br><span class="line">        <span class="comment">//so you can DI some specific contexts</span></span><br><span class="line">        <span class="comment">//protected because the specific repository can use it</span></span><br><span class="line">        <span class="keyword">protected</span> <span class="keyword">readonly</span> DbContext Context;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="title">Repository</span>(<span class="params">DbContext context</span>)</span></span><br><span class="line">		&#123;</span><br><span class="line">            Context = context;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> TEntity <span class="title">Get</span>(<span class="params"><span class="built_in">int</span> id</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> Context.Set&lt;TEntity&gt;().Find(id);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//don&#x27;t return IQueryable!!</span></span><br><span class="line">        <span class="comment">//Repository should encapsulate the query</span></span><br><span class="line">        <span class="comment">//so on the Service or Controller won&#x27;t get too much pressure</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">IEnumerable</span>&lt;<span class="title">TEntity</span>&gt; <span class="title">GetAll</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> Context.Set&lt;TEntity&gt;().ToList();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">IEnumerable</span>&lt;<span class="title">TEntity</span>&gt; <span class="title">Find</span>(<span class="params">Expression&lt;Func&lt;TEntity, <span class="built_in">bool</span>&gt;&gt; predicate</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> Context.Set&lt;TEntity&gt;().Where(predicate);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Add</span>(<span class="params">TEntity entity</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Context.Set&lt;TEntity&gt;().Add(entity);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">AddRange</span>(<span class="params">IEnumerable&lt;TEntity&gt; entities</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Context.Set&lt;TEntity&gt;().AddRange(entities);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Remove</span>(<span class="params">TEntity entity</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Context.Set&lt;TEntity&gt;().Remove(entity);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">RemoveRange</span>(<span class="params">IEnumerable&lt;TEntity&gt; entities</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Context.Set&lt;TEntity&gt;().RemoveRange(entities);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="IBookRepository-BookRepository"><a href="#IBookRepository-BookRepository" class="headerlink" title="IBookRepository, BookRepository"></a>IBookRepository, BookRepository</h3><p><strong>é€™è£¡é–‹å§‹æ˜¯concreteçš„repository</strong></p>
<figure class="highlight c#"><figcaption><span>IBookRepository</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> RepositoryPatternPractice.Models;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">RepositoryPatternPractice.Repositories</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">//derive from my generic Repository interface</span></span><br><span class="line">	<span class="comment">//C# allow this interface chain</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IBookRepository</span> : <span class="title">IRepository</span>&lt;<span class="title">Book</span>&gt;</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="function">IEnumerable&lt;Book&gt; <span class="title">GetTopSellingBooks</span>(<span class="params"><span class="built_in">int</span> count</span>)</span>;</span><br><span class="line">		<span class="function">IEnumerable&lt;Book&gt; <span class="title">GetBooksByAuthor</span>(<span class="params">Author author</span>)</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c#"><figcaption><span>BookRepository</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> RepositoryPatternPractice.Models;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">RepositoryPatternPractice.Repositories</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">//inheritance, implementation</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">class</span> <span class="title">BookRepository</span> : <span class="title">Repository</span>&lt;<span class="title">Book</span>&gt;, <span class="title">IBookRepository</span></span><br><span class="line">	&#123;</span><br><span class="line">        <span class="comment">//Property</span></span><br><span class="line">        <span class="keyword">public</span> MypostgresContext MypostgresContext</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span> &#123; <span class="keyword">return</span> Context <span class="keyword">as</span> MypostgresContext; &#125;   </span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="title">BookRepository</span>(<span class="params">MypostgresContext context</span>) : <span class="title">base</span>(<span class="params">context</span>)</span></span><br><span class="line">		&#123;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">        IEnumerable&lt;Book&gt; IBookRepository.GetBooksByAuthor(Author author)</span><br><span class="line">        &#123;</span><br><span class="line">           <span class="keyword">return</span> MypostgresContext.Books.Where(x=&gt;x.AuthorId==author.AuthorId).ToList();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        IEnumerable&lt;Book&gt; IBookRepository.GetTopSellingBooks(<span class="built_in">int</span> count)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> MypostgresContext.Books.OrderByDescending(b =&gt; b.Price).Take(count).ToList();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="IAuthorRepository-AuthorRepository"><a href="#IAuthorRepository-AuthorRepository" class="headerlink" title="IAuthorRepository, AuthorRepository"></a>IAuthorRepository, AuthorRepository</h3><figure class="highlight c#"><figcaption><span>IAuthorRepository</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> RepositoryPatternPractice.Models;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">RepositoryPatternPractice.Repositories</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IAuthorRepository</span> : <span class="title">IRepository</span>&lt;<span class="title">Author</span>&gt;</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="function">Author <span class="title">GetAuthorByName</span>(<span class="params"><span class="built_in">string</span> name</span>)</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c#"><figcaption><span>AuthorRepository</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> RepositoryPatternPractice.Models;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">RepositoryPatternPractice.Repositories</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">class</span> <span class="title">AuthorRepository</span> : <span class="title">Repository</span>&lt;<span class="title">Author</span>&gt;, <span class="title">IAuthorRepository</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">public</span> MypostgresContext MypostgresContext</span><br><span class="line">        &#123;</span><br><span class="line">			<span class="keyword">get</span> &#123; <span class="keyword">return</span> Context <span class="keyword">as</span> MypostgresContext; &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="title">AuthorRepository</span>(<span class="params">MypostgresContext context</span>) : <span class="title">base</span>(<span class="params">context</span>)</span> </span><br><span class="line">		&#123;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">public</span> Author <span class="title">GetAuthorByName</span>(<span class="params"><span class="built_in">string</span> name</span>)</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">return</span> MypostgresContext.Authors.Where(x=&gt;x.AuthorName.Equals(name)).ToList().FirstOrDefault();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="IUnitOfWork-UnitOfWork"><a href="#IUnitOfWork-UnitOfWork" class="headerlink" title="IUnitOfWork, UnitOfWork"></a>IUnitOfWork, UnitOfWork</h3><p><strong>é€™è£¡é–‹å§‹æ˜¯unit of workçš„å¯¦ä½œ</strong></p>
<figure class="highlight c#"><figcaption><span>IUnitOfWork</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> RepositoryPatternPractice.Repositories;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">RepositoryPatternPractice</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">//Unit of work</span></span><br><span class="line">	<span class="comment">//interfce chain with IDisposable, so the class implement this interface </span></span><br><span class="line">    <span class="comment">//need to implement the Dispose() method</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IUnitOfWork</span> : <span class="title">IDisposable</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">//Repository act the collection of objects in memory</span></span><br><span class="line">		IBookRepository Books &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line">		IAuthorRepository Authors &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line">		<span class="function"><span class="built_in">int</span> <span class="title">Complete</span>()</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c#"><figcaption><span>UnitOfWork</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> RepositoryPatternPractice.Models;</span><br><span class="line"><span class="keyword">using</span> RepositoryPatternPractice.Repositories;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">RepositoryPatternPractice</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">class</span> <span class="title">UnitOfWork</span> : <span class="title">IUnitOfWork</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">private</span> <span class="keyword">readonly</span> MypostgresContext _context;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">public</span> IBookRepository Books &#123; <span class="keyword">get</span>; <span class="keyword">private</span> <span class="keyword">set</span>; &#125;</span><br><span class="line">		<span class="keyword">public</span> IAuthorRepository Authors &#123; <span class="keyword">get</span>; <span class="keyword">private</span> <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">		<span class="comment">//we will use this context across all repositories</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="title">UnitOfWork</span>(<span class="params">MypostgresContext context</span>)</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">this</span>._context = context;</span><br><span class="line">			<span class="comment">//use the same context to initialize our repository</span></span><br><span class="line">			Books = <span class="keyword">new</span> BookRepository(_context);</span><br><span class="line">			Authors = <span class="keyword">new</span> AuthorRepository(_context);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="built_in">int</span> <span class="title">Complete</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">this</span>._context.SaveChanges();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Dispose</span>()</span></span><br><span class="line">		&#123;</span><br><span class="line">			_context.Dispose(); <span class="comment">//dispose the context</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é€™è£¡å¯ä»¥ç™¼ç¾, UnitOfWorkå°‡Repositoryä½œç‚ºè‡ªå·±çš„å±¬æ€§, é€™æ¨£ä¸€ä¾†ä½¿ç”¨è€…å°±å¯ä»¥é€éï¼µnitOfWorké»å‡ºRepositoryå†åšæ“ä½œ.<br>è€ŒComplete()æ–¹æ³•, å°±æ˜¯æ‹¿ä¾†Saveç”¨çš„, å„²å­˜æ‰€æœ‰ç•°å‹•<br>æœ€å¾Œå¯¦ä½œDisposeæ˜¯å› ç‚ºå¯ä»¥é€éusing blocké‡‹æ”¾context<br>åœ¨æ¯ä¸€æ¬¡çš„operation, Repositoryæ‡‰è©²ä½¿ç”¨åŒä¸€å€‹context (re-use)<br>ä½†å¦‚æœä½ æœ‰ä½¿ç”¨DIæ¡†æ¶çš„è©±, å¯ä»¥ç›´æ¥å°‡Unit of work DIé€²å», å°±ä¸ç”¨ä½¿ç”¨using blockä¾†å»é‡‹æ”¾context. (ä¸»è¦æ˜¯ç®¡ç†Transactionçš„sessionè¦é‡‹æ”¾)</p>
<h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><p><strong>é€™è£¡æ˜¯ä½¿ç”¨ç¯„ä¾‹</strong></p>
<figure class="highlight c#"><figcaption><span>ä½¿ç”¨ç¯„ä¾‹</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> RepositoryPatternPractice.Models;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">RepositoryPatternPractice</span></span><br><span class="line">&#123;</span><br><span class="line">   <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">   &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//example of using these interfaces and classes</span></span><br><span class="line">            <span class="comment">//using block like try/finally and call Dispose()</span></span><br><span class="line">            <span class="keyword">using</span> ( <span class="keyword">var</span> unitOfWork = <span class="keyword">new</span> UnitOfWork(<span class="keyword">new</span> MypostgresContext()) )</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//Example 1</span></span><br><span class="line">                <span class="keyword">var</span> books = unitOfWork.Books.GetAll();</span><br><span class="line">                Console.WriteLine(<span class="string">&quot;Initial State: &quot;</span>);</span><br><span class="line">                <span class="keyword">foreach</span> (Book b <span class="keyword">in</span> books)</span><br><span class="line">                &#123;</span><br><span class="line">                    Console.WriteLine(<span class="string">$&quot;book: <span class="subst">&#123;b.BookName&#125;</span>, author: <span class="subst">&#123;unitOfWork.Authors.Get(b.AuthorId).AuthorName&#125;</span>&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                Console.WriteLine();</span><br><span class="line"></span><br><span class="line">                <span class="comment">//Example 2</span></span><br><span class="line">                unitOfWork.Books.AddRange(<span class="keyword">new</span> List&lt;Book&gt;() &#123;</span><br><span class="line">                    <span class="keyword">new</span> Book() &#123; BookName=<span class="string">&quot;AIGuide&quot;</span>, Price=<span class="number">300</span>, Author=unitOfWork.Authors.GetAuthorByName(<span class="string">&quot;Xuan&quot;</span>)&#125;,</span><br><span class="line">                    <span class="keyword">new</span> Book() &#123; BookName=<span class="string">&quot;PSGuide&quot;</span>, Price=<span class="number">230</span>, Author=unitOfWork.Authors.GetAuthorByName(<span class="string">&quot;Xuan&quot;</span>)&#125;</span><br><span class="line">                &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                <span class="comment">//Example3</span></span><br><span class="line">                unitOfWork.Books.Get(<span class="number">2</span>).BookName = <span class="string">&quot;C#dotNETGuide&quot;</span>;</span><br><span class="line"></span><br><span class="line">                unitOfWork.Complete();</span><br><span class="line"></span><br><span class="line">                Console.WriteLine(<span class="string">&quot;After changes: &quot;</span>);</span><br><span class="line">                books = unitOfWork.Books.GetAll();</span><br><span class="line">                <span class="keyword">foreach</span> (Book b <span class="keyword">in</span> books)</span><br><span class="line">                &#123;</span><br><span class="line">                    Console.WriteLine(<span class="string">$&quot;book: <span class="subst">&#123;b.BookName&#125;</span>, author: <span class="subst">&#123;unitOfWork.Authors.Get(b.AuthorId).AuthorName&#125;</span>&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                Console.WriteLine();</span><br><span class="line">            &#125;</span><br><span class="line">            Console.ReadKey();</span><br><span class="line">        &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="çµèª"><a href="#çµèª" class="headerlink" title="çµèª"></a>çµèª</h2><p>å¦‚æœæƒ³è¦åšåˆ°éåŒæ­¥, åªè¦æŠŠRepositoryå…§éƒ¨çš„å¯¦ä½œæ”¹æˆéåŒæ­¥å°±å¥½, å…¶é¤˜éƒ½ä¸€æ¨£.<br>å…¶å¯¦Repository pattern, Unit of Work patternå¾ˆå¸¸æœƒä¸€èµ·ä½¿ç”¨, ç”šè‡³æ­é…DI, ä½†é€™è£¡ç‚ºæ±‚ç°¡å–®å°±æ²’æœ‰ä½¿ç”¨DIäº†<br>å¸Œæœ›å¤§å®¶çœ‹å®Œé€™ç¯‡æ–‡ç« å°æ–¼Repository Patternå’ŒUnitOfWork Patternæ›´åŠ ç†è§£</p>
]]></content>
      <categories>
        <category>Design Pattern</category>
      </categories>
      <tags>
        <tag>design-pattern</tag>
      </tags>
  </entry>
  <entry>
    <title>CC-æ²ˆæµ¸å¼ç·šä¸Šé€›è¡—APP-ç³»çµ±èˆ‡æŠ€è¡“ä»‹ç´¹</title>
    <url>/posts/2012237495/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æ¥çºŒä¸Šä¸€ç¯‡çš„æ–‡ç« ï¼Œé€™ç¯‡æ–‡ç« æœƒè‘—é‡ä»‹ç´¹é€™å€‹ç³»çµ±<br>ä»¥ä¸‹æ˜¯æˆ‘åœ¨YouTubeä¸Šå°é€™å€‹å°ˆæ¡ˆçš„ä»‹ç´¹èˆ‡Demoï¼š</p>
<iframe
    src="https://www.youtube.com/embed/aMGnyI2Xe04">
</iframe>

<p>é€™ç¯‡æ–‡ç« çš„å…§å®¹æœƒèˆ‡å½±ç‰‡å¾ˆåƒï¼Œä¸»è¦åˆ†ç‚º<strong>å‹•æ©Ÿèˆ‡ä»‹ç´¹ã€é‡é»åŠŸèƒ½ç°¡ä»‹ã€ç³»çµ±æ¶æ§‹èˆ‡æŠ€è¡“</strong>çš„é †åºä»‹ç´¹<br>ç³»çµ±åŠŸèƒ½Demo, é‚„è«‹è§€çœ‹å½±ç‰‡ä»‹ç´¹</p>
<span id="more"></span>
<p><img src="/images/posts/CC-project-demo/1.png" 
style="width: 90%; margin: 15px auto;"></p>
<h2 id="å‹•æ©Ÿèˆ‡ä»‹ç´¹"><a href="#å‹•æ©Ÿèˆ‡ä»‹ç´¹" class="headerlink" title="å‹•æ©Ÿèˆ‡ä»‹ç´¹"></a>å‹•æ©Ÿèˆ‡ä»‹ç´¹</h2><p><img src="/images/posts/CC-project-demo/2.png" 
style="width: 70%; margin: 15px auto;"><br>é¦–å…ˆæˆ‘å€‘ä¸»è¦çš„TAä¹‹ä¸€æ˜¯ç·šä¸Šé€›è¡—æ—, é‡å°é€™å€‹æ—ç¾¤æˆ‘å€‘çµ±æ•´å‡ºç°¡å–®çš„å…©é»ï¼šç¬¬ä¸€, ä»–å€‘åœ¨ç·šä¸Šç€è¦½æˆ–æ»‘å•†å“æ™‚, é€šå¸¸æ²’æœ‰ç‰¹å®šçš„æ¶ˆè²»ç›®çš„, åªæ˜¯æƒ³è¦æ»‘æ»‘çœ‹çœ‹, ç„¡ç›®çš„çš„ç€è¦½è¡Œç‚º, ç¬¬äºŒ, é€™ç¨®è¡Œç‚ºä¸»è¦æ˜¯ä»¥æ¶ˆé£ã€ç²å¾—æ¨‚è¶£ç‚ºç›®çš„, è€Œä¸ä¸€å®šæ˜¯çœŸçš„æƒ³è¦è²·å•†å“</p>
<hr>
<p><img src="/images/posts/CC-project-demo/3.png" 
style="width: 70%; margin: 15px auto;"><br>æ ¹æ“šä¸Šé¢çš„æ—ç¾¤è¨­å®š, æˆ‘å€‘çš„å°ˆæ¡ˆä¸»è¦æœƒfocusåœ¨è§£æ±ºæˆ–æ»¿è¶³ä¸‹é¢çš„å•é¡Œ, ç¬¬ä¸€, æˆ‘å€‘æ˜¯é‡å°ç„¡ç›®çš„æ€§çš„æ¶ˆè²»æƒ…å¢ƒåº•ä¸‹çš„éœ€æ±‚, ç¬¬äºŒ, æˆ‘å€‘å¸Œæœ›å¸¶çµ¦ä½¿ç”¨è€…æ²ˆæµ¸å¼çš„é«”é©—, æ‰€è¬‚çš„æ²ˆæµ¸å¼é«”é©—, å°±æ˜¯åœ¨èˆ’æœä¸”ä¸å—å¹²æ“¾çš„ç‹€æ…‹ä¸‹, æ¥æ”¶è‡ªå·±æœ‰èˆˆè¶£çš„è³‡è¨Š, ä»¥æ­¤è®“ä½¿ç”¨è€…èƒ½åœ¨æˆ‘å€‘é€™å€‹APPä¸Šåšæ¶ˆé£ã€æ®ºæ™‚é–“çš„å‹•ä½œ, é€™éº¼åšçš„ç›®çš„å¾ˆå¤§ä¸€éƒ¨åˆ†æ˜¯ç‚ºäº†æ•æ‰ä½¿ç”¨è€…çš„å¾®æ™‚åˆ», é€™äº›å¾®æ™‚åˆ»çš„æ•¸æ“šå¯ä»¥ä»£è¡¨ä½¿ç”¨è€…ä¸åŒæ™‚åˆ»çš„å–œå¥½æˆ–è€…æ±ºç­–, ç¬¬å››ï¼Œæˆ‘å€‘é€™å€‹APPä¹Ÿæœƒç„æº–ç›´æ’­çš„å¸‚å ´èˆ‡ç›´æ’­å¹³å°åˆä½œï¼Œè€Œé€™äº›ç›´æ’­ä¸»çš„ç…©æƒ±ï¼Œä¾¿æ˜¯ä¸‹æ’­å¾Œç„¡æ³•æŒçºŒå‰µé€ æ”¶å…¥ï¼Œå› æ­¤æˆ‘å€‘é™¤äº†å¸Œæœ›èƒ½å»¶é•·å•†å“çš„ç”Ÿå‘½é€±æœŸå¤–ï¼Œä¹Ÿå¯ä»¥é€éæ•æ‰ä½¿ç”¨è€…è¡Œç‚ºä¾†æä¾›ç›´æ’­ä¸»ç¼ºä¹çš„Consumer Insight</p>
<hr>
<p><img src="/images/posts/CC-project-demo/4.png" 
style="width: 70%; margin: 15px auto;"><br>ç‚ºäº†é”æˆä»¥ä¸Šçš„ç›®çš„ï¼Œæˆ‘å€‘ä¸»è¦æœ‰é€™å¹¾é …æ‰‹æ®µï¼Œç¬¬ä¸€, ç ”ç©¶æ¨è–¦æ¼”ç®—æ³•èˆ‡æ•æ‰ä½¿ç”¨è€…è¡Œç‚ºï¼Œé€éä½¿ç”¨è€…ä¸åŒæ™‚åˆ»çš„è¡Œç‚ºæ•¸æ“šä¾†ä½œç‚ºæ¨è–¦çš„ä¾æ“šï¼Œè€Œéå‚³çµ±çš„é›»å•†ä½¿ç”¨æ­·å²ç´€éŒ„ä¾†åšæ¨è–¦ï¼Œä»¥æ¬¡è®“ä½¿ç”¨è€…èƒ½å¤ åœ¨æ¯æ™‚æ¯åˆ»æ¥æ”¶æœ‰èˆˆè¶£çš„è³‡è¨Šï¼Œé”åˆ°æ²ˆæµ¸å¼çš„é«”é©—ã€‚ç¬¬äºŒï¼Œé€éç°¡æ½”çš„ä»‹é¢ï¼Œé™ä½ä½¿ç”¨è€…ç€è¦½æ™‚çš„å£“åŠ›ï¼Œè®“ä½¿ç”¨è€…æ›´é¡˜æ„åœç•™åœ¨APPä¸Šï¼Œç¬¬ä¸‰ï¼Œé€éåˆ†äº«è²¼æ–‡ã€è¿½è¹¤ã€è©•è«–ç­‰ç­‰çš„ç¤¾ç¾¤æ©Ÿåˆ¶ï¼Œè®“ä½¿ç”¨è€…èƒ½å¤ äº†è§£è¦ªæœ‹å¥½å‹å€‘æœ‰èˆˆè¶£æˆ–è€…å¥½è©•çš„å•†å“ï¼Œä¹Ÿèƒ½å¤ äº«å—ç¤¾ç¾¤çš„æ¨‚è¶£ï¼Œå¢åŠ APPçš„é»è‘—åº¦ï¼Œæœ€å¾Œï¼Œé€éAPPä¸Šç¨®ç¨®æ•æ‰ä½¿ç”¨è€…è¡Œç‚ºæ•¸æ“šçš„æ©Ÿåˆ¶ï¼Œå¯ä»¥å°‡é€™äº›æ•¸æ“šæä¾›çµ¦èˆ‡æˆ‘å€‘åˆä½œçš„ç¬¬ä¸‰æ–¹å» å•†ï¼Œè®“å» å•†æ›´äº†è§£ä½¿ç”¨è€…çš„å–œå¥½</p>
<h2 id="é‡é»åŠŸèƒ½ç°¡ä»‹"><a href="#é‡é»åŠŸèƒ½ç°¡ä»‹" class="headerlink" title="é‡é»åŠŸèƒ½ç°¡ä»‹"></a>é‡é»åŠŸèƒ½ç°¡ä»‹</h2><p><img src="/images/posts/CC-project-demo/5.png" 
style="width: 70%; margin: 15px auto;"><br>å†ä¾†ä»‹ç´¹ä¸€äº›é‡é»åŠŸèƒ½çš„ç°¡çŸ­æ•˜è¿°ï¼Œé¦–å…ˆç¬¬ä¸€å€‹æ˜¯æˆ‘å€‘çš„å•†å“è²¼æ–‡ï¼Œä¹Ÿæ˜¯å•†å“çš„ä¸»é«”ï¼Œè²¼æ–‡ç‰¹è‰²ä¸»è¦ä»¥æ»¿æ¿è¨­è¨ˆèˆ‡è³‡è¨Šæ”¶åˆä¾†é”åˆ°é›œè¨Šæœ€å°åŒ–çš„ç›®çš„ï¼Œå¦å¤–å¾Œé¢Demoä¹Ÿæœƒå‘ˆç¾æ¨è–¦å•†å“çš„å½¢å¼ï¼Œèˆ‡ç¾åœ¨çŸ­å½±éŸ³çš„æ–¹å¼å¾ˆåƒï¼Œé€éæ¨è–¦èˆ‡çµ¦äººè€³ç›®ä¸€æ–°çš„å•†å“ï¼Œå¸¶çµ¦ä½¿ç”¨è€…æ®ºæ™‚é–“çš„æ¨‚è¶£ï¼Œå¦å¤–ï¼Œé€éå•†å“è²¼æ–‡ï¼Œä¹Ÿå¯ä»¥æˆç‚ºç›´æ’­ä¸»ä¸‹æ’­å¾ŒéŠ·å”®çš„åˆ©å™¨ï¼Œèˆ‡ä¸€èˆ¬é›»å•†ä¸åŒçš„æ˜¯ï¼Œæˆ‘å€‘ä¸»å‹•æ¨è–¦å•†å®¶å•†å“ï¼Œè€Œä¸”æ˜¯é€éä½¿ç”¨è€…ç•¶å‰çš„è¡Œç‚ºå–œå¥½ï¼Œè€Œä¸æ˜¯è¢«å‹•ç­‰å¾…ä½¿ç”¨è€…æœå°‹æˆ–æ˜¯é€éè³¼è²·ç´€éŒ„ä¾†åšæ¨è–¦</p>
<hr>
<p><img src="/images/posts/CC-project-demo/6.png" 
style="width: 70%; margin: 15px auto;"><br>å†ä¾†æ˜¯æˆ‘å€‘çš„ä¸»é é¢ï¼Œé€éæ»‘å¡çš„æ©Ÿåˆ¶å¢åŠ äº’å‹•æ„Ÿï¼Œä¹Ÿå¯ä»¥åŒæ™‚æ•æ‰ä½¿ç”¨è€…è¡Œç‚ºï¼Œä»¥åšåˆ°å³æ™‚æ¨è–¦ï¼Œé€™éº¼åšé™¤äº†å¯ä»¥å¢åŠ æ²ˆæµ¸é«”é©—ï¼Œä¹Ÿå¯ä»¥æ›´å»£æ³›çš„æ¨è–¦å•†å“ï¼Œæé«˜æ›å…‰ç¨‹åº¦</p>
<hr>
<p><img src="/images/posts/CC-project-demo/7.png" 
style="width: 70%; margin: 15px auto;"><br>ä¸»é é¢èˆ‡æ¢ç´¢é é¢éƒ½å¯ä»¥é€éä½¿ç”¨è€…çš„æ»‘å¡è¡Œç‚ºã€åœç•™æ™‚é–“èˆ‡é»æ“Šç‡ï¼Œä¾†å½¼æ­¤å„ªåŒ–æ¨è–¦å…§å®¹ï¼Œåšåˆ°é›™å‘æ¨è–¦çš„åŠŸèƒ½</p>
<hr>
<p><img src="/images/posts/CC-project-demo/8.png" 
style="width: 70%; margin: 15px auto;"><br>æ¢ç´¢é é¢é™¤äº†æœƒæ¨è–¦ä½¿ç”¨è€…æ„Ÿèˆˆè¶£çš„å•†å“ï¼Œä¹Ÿæœƒéš¨æ©Ÿæ¨è–¦ç›¸é—œå•†å“ï¼Œå¢åŠ æ–°å¥‡åº¦ï¼Œå…¶ä¸­æœ€å¤§å¡Šçš„è²¼æ–‡å‰‡ç‚ºæ¨è–¦åˆ†æ•¸æœ€é«˜çš„å•†å“ï¼Œé€éçŸ©é™£å¼æ¨¹ç‹€çµæ§‹ï¼Œå¸¶çµ¦ä½¿ç”¨è€…ç°¡æ½”èˆ‡å¤§é‡ç€è¦½çš„æ„Ÿå—</p>
<hr>
<p><img src="/images/posts/CC-project-demo/9.png" 
style="width: 70%; margin: 15px auto;"><br>CCæä¾›å•†åŸã€è²·å®¶ã€ç›´æ’­ä¸»è¿½è¹¤çš„æ©Ÿåˆ¶ï¼ŒåŠ ä¸Šå€‹äººåŒ–è‡ªå·±çš„å‹•æ…‹ç‰†èˆ‡ç•™è¨€å€ï¼Œå¢åŠ ç¤¾ç¾¤äº’å‹•æ€§ï¼Œä»¥ç¤¾ç¾¤çš„åŠ›é‡å¢åŠ APPçš„é»è‘—åº¦</p>
<hr>
<p><img src="/images/posts/CC-project-demo/10.png" 
style="width: 70%; margin: 15px auto;"><br>åˆ†äº«è²¼æ–‡é™¤äº†å¯ä»¥å¢åŠ äº’å‹•çš„æ¨‚è¶£ï¼Œä¹Ÿæ˜¯æä¾›æ¶ˆè²»è€…æ´è¦‹çš„å¤§å¹³å°<br>æœ€é‡è¦çš„æ˜¯ï¼Œå¯ä»¥è—‰ç”±ç¤¾ç¾¤çš„åŠ›é‡ï¼Œä¸€å‚³ååå‚³ç™¾ï¼Œä¾†è¡ŒéŠ·å•†å“</p>
<h2 id="ç³»çµ±æ¶æ§‹èˆ‡æŠ€è¡“"><a href="#ç³»çµ±æ¶æ§‹èˆ‡æŠ€è¡“" class="headerlink" title="ç³»çµ±æ¶æ§‹èˆ‡æŠ€è¡“"></a>ç³»çµ±æ¶æ§‹èˆ‡æŠ€è¡“</h2><p>å…ˆé™„ä¸Šç³»çµ±æ¶æ§‹åœ–ï¼š<br><img src="/images/posts/CC-project-demo/CC_structure.jpeg" 
style="width: 70%; margin: 15px auto;"></p>
<p>é¦–å…ˆå‰ç«¯ä¸»è¦ç”±Angularå¯«æˆï¼Œæ­é…<strong>æ¨¡çµ„åŒ–èˆ‡ç‰©ä»¶å°å‘è¨­è¨ˆï¼Œå¢åŠ ç¨‹å¼çš„å¯ç¶­è­·æ€§</strong>ï¼Œæœ€å¾Œé€éPWAåŒ…è£æˆè·¨å¹³å°çš„APP<br>è—‰ç”±Angularèƒ½å¤ æ¨¡çµ„åŒ–èˆ‡å…ƒä»¶åŒ–çš„ç‰¹æ€§ï¼Œæˆ‘å€‘å°‡å„å€‹åŠŸèƒ½åˆ‡åˆ†æˆä¸åŒæ¨¡çµ„ï¼Œæå‡ç¨‹å¼ä½è€¦åˆé«˜å…§èšçš„ç‰¹æ€§ï¼Œå¦å¤–ï¼ŒTokené©—è­‰ã€è·¯ç”±ä¿è­·ã€APIæ””æˆªå™¨ã€è³‡æ–™æ ¼å¼åŒ–Pipelineç­‰ç­‰ï¼Œä¹Ÿéƒ½æŠ½é›¢å‡ºä¾†å¯¦ä½œï¼Œå…¶ä¸­ï¼Œæ ¸å¿ƒçš„å•†æ¥­é‚è¼¯åˆ‡åˆ†åœ¨æˆ‘å€‘çš„Serviceæ¨¡çµ„ï¼Œèˆ‡ç•«é¢é‚è¼¯åˆ†é›¢ï¼Œå†è—‰ç”±ä¾è³´æ³¨å…¥è®“å„æ¨¡çµ„ä½¿ç”¨ï¼Œé€™æ¨£çš„è¨­è¨ˆï¼Œè®“æˆ‘å€‘çš„å°ˆæ¡ˆåœ¨æœªä¾†æ›´æ”¹èˆ‡ç¶­è­·æ“´å……æ™‚éå¸¸çœæ™‚èˆ‡çœåŠ›ã€‚</p>
<p>é€™è£¡ä¹Ÿæ˜¯æˆ‘ç¬¬ä¸€æ¬¡ä½¿ç”¨å‰ç«¯æ¡†æ¶ï¼Œä¾†å¯«ä¸€å€‹æ¯”è¼ƒå®Œæ•´çš„å°ˆæ¡ˆï¼Œç”±æ–¼æˆ‘æ˜¯å¾Œç«¯å‡ºèº«ï¼Œæ‰€ä»¥é¸æ“‡ä¸€å€‹è‡ªå·±å¯«èµ·ä¾†æœ€èˆ’æœçš„Angularæ¡†æ¶ï¼Œæœ‰ç¨®åœ¨å¯«å¾Œç«¯çš„è¦ªåˆ‡æ„ŸXDã€‚</p>
<p>å¾Œç«¯ä¸»è¦ç”±NodeJSå¯«æˆï¼Œè³‡æ–™åº«å‰‡ç‚ºMongoDBï¼Œä¸€æ¨£æ˜¯å°‡å„å€‹åŠŸèƒ½é€²è¡Œæ¨¡çµ„åŒ–çš„æ‹†åˆ†ï¼Œèˆ‡è³‡æ–™åº«ç´¢å¼•çš„å„ªåŒ–ã€‚</p>
<p>å¦å¤–WebServerçš„éƒ¨åˆ†å‰‡æ˜¯ç”±IISä»£ç†ï¼ŒåŠ ä¸ŠGitLab CI&#x2F;CD &amp; GitLab Runneråšåˆ°è‡ªå‹•åŒ–æ•´åˆèˆ‡éƒ¨å±¬çš„åŠŸèƒ½</p>
<style>
.video-container
{
    padding-top: 60% !important;
}
</style>]]></content>
      <categories>
        <category>å°ˆæ¡ˆ</category>
        <category>side project</category>
        <category>ä½œå“</category>
      </categories>
      <tags>
        <tag>å°ˆæ¡ˆ</tag>
        <tag>ä½œå“</tag>
        <tag>side project</tag>
      </tags>
  </entry>
</search>
